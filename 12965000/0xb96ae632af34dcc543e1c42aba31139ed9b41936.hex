60806040526004361061014b5760003560e01c80639010d07c116100b6578063cc5e4c451161006f578063cc5e4c4514610444578063d547741f14610464578063db6a366514610484578063def5e73714610497578063e17e9c49146104b7578063f7735f021461053457600080fd5b80639010d07c1461032957806391d1485414610349578063a217fddf14610369578063a89c8f4f1461037e578063c290d69114610411578063ca15c8731461042457600080fd5b8063500eddcb11610108578063500eddcb1461025257806354d5eac01461026557806355a373d6146102855780635c975abb146102aa57806377902d1d146102c25780638456cb591461031457600080fd5b806301ffc9a714610150578063248a9ca3146101855780632f2ff15d146101c357806336568abe146101e55780633f4ba83a146102055780634bba4f2f1461021a575b600080fd5b34801561015c57600080fd5b5061017061016b36600461216e565b610554565b60405190151581526020015b60405180910390f35b34801561019157600080fd5b506101b56101a0366004612106565b60009081526020819052604090206001015490565b60405190815260200161017c565b3480156101cf57600080fd5b506101e36101de36600461211e565b61057f565b005b3480156101f157600080fd5b506101e361020036600461211e565b6105a6565b34801561021157600080fd5b506101e36105c8565b34801561022657600080fd5b5060035461023a906001600160a01b031681565b6040516001600160a01b03909116815260200161017c565b6101e361026036600461226a565b61062e565b34801561027157600080fd5b506101e3610280366004612106565b610817565b34801561029157600080fd5b5060025461023a9061010090046001600160a01b031681565b3480156102b657600080fd5b5060025460ff16610170565b3480156102ce57600080fd5b506102fb6102dd366004612106565b60046020526000908152604090205460ff8082169161010090041682565b60408051921515835260ff90911660208301520161017c565b34801561032057600080fd5b506101e3610879565b34801561033557600080fd5b5061023a61034436600461214d565b6108d8565b34801561035557600080fd5b5061017061036436600461211e565b6108f7565b34801561037557600080fd5b506101b5600081565b34801561038a57600080fd5b506103d7610399366004612106565b60066020526000908152604090208054600182015460029092015460ff808316936001600160a01b0361010085041693600160a81b90049091169185565b6040805195151586526001600160a01b03909416602086015260ff909216928401929092526060830191909152608082015260a00161017c565b6101e361041f366004612106565b610920565b34801561043057600080fd5b506101b561043f366004612106565b611027565b34801561045057600080fd5b506101e361045f366004612196565b61103e565b34801561047057600080fd5b506101e361047f36600461211e565b6111b1565b6101e3610492366004612106565b6111bb565b3480156104a357600080fd5b506101e36104b2366004612232565b611636565b3480156104c357600080fd5b506105086104d2366004612106565b60056020526000908152604090208054600182015460029092015460ff808316936101009093046001600160a01b031692911684565b6040805194151585526001600160a01b039093166020850152918301521515606082015260800161017c565b34801561054057600080fd5b506101e361054f36600461209d565b61189d565b60006001600160e01b03198216635a05180f60e01b148061057957506105798261190f565b92915050565b6105898282611944565b60008281526001602052604090206105a190826118fa565b505050565b6105b0828261196a565b60008281526001602052604090206105a190826119e4565b6105d36000336108f7565b6106245760405162461bcd60e51b815260206004820152601f60248201527f6d75737420686176652061646d696e20726f6c6520746f20756e70617573650060448201526064015b60405180910390fd5b61062c6119f9565b565b6106396000336108f7565b6106555760405162461bcd60e51b815260040161061b906123b2565b600254604051633ea8929760e01b81526101009091046001600160a01b0316908190633ea892979061069190889088908890889060040161245a565b60006040518083038186803b1580156106a957600080fd5b505afa1580156106bd573d6000803e3d6000fd5b50505060008681526004602052604081208054600161ffff1990911661010060ff8a160217811782559092506106f69190830190611ff3565b6000805b848110156107b95785858281811061072257634e487b7160e01b600052603260045260246000fd5b905060400201602001602081019061073a91906122c4565b61074490836124ed565b600089815260046020526040902090925060010186868381811061077857634e487b7160e01b600052603260045260246000fd5b835460018101855560009485526020909420604090910292909201929190910190506107a48282612600565b505080806107b1906125af565b9150506106fa565b5060648160ff16111561080e5760405162461bcd60e51b815260206004820152601a60248201527f726f79616c746965732063616e6e6f74206265203e2031303025000000000000604482015260640161061b565b50505050505050565b60025460ff161561083a5760405162461bcd60e51b815260040161061b90612388565b6108456000336108f7565b6108615760405162461bcd60e51b815260040161061b906123b2565b6000908152600660205260409020805460ff19169055565b6108846000336108f7565b6108d05760405162461bcd60e51b815260206004820152601d60248201527f6d75737420686176652061646d696e20726f6c6520746f207061757365000000604482015260640161061b565b61062c611a8c565b60008281526001602052604081206108f09083611ae4565b9392505050565b6000918252602082815260408084206001600160a01b0393909316845291905290205460ff1690565b60025460ff16156109435760405162461bcd60e51b815260040161061b90612388565b6000818152600560205260409020805460ff1615156001146109a75760405162461bcd60e51b815260206004820152601e60248201527f53656c6c657220686173206e6f742061636365707465642061206269642e0000604482015260640161061b565b600281015460ff16156109f55760405162461bcd60e51b8152602060048201526016602482015275151a1a5cc8185d58dd1a5bdb881a185cc8195b99195960521b604482015260640161061b565b80546001600160a01b03610100909104163314610a545760405162461bcd60e51b815260206004820152601f60248201527f54686973206973206e6f74207468652077696e6e696e67206164647265737300604482015260640161061b565b80600101543414610a9e5760405162461bcd60e51b81526020600482015260146024820152730a0d8cac2e6ca40e6cadcc840dadee4ca40cae8d60631b604482015260640161061b565b6002546040516331a9108f60e11b8152600481018490526101009091046001600160a01b0316906000908290636352211e9060240160206040518083038186803b158015610aeb57600080fd5b505afa158015610aff573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610b239190612081565b83549091506001600160a01b03808316610100909204161415610b885760405162461bcd60e51b815260206004820152601760248201527f4f776e65722063616e206e6f742062652077696e6e6572000000000000000000604482015260640161061b565b60008481526004602052604081206001810154815491923492909190606090839060ff1615610cf457600186015492508267ffffffffffffffff811115610bdf57634e487b7160e01b600052604160045260246000fd5b604051908082528060200260200182016040528015610c08578160200160208202803683370190505b508654909250600090606490610c2690610100900460ff1634612532565b610c309190612512565b9150610c3c8287612551565b955060005b848160ff161015610ced576064886001018260ff1681548110610c7457634e487b7160e01b600052603260045260246000fd5b600091825260209091200154610c9490600160a01b900460ff1634612532565b610c9e9190612512565b9150610caa8288612551565b965081848260ff1681518110610cd057634e487b7160e01b600052603260045260246000fd5b602090810291909101015280610ce5816125ca565b915050610c41565b5050610d82565b60405163152a902d60e11b8152600481018b90523460248201526001600160a01b03891690632a55205a90604401604080518083038186803b158015610d3957600080fd5b505afa158015610d4d573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610d7191906120b9565b9450610d7f90508486612551565b94505b6040516331a9108f60e11b8152600481018b90526001600160a01b038916906342842e0e908290636352211e9060240160206040518083038186803b158015610dca57600080fd5b505afa158015610dde573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610e029190612081565b336040516001600160e01b031960e085901b1681526001600160a01b03928316600482015291166024820152604481018d9052606401600060405180830381600087803b158015610e5257600080fd5b505af1158015610e66573d6000803e3d6000fd5b50505060028a01805460ff1916600117905550855460ff1615610f8757855460ff191686556003546040516001600160a01b039091169082156108fc029083906000818181858888f19350505050158015610ec5573d6000803e3d6000fd5b5060005b838160ff161015610f8157866001018160ff1681548110610efa57634e487b7160e01b600052603260045260246000fd5b60009182526020909120015483516001600160a01b03909116906108fc90859060ff8516908110610f3b57634e487b7160e01b600052603260045260246000fd5b60200260200101519081150290604051600060405180830381858888f19350505050158015610f6e573d6000803e3d6000fd5b5080610f79816125ca565b915050610ec9565b50610fe4565b60405163b07cb36560e01b8152600481018b90526001600160a01b0389169063b07cb3659086906024016000604051808303818588803b158015610fca57600080fd5b505af1158015610fde573d6000803e3d6000fd5b50505050505b6040516001600160a01b0388169086156108fc029087906000818181858888f1935050505015801561101a573d6000803e3d6000fd5b5050505050505050505050565b600081815260016020526040812061057990611af0565b60025460ff16156110615760405162461bcd60e51b815260040161061b90612388565b61106c6000336108f7565b6110885760405162461bcd60e51b815260040161061b906123b2565b6000888152600660205260408120805460016001600160a81b03199091166101006001600160a01b038c16021781178255810188905560028101879055905b8481101561113457816003018686838181106110f357634e487b7160e01b600052603260045260246000fd5b8354600181018555600094855260209094206040909102929092019291909101905061111f8282612600565b5050808061112c906125af565b9150506110c7565b5060005b828110156111a5578160040184848381811061116457634e487b7160e01b600052603260045260246000fd5b835460018101855560009485526020909420604090910292909201929190910190506111908282612600565b5050808061119d906125af565b915050611138565b50505050505050505050565b6105b08282611afa565b60025460ff16156111de5760405162461bcd60e51b815260040161061b90612388565b600081815260066020526040908190206002548154925163e985e9c560e01b81526001600160a01b036101009485900481166004830152306024830152929390910490911690819063e985e9c59060440160206040518083038186803b15801561124757600080fd5b505afa15801561125b573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061127f91906120e6565b6112cb5760405162461bcd60e51b815260206004820152601d60248201527f417274697374206d75737420617070726f7665207472616e7366657273000000604482015260640161061b565b815460ff1615156001146113155760405162461bcd60e51b81526020600482015260116024820152701b5a5b9d1a5b99c81a5cc818db1bdcd959607a1b604482015260640161061b565b8160010154341461135f5760405162461bcd60e51b81526020600482015260146024820152730a0d8cac2e6ca40e6cadcc840dadee4ca40cae8d60631b604482015260640161061b565b60028201548254600160a81b900460ff16108061137e57506002820154155b6113ca5760405162461bcd60e51b815260206004820152601860248201527f6e6f206d6f72652070696563657320617661696c61626c650000000000000000604482015260640161061b565b815460019083906015906113e9908490600160a81b900460ff166124ed565b82546101009290920a60ff81810219909316918316021790915583546000925061141c91600160a81b90910416856124d5565b835460035460405163b6bb17c160e01b81529293506001600160a01b038086169363b6bb17c1936114619387936101009092048216929116906004808b0191016123e0565b600060405180830381600087803b15801561147b57600080fd5b505af115801561148f573d6000803e3d6000fd5b50508454604080516323b872dd60e01b81526101009092046001600160a01b03908116600484015233602484015260448301869052905190861693506323b872dd9250606480830192600092919082900301818387803b1580156114f257600080fd5b505af1158015611506573d6000803e3d6000fd5b5050505060008034905060005b600386015460ff821610156115fb576064866003018260ff168154811061154a57634e487b7160e01b600052603260045260246000fd5b60009182526020909120015461156a90600160a01b900460ff1634612532565b6115749190612512565b92506115808383612551565b9150856003018160ff16815481106115a857634e487b7160e01b600052603260045260246000fd5b60009182526020822001546040516001600160a01b039091169185156108fc02918691818181858888f193505050501580156115e8573d6000803e3d6000fd5b50806115f3816125ca565b915050611513565b506003546040516001600160a01b039091169082156108fc029083906000818181858888f1935050505015801561080e573d6000803e3d6000fd5b60025460ff16156116595760405162461bcd60e51b815260040161061b90612388565b6002546040516331a9108f60e11b8152600481018590526101009091046001600160a01b0316908190636352211e9060240160206040518083038186803b1580156116a357600080fd5b505afa1580156116b7573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906116db9190612081565b6001600160a01b0316336001600160a01b0316146117335760405162461bcd60e51b815260206004820152601560248201527414d95b99195c881b5d5cdd081bdddb88185cdcd95d605a1b604482015260640161061b565b6001600160a01b03811663e985e9c5336040516001600160e01b031960e084901b1681526001600160a01b03909116600482015230602482015260440160206040518083038186803b15801561178857600080fd5b505afa15801561179c573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906117c091906120e6565b61180c5760405162461bcd60e51b815260206004820152601d60248201527f53656c6c6572206d75737420617070726f7665207472616e7366657273000000604482015260640161061b565b506040805160808101825260018082526001600160a01b0393841660208084019182528385019687526000606085018181529881526005909152939093209151825493516001600160a81b0319909416901515610100600160a81b03191617610100939094169290920292909217825591519181019190915590516002909101805460ff1916911515919091179055565b6118a86000336108f7565b6118c45760405162461bcd60e51b815260040161061b906123b2565b600280546001600160a01b0390921661010002610100600160a81b0319909216919091179055565b6118f68282611b20565b5050565b60006108f0836001600160a01b038416611ba4565b60006001600160e01b03198216637965db0b60e01b148061057957506301ffc9a760e01b6001600160e01b0319831614610579565b6000828152602081905260409020600101546119608133611bf3565b6105a18383611b20565b6001600160a01b03811633146119da5760405162461bcd60e51b815260206004820152602f60248201527f416363657373436f6e74726f6c3a2063616e206f6e6c792072656e6f756e636560448201526e103937b632b9903337b91039b2b63360891b606482015260840161061b565b6118f68282611c57565b60006108f0836001600160a01b038416611cbc565b60025460ff16611a425760405162461bcd60e51b815260206004820152601460248201527314185d5cd8589b194e881b9bdd081c185d5cd95960621b604482015260640161061b565b6002805460ff191690557f5db9ee0a495bf2e6ff9c91a7834c1ba4fdd244a5e8aa4e537bd38aeae4b073aa335b6040516001600160a01b03909116815260200160405180910390a1565b60025460ff1615611aaf5760405162461bcd60e51b815260040161061b90612388565b6002805460ff191660011790557f62e78cea01bee320cd4e420270b5ea74000d11b0c9f74754ebdbfc544b05a258611a6f3390565b60006108f08383611dd9565b6000610579825490565b600082815260208190526040902060010154611b168133611bf3565b6105a18383611c57565b611b2a82826108f7565b6118f6576000828152602081815260408083206001600160a01b03851684529091529020805460ff19166001179055611b603390565b6001600160a01b0316816001600160a01b0316837f2f8788117e7eff1d82e926ec794901d17c78024a50270940304540a733656f0d60405160405180910390a45050565b6000818152600183016020526040812054611beb57508154600181810184556000848152602080822090930184905584548482528286019093526040902091909155610579565b506000610579565b611bfd82826108f7565b6118f657611c15816001600160a01b03166014611e11565b611c20836020611e11565b604051602001611c319291906122e0565b60408051601f198184030181529082905262461bcd60e51b825261061b91600401612355565b611c6182826108f7565b156118f6576000828152602081815260408083206001600160a01b0385168085529252808320805460ff1916905551339285917ff6391f5c32d9c69d2a47ea670b442974b53935d1edc7fd64eb21e047a839171b9190a45050565b60008181526001830160205260408120548015611dcf576000611ce0600183612551565b8554909150600090611cf490600190612551565b9050818114611d75576000866000018281548110611d2257634e487b7160e01b600052603260045260246000fd5b9060005260206000200154905080876000018481548110611d5357634e487b7160e01b600052603260045260246000fd5b6000918252602080832090910192909255918252600188019052604090208390555b8554869080611d9457634e487b7160e01b600052603160045260246000fd5b600190038181906000526020600020016000905590558560010160008681526020019081526020016000206000905560019350505050610579565b6000915050610579565b6000826000018281548110611dfe57634e487b7160e01b600052603260045260246000fd5b9060005260206000200154905092915050565b60606000611e20836002612532565b611e2b9060026124d5565b67ffffffffffffffff811115611e5157634e487b7160e01b600052604160045260246000fd5b6040519080825280601f01601f191660200182016040528015611e7b576020820181803683370190505b509050600360fc1b81600081518110611ea457634e487b7160e01b600052603260045260246000fd5b60200101906001600160f81b031916908160001a905350600f60fb1b81600181518110611ee157634e487b7160e01b600052603260045260246000fd5b60200101906001600160f81b031916908160001a9053506000611f05846002612532565b611f109060016124d5565b90505b6001811115611fa4576f181899199a1a9b1b9c1cb0b131b232b360811b85600f1660108110611f5257634e487b7160e01b600052603260045260246000fd5b1a60f81b828281518110611f7657634e487b7160e01b600052603260045260246000fd5b60200101906001600160f81b031916908160001a90535060049490941c93611f9d81612598565b9050611f13565b5083156108f05760405162461bcd60e51b815260206004820181905260248201527f537472696e67733a20686578206c656e67746820696e73756666696369656e74604482015260640161061b565b50805460008255906000526020600020908101906120119190612014565b50565b5b808211156120335780546001600160a81b0319168155600101612015565b5090565b60008083601f840112612048578182fd5b50813567ffffffffffffffff81111561205f578182fd5b6020830191508360208260061b850101111561207a57600080fd5b9250929050565b600060208284031215612092578081fd5b81516108f081612659565b6000602082840312156120ae578081fd5b81356108f081612659565b600080604083850312156120cb578081fd5b82516120d681612659565b6020939093015192949293505050565b6000602082840312156120f7578081fd5b815180151581146108f0578182fd5b600060208284031215612117578081fd5b5035919050565b60008060408385031215612130578182fd5b82359150602083013561214281612659565b809150509250929050565b6000806040838503121561215f578182fd5b50508035926020909101359150565b60006020828403121561217f578081fd5b81356001600160e01b0319811681146108f0578182fd5b60008060008060008060008060c0898b0312156121b1578384fd5b8835975060208901356121c381612659565b96506040890135955060608901359450608089013567ffffffffffffffff808211156121ed578586fd5b6121f98c838d01612037565b909650945060a08b0135915080821115612211578384fd5b5061221e8b828c01612037565b999c989b5096995094979396929594505050565b600080600060608486031215612246578283fd5b8335925060208401359150604084013561225f81612659565b809150509250925092565b6000806000806060858703121561227f578384fd5b8435935060208501356122918161266e565b9250604085013567ffffffffffffffff8111156122ac578283fd5b6122b887828801612037565b95989497509550505050565b6000602082840312156122d5578081fd5b81356108f08161266e565b7f416363657373436f6e74726f6c3a206163636f756e7420000000000000000000815260008351612318816017850160208801612568565b7001034b99036b4b9b9b4b733903937b6329607d1b6017918401918201528351612349816028840160208801612568565b01602801949350505050565b6020815260008251806020840152612374816040850160208701612568565b601f01601f19169190910160400192915050565b60208082526010908201526f14185d5cd8589b194e881c185d5cd95960821b604082015260600190565b6020808252601490820152736d75737420686176652061646d696e20726f6c6560601b604082015260600190565b600060808201868352602060018060a01b03808816828601526040818816818701526080606087015283875480865260a095508588019150888752848720875b828110156124485781548681168552881c60ff16878501529284019260019182019101612420565b50919c9b505050505050505050505050565b600060608201868352602060ff80881682860152604060608187015283878552608087019050889450855b888110156124c657853561249881612659565b6001600160a01b03168252858501356124b08161266e565b8416828601529482019490820190600101612485565b509a9950505050505050505050565b600082198211156124e8576124e86125ea565b500190565b600060ff821660ff84168060ff0382111561250a5761250a6125ea565b019392505050565b60008261252d57634e487b7160e01b81526012600452602481fd5b500490565b600081600019048311821515161561254c5761254c6125ea565b500290565b600082821015612563576125636125ea565b500390565b60005b8381101561258357818101518382015260200161256b565b83811115612592576000848401525b50505050565b6000816125a7576125a76125ea565b506000190190565b60006000198214156125c3576125c36125ea565b5060010190565b600060ff821660ff8114156125e1576125e16125ea565b60010192915050565b634e487b7160e01b600052601160045260246000fd5b813561260b81612659565b81546001600160a01b031981166001600160a01b0392909216918217835560208401356126378161266e565b6001600160a81b03199190911690911760a09190911b60ff60a01b1617905550565b6001600160a01b038116811461201157600080fd5b60ff8116811461201157600080fdfea26469706673582212205ec2c193701b5fd9bf6f81f55e99f52db74010def28c85670e20057493c036ae64736f6c63430008040033
