{"status":"1","message":"OK","result":[{"SourceCode":"pragma solidity ^0.5.0;\r\n\r\ncontract ERC20 {\r\n    function balanceOf(address holder) external view returns (uint256);\r\n}\r\n\r\n\r\ncontract IKyberNetwork {\r\n    function getExpectedRate(address src, address dest, uint srcQty) external view\r\n    returns (uint expectedRate, uint slippageRate);\r\n}\r\n\r\ncontract IOasisExchange {\r\n\r\n    function getBuyAmount(address buy_gem, address pay_gem, uint pay_amt) public view returns (uint fill_amt);\r\n}\r\n\r\ncontract ETHDAIPrice {\r\n    function getMedianPrice() external view returns(uint256) {\r\n\r\n        ERC20 dai = ERC20(0x89d24A6b4CcB1B6fAA2625fE562bDD9a23260359);\r\n        uint uniswapdaiBalance = dai.balanceOf(0x09cabEC1eAd1c0Ba254B09efb3EE13841712bE14);\r\n        uint ethtdai_uniswap = uniswapdaiBalance / 0x09cabEC1eAd1c0Ba254B09efb3EE13841712bE14.balance;\r\n        \r\n        IKyberNetwork kyber = IKyberNetwork(0x818E6FECD516Ecc3849DAf6845e3EC868087B755);\r\n        (uint ethdai_kyber, uint slippageRate) = kyber.getExpectedRate(0xEeeeeEeeeEeEeeEeEeEeeEEEeeeeEeeeeeeeEEeE, 0x89d24A6b4CcB1B6fAA2625fE562bDD9a23260359, 10);\r\n        \r\n        IOasisExchange oasis = IOasisExchange(0x39755357759cE0d7f32dC8dC45414CCa409AE24e);\r\n        uint ethdai_oasis = oasis.getBuyAmount(0x89d24A6b4CcB1B6fAA2625fE562bDD9a23260359, 0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2, 1000000000000000000);\r\n\r\n                \r\n        if (ethdai_kyber <= ethtdai_uniswap && ethtdai_uniswap <= ethdai_oasis || ethdai_kyber >= ethtdai_uniswap && ethtdai_uniswap >= ethdai_oasis) { return ethtdai_uniswap; }\r\n        if (ethtdai_uniswap <= ethdai_kyber && ethdai_kyber <= ethdai_oasis || ethtdai_uniswap >= ethdai_kyber && ethdai_kyber >= ethdai_oasis) { return ethdai_kyber; }\r\n        if (ethtdai_uniswap <= ethdai_oasis && ethdai_oasis <= ethdai_kyber || ethtdai_uniswap >= ethdai_oasis && ethdai_oasis >= ethdai_kyber) { return ethdai_oasis; }\r\n        \r\n    }\r\n}","ABI":"[{\"constant\":true,\"inputs\":[],\"name\":\"getMedianPrice\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"}]","ContractName":"ETHDAIPrice","CompilerVersion":"v0.5.11+commit.c082d0b4","OptimizationUsed":"1","Runs":"200","ConstructorArguments":"","Library":"","LicenseType":"None","SwarmSource":"bzzr://4c1746e08a39d3f3c252c6d77fe79b31d44f1e19a6844658fc25b4b0e4904a28"}]}