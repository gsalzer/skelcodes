{"status":"1","message":"OK","result":[{"SourceCode":"pragma solidity 0.5.7;\r\n\r\n\r\ninterface IERC20 {\r\n    function balanceOf(address account) external view returns (uint256);\r\n    function transfer(address recipient, uint256 amount) external returns (bool);\r\n}\r\n\r\ncontract Poll {\r\n    mapping (address => bool) public voted;\r\n}\r\n\r\ncontract Reward {\r\n    \r\n    Poll poll;\r\n    IERC20 dai;\r\n    address public sponsor;\r\n    mapping (address => bool) public claimed;\r\n    \r\n    uint public rewardAmount = 1e18; // 1 Dai\r\n    uint public endTime = block.timestamp + 7 days;\r\n    \r\n    \r\n    constructor() public {\r\n        poll = Poll(0x43FCedE3571C10aCa1d3C12339bF01423b118e81);\r\n        dai = IERC20(0x89d24A6b4CcB1B6fAA2625fE562bDD9a23260359);\r\n        sponsor = msg.sender;\r\n    }\r\n    \r\n    function claim() public {\r\n        require(poll.voted(msg.sender), \"Reward::claim: Only voters can claim reward\");\r\n        require(!claimed[msg.sender], \"Reward::claim: Already claimed\");\r\n        \r\n        claimed[msg.sender] = true;\r\n        dai.transfer(msg.sender, rewardAmount);\r\n    }\r\n    \r\n    function end() public {\r\n        require(block.timestamp > endTime, \"Reward::withdraw: Voting still active\");\r\n        \r\n        uint balance = dai.balanceOf(address(this));\r\n        dai.transfer(sponsor, balance);\r\n    }\r\n    \r\n}","ABI":"[{\"constant\":true,\"inputs\":[],\"name\":\"endTime\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[],\"name\":\"claim\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"sponsor\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"\",\"type\":\"address\"}],\"name\":\"claimed\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[],\"name\":\"end\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"rewardAmount\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"}]","ContractName":"Reward","CompilerVersion":"v0.5.7+commit.6da8b019","OptimizationUsed":"0","Runs":"200","ConstructorArguments":"","Library":"","SwarmSource":"bzzr://31748f65b5c9426853875c2485ab96658f496da43d10e3c354b5600b70c03c4d"}]}