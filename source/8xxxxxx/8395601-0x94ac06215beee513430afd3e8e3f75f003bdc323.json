{"status":"1","message":"OK","result":[{"SourceCode":"/**\r\n *Submitted for verification at Etherscan.io on 2017-09-13\r\n*/\r\n\r\npragma solidity ^0.4.11;\r\n\r\ncontract DGDb_Auction{\r\n    \r\n    Badge public badge_obj;\r\n    \r\n    address public beneficiary;\r\n    uint public expiry_date;\r\n    \r\n    address public highest_bidder;\r\n    uint public highest_bid;\r\n    mapping(address => uint) pending_returns;\r\n    \r\n    \r\n    function DGDb_Auction(address beneficiary_address, address badge_address, uint duration_in_days){\r\n        beneficiary = beneficiary_address;\r\n        badge_obj = Badge(badge_address);\r\n        expiry_date = now + duration_in_days * 1 days;\r\n    }\r\n    \r\n    // This function is called every time someone sends ether to this contract\r\n    function() payable {\r\n        require(now < (expiry_date));\r\n        require(msg.value > highest_bid);\r\n        \r\n        uint num_badges = badge_obj.balanceOf(this);\r\n        require(num_badges > 0);\r\n        \r\n        if (highest_bidder != 0) {\r\n            pending_returns[highest_bidder] += highest_bid;\r\n        }\r\n        \r\n        highest_bidder = msg.sender;\r\n        highest_bid = msg.value;\r\n    }\r\n    \r\n    // Bidders that have been outbid can call this to retrieve their ETH\r\n    function withdraw_ether() returns (bool) {\r\n        uint amount = pending_returns[msg.sender];\r\n        if (amount > 0) {\r\n            pending_returns[msg.sender] = 0;\r\n            if (!msg.sender.send(amount)) {\r\n                pending_returns[msg.sender] = amount;\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n    \r\n    // For winner (or creator if no bids) to retrieve badge\r\n    function withdraw_badge() {\r\n        require(now >= (expiry_date));\r\n        \r\n        uint num_badges = badge_obj.balanceOf(this);\r\n        \r\n        if (highest_bid > 0){\r\n            badge_obj.transfer(highest_bidder, num_badges);\r\n        } else {\r\n            badge_obj.transfer(beneficiary, num_badges);\r\n        }\r\n    }\r\n    \r\n    // For auction creator to retrieve ETH 1 day after auction ends\r\n    function end_auction() {\r\n        require(msg.sender == beneficiary);\r\n        require(now > (expiry_date + 1 days));\r\n        selfdestruct(beneficiary);\r\n    }\r\n}\r\n\r\ncontract Badge{\r\nfunction Badge();\r\nfunction approve(address _spender,uint256 _value)returns(bool success);\r\nfunction setOwner(address _owner)returns(bool success);\r\nfunction totalSupply()constant returns(uint256 );\r\nfunction transferFrom(address _from,address _to,uint256 _value)returns(bool success);\r\nfunction subtractSafely(uint256 a,uint256 b)returns(uint256 );\r\nfunction mint(address _owner,uint256 _amount)returns(bool success);\r\nfunction safeToAdd(uint256 a,uint256 b)returns(bool );\r\nfunction balanceOf(address _owner)constant returns(uint256 balance);\r\nfunction owner()constant returns(address );\r\nfunction transfer(address _to,uint256 _value)returns(bool success);\r\nfunction addSafely(uint256 a,uint256 b)returns(uint256 result);\r\nfunction locked()constant returns(bool );\r\nfunction allowance(address _owner,address _spender)constant returns(uint256 remaining);\r\nfunction safeToSubtract(uint256 a,uint256 b)returns(bool );\r\n}","ABI":"[{\"constant\":true,\"inputs\":[],\"name\":\"expiry_date\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"beneficiary\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"type\":\"function\"},{\"constant\":false,\"inputs\":[],\"name\":\"withdraw_ether\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"type\":\"function\"},{\"constant\":false,\"inputs\":[],\"name\":\"withdraw_badge\",\"outputs\":[],\"payable\":false,\"type\":\"function\"},{\"constant\":false,\"inputs\":[],\"name\":\"end_auction\",\"outputs\":[],\"payable\":false,\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"highest_bidder\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"badge_obj\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"highest_bid\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"type\":\"function\"},{\"inputs\":[{\"name\":\"beneficiary_address\",\"type\":\"address\"},{\"name\":\"badge_address\",\"type\":\"address\"},{\"name\":\"duration_in_days\",\"type\":\"uint256\"}],\"payable\":false,\"type\":\"constructor\"},{\"payable\":true,\"type\":\"fallback\"}]","ContractName":"DGDb_Auction","CompilerVersion":"v0.4.11+commit.68ef5810","OptimizationUsed":"0","Runs":"200","ConstructorArguments":"0000000000000000000000001a4680db969113f11b324ca06f1ff3783cc67b9c00000000000000000000000054bda709fed875224eae569bb6817d96ef7ed9ad0000000000000000000000000000000000000000000000000000000000000003","Library":"","SwarmSource":"bzzr://55684b745332129f485595a4bf11e677ccef856ab87707e542ab5ec91390ef8b"}]}