{"status":"1","message":"OK","result":[{"SourceCode":"pragma solidity ^0.5.11;\r\n\r\ninterface ERC20 {\r\n    function balanceOf(address _owner) external view returns (uint256);\r\n}\r\n\r\ninterface Factory {\r\n\tfunction getExchange(ERC20 _token) external view returns (Exchange);\r\n}\r\n\r\ninterface Exchange {\r\n\tfunction getEthToTokenInputPrice(uint256 _amount) external view returns (uint256);\r\n\tfunction getEthToTokenOutputPrice(uint256 _amount) external view returns (uint256);\r\n\tfunction getTokenToEthInputPrice(uint256 _amount) external view returns (uint256);\r\n\tfunction getTokenToEthOutputPrice(uint256 _amount) external view returns (uint256);\r\n}\r\n\r\ncontract UniswapPrice {\r\n\tFactory private factory = Factory(0xc0a47dFe034B400B47bDaD5FecDa2621de6c4d95);\r\n\r\n\tfunction getEthToTokenInputAmount(ERC20 _token, uint256 _amount) internal view returns (uint256) {\r\n\t\tExchange exchange = factory.getExchange(_token);\r\n\t\tuint256 amount = exchange.getEthToTokenInputPrice(_amount);\r\n\t\treturn amount;\r\n\t}\r\n\r\n\tfunction getEthToTokenOutputAmount(ERC20 _token, uint256 _amount) internal view returns (uint256) {\r\n\t\tExchange exchange = factory.getExchange(_token);\r\n\t\tif (_token.balanceOf(address(exchange)) < _amount) {\r\n\t\t\treturn 0;\r\n\t\t}\r\n\t\tuint256 amount = exchange.getEthToTokenOutputPrice(_amount);\r\n\t\treturn amount;\r\n\t}\r\n\r\n\tfunction getTokenToEthInputAmount(ERC20 _token, uint256 _amount) internal view returns (uint256) {\r\n\t\tExchange exchange = factory.getExchange(_token);\r\n\t\tuint256 amount = exchange.getTokenToEthInputPrice(_amount);\r\n\t\treturn amount;\r\n\t}\r\n\r\n\tfunction getTokenToEthOutputAmount(ERC20 _token, uint256 _amount) internal view returns (uint256) {\r\n\t\tExchange exchange = factory.getExchange(_token);\r\n\t\tif (address(exchange).balance < _amount) {\r\n\t\t\treturn 0;\r\n\t\t}\r\n\t\tuint256 amount = exchange.getTokenToEthOutputPrice(_amount);\r\n\t\treturn amount;\r\n\t}\r\n\r\n\tfunction getTokenToTokenInputAmount(ERC20 _from, ERC20 _to, uint256 _amount) internal view returns (uint256) {\r\n\t\tExchange fromExchange = factory.getExchange(_from);\r\n\t\tExchange toExchange = factory.getExchange(_to);\r\n\t\tuint256 ethAmount = fromExchange.getTokenToEthInputPrice(_amount);\r\n\t\tuint256 amount = toExchange.getEthToTokenInputPrice(ethAmount);\r\n\t\treturn amount;\r\n\t}\r\n\r\n\tfunction getTokenToTokenOutputAmount(ERC20 _from, ERC20 _to, uint256 _amount) internal view returns (uint256) {\r\n\t\tExchange fromExchange = factory.getExchange(_from);\r\n\t\tExchange toExchange = factory.getExchange(_to);\r\n\t\tif (_to.balanceOf(address(toExchange)) < _amount) {\r\n\t\t\treturn 0;\r\n\t\t}\r\n\t\tuint256 ethAmount = toExchange.getEthToTokenOutputPrice(_amount);\r\n\t\tif (address(fromExchange).balance < ethAmount) {\r\n\t\t\treturn 0;\r\n\t\t}\r\n\t\tuint256 amount = fromExchange.getTokenToEthOutputPrice(ethAmount);\r\n\t\treturn amount;\r\n\t}\r\n}\r\n\r\ncontract UniswapMultiPrice is UniswapPrice {\r\n\tfunction getEthToTokenInputAmounts(ERC20 _token, uint256 _amount) external view returns (uint256[100] memory _amounts) {\r\n\t\tfor (uint256 i = 0; i < 100; i++) {\r\n\t\t\t_amounts[i] = getEthToTokenInputAmount(_token, (i + 1) * _amount / 100);\r\n\t\t}\r\n\t}\r\n\r\n\tfunction getEthToTokenOutputAmounts(ERC20 _token, uint256 _amount) external view returns (uint256[100] memory _amounts) {\r\n\t\tfor (uint256 i = 0; i < 100; i++) {\r\n\t\t\t_amounts[i] = getEthToTokenOutputAmount(_token, (i + 1) * _amount / 100);\r\n\t\t}\r\n\t}\r\n\r\n\tfunction getTokenToEthInputAmounts(ERC20 _token, uint256 _amount) external view returns (uint256[100] memory _amounts) {\r\n\t\tfor (uint256 i = 0; i < 100; i++) {\r\n\t\t\t_amounts[i] = getTokenToEthInputAmount(_token, (i + 1) * _amount / 100);\r\n\t\t}\r\n\t}\r\n\r\n\tfunction getTokenToEthOutputAmounts(ERC20 _token, uint256 _amount) external view returns (uint256[100] memory _amounts) {\r\n\t\tfor (uint256 i = 0; i < 100; i++) {\r\n\t\t\t_amounts[i] = getTokenToEthOutputAmount(_token, (i + 1) * _amount / 100);\r\n\t\t}\r\n\t}\r\n\r\n\tfunction getTokenToTokenInputAmounts(ERC20 _from, ERC20 _to, uint256 _amount) external view returns (uint256[100] memory _amounts) {\r\n\t\tfor (uint256 i = 0; i < 100; i++) {\r\n\t\t\t_amounts[i] = getTokenToTokenInputAmount(_from, _to, (i + 1) * _amount / 100);\r\n\t\t}\r\n\t}\r\n\r\n\tfunction getTokenToTokenOutputAmounts(ERC20 _from, ERC20 _to, uint256 _amount) external view returns (uint256[100] memory _amounts) {\r\n\t\tfor (uint256 i = 0; i < 100; i++) {\r\n\t\t\t_amounts[i] = getTokenToTokenOutputAmount(_from, _to, (i + 1) * _amount / 100);\r\n\t\t}\r\n\t}\r\n}","ABI":"[{\"constant\":true,\"inputs\":[{\"internalType\":\"contract ERC20\",\"name\":\"_token\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"_amount\",\"type\":\"uint256\"}],\"name\":\"getTokenToEthOutputAmounts\",\"outputs\":[{\"internalType\":\"uint256[100]\",\"name\":\"_amounts\",\"type\":\"uint256[100]\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"internalType\":\"contract ERC20\",\"name\":\"_token\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"_amount\",\"type\":\"uint256\"}],\"name\":\"getEthToTokenInputAmounts\",\"outputs\":[{\"internalType\":\"uint256[100]\",\"name\":\"_amounts\",\"type\":\"uint256[100]\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"internalType\":\"contract ERC20\",\"name\":\"_token\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"_amount\",\"type\":\"uint256\"}],\"name\":\"getEthToTokenOutputAmounts\",\"outputs\":[{\"internalType\":\"uint256[100]\",\"name\":\"_amounts\",\"type\":\"uint256[100]\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"internalType\":\"contract ERC20\",\"name\":\"_token\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"_amount\",\"type\":\"uint256\"}],\"name\":\"getTokenToEthInputAmounts\",\"outputs\":[{\"internalType\":\"uint256[100]\",\"name\":\"_amounts\",\"type\":\"uint256[100]\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"internalType\":\"contract ERC20\",\"name\":\"_from\",\"type\":\"address\"},{\"internalType\":\"contract ERC20\",\"name\":\"_to\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"_amount\",\"type\":\"uint256\"}],\"name\":\"getTokenToTokenOutputAmounts\",\"outputs\":[{\"internalType\":\"uint256[100]\",\"name\":\"_amounts\",\"type\":\"uint256[100]\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"internalType\":\"contract ERC20\",\"name\":\"_from\",\"type\":\"address\"},{\"internalType\":\"contract ERC20\",\"name\":\"_to\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"_amount\",\"type\":\"uint256\"}],\"name\":\"getTokenToTokenInputAmounts\",\"outputs\":[{\"internalType\":\"uint256[100]\",\"name\":\"_amounts\",\"type\":\"uint256[100]\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"}]","ContractName":"UniswapMultiPrice","CompilerVersion":"v0.5.11+commit.c082d0b4","OptimizationUsed":"0","Runs":"200","ConstructorArguments":"","Library":"","LicenseType":"MIT","SwarmSource":"bzzr://6513a19a2053f0ca65b960bb55e38a15b7df41a601220b761b0f3458bc7da504"}]}