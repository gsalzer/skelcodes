{"status":"1","message":"OK","result":[{"SourceCode":"/**\r\n *Submitted for verification at Etherscan.io on 2019-09-12\r\n*/\r\n\r\npragma solidity 0.4.24;\r\n\r\ncontract Bank {\r\n    \r\n    mapping (address => bool) whitelist;\r\n    mapping (address => uint256) allowance;\r\n    uint256 amount;\r\n    address owner;\r\n    \r\n    event Winner(address);\r\n    \r\n    constructor() public {\r\n        owner = msg.sender;\r\n        whitelist[msg.sender] = true;\r\n        amount = 20 wei * (10**9);\r\n    }\r\n    \r\n    function bet() public payable {\r\n        require(msg.value == amount);\r\n        require(whitelist[msg.sender]);\r\n        if (uint256(blockhash(block.number)) % 2 == 0) {\r\n            // the user wins, but we take 10 wei comission\r\n            allowance[msg.sender] = allowance[msg.sender] + (msg.value + msg.value - 5 wei * (10**9));\r\n            allowance[owner] = allowance[owner] + 5 wei * (10**9);\r\n            emit Winner(msg.sender);\r\n        } else {\r\n            // no win balance stays in the contract, we still take comission\r\n            allowance[owner] = allowance[owner] + 5 wei * (10**9);\r\n        }\r\n    }\r\n    \r\n    function withdraw() public {\r\n        require(whitelist[msg.sender]);\r\n        require(allowance[msg.sender] > 0);\r\n        msg.sender.call.value(allowance[msg.sender]);\r\n        allowance[msg.sender] = 0;\r\n    }\r\n    \r\n    function withdrawByOwner() public {\r\n        require(msg.sender == owner);\r\n        msg.sender.call.value(allowance[msg.sender]);\r\n        allowance[msg.sender] = 0;\r\n    }\r\n    \r\n    function allow(address who) public {\r\n        require(msg.sender == owner);\r\n        whitelist[who] = true;\r\n    }\r\n    \r\n    function disallow(address who) public {\r\n        require(msg.sender == owner);\r\n        whitelist[who] = false;\r\n    }\r\n    \r\n    function() public payable {\r\n    }\r\n    \r\n}","ABI":"[{\"constant\":false,\"inputs\":[],\"name\":\"withdrawByOwner\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[],\"name\":\"bet\",\"outputs\":[],\"payable\":true,\"stateMutability\":\"payable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[],\"name\":\"withdraw\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"who\",\"type\":\"address\"}],\"name\":\"disallow\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"who\",\"type\":\"address\"}],\"name\":\"allow\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"payable\":true,\"stateMutability\":\"payable\",\"type\":\"fallback\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"name\":\"\",\"type\":\"address\"}],\"name\":\"Winner\",\"type\":\"event\"}]","ContractName":"Bank","CompilerVersion":"v0.4.24+commit.e67f0147","OptimizationUsed":"0","Runs":"200","ConstructorArguments":"","Library":"","LicenseType":"None","SwarmSource":"bzzr://389aaba3d12b834fc33e29ff686b09dd91cac8fdbbe5a1fae393b692f76c8111"}]}