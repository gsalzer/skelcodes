{"status":"1","message":"OK","result":[{"SourceCode":"pragma solidity ^0.5.10;\r\n\r\n\r\ncontract LESProxy {\r\n    \r\n    mapping(address => bool) public soci;\r\n    address[] public sociIndex;\r\n    uint public numeroSoci;\r\n    \r\n    struct Statuto {\r\n        address _address;\r\n        uint networkId;\r\n        uint votes;\r\n        mapping(address => bool) votedBy;\r\n        uint _index;\r\n    }\r\n    \r\n    mapping(uint => Statuto) public statuti;\r\n    uint numeroStatuti;\r\n    \r\n    mapping (uint => mapping(address => Statuto)) statutiDaVotare;\r\n    \r\n    address socio1 = 0x61E279Dc78D66bB722E054bE5233381f4e3a6fF5;\r\n    address socio2 = 0x5Eb37c43333F05aB3ad99183Dcf4669022571454;\r\n    address socio3 = 0xe6029C5f7C93f1A261EC4e720DE9E7b29Cdc09a9;\r\n    address socio4 = 0xC537a9453ea1A93EE31175ED7AD31d82B12F9912;\r\n    address socio5 = 0x07bc5B5Fd8e856C44A68D46B2050c02A89deb2b4;\r\n    \r\n    address owner;\r\n    \r\n    event NuovoStatuto(address _address, uint256 _networkId);\r\n    \r\n    constructor () public {\r\n        owner = msg.sender;\r\n        aggiungiSocio(socio1);\r\n        aggiungiSocio(socio2);\r\n        aggiungiSocio(socio3);\r\n        aggiungiSocio(socio4);\r\n        aggiungiSocio(socio5);\r\n        \r\n    }\r\n    \r\n    function close() public {\r\n        require(msg.sender==owner);\r\n        selfdestruct(msg.sender);\r\n    }\r\n    \r\n    function aggiungiSocio(address _address) internal {\r\n        require(!soci[_address], \"Già socio\");\r\n        soci[_address] = true;\r\n        sociIndex.push(_address);\r\n        numeroSoci++;\r\n    }\r\n    \r\n    function votaNuovoStatuto (address _address, uint networkId) public {\r\n        require(soci[msg.sender], \"Solo i soci possono votare\");\r\n        require(!statutiDaVotare[networkId][_address].votedBy[msg.sender], \"Hai già votato\");\r\n        statutiDaVotare[networkId][_address].votedBy[msg.sender] = true;\r\n        statutiDaVotare[networkId][_address].votes++;\r\n        if (statutiDaVotare[networkId][_address].votes == numeroSoci) {\r\n            statuti[numeroStatuti] = statutiDaVotare[networkId][_address];\r\n            statuti[numeroStatuti]._index = numeroStatuti;\r\n            statuti[numeroStatuti]._address = _address;\r\n            statuti[numeroStatuti].networkId = networkId;\r\n            numeroStatuti++;\r\n            emit NuovoStatuto(_address, networkId);\r\n        }\r\n    }\r\n    \r\n    function statuto() public view returns (address _address, uint networkId) {\r\n        require(numeroStatuti>0);\r\n        return(statuti[numeroStatuti-1]._address, statuti[numeroStatuti-1].networkId);\r\n    }\r\n}","ABI":"[{\"constant\":true,\"inputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"statuti\",\"outputs\":[{\"name\":\"_address\",\"type\":\"address\"},{\"name\":\"networkId\",\"type\":\"uint256\"},{\"name\":\"votes\",\"type\":\"uint256\"},{\"name\":\"_index\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"\",\"type\":\"address\"}],\"name\":\"soci\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"statuto\",\"outputs\":[{\"name\":\"_address\",\"type\":\"address\"},{\"name\":\"networkId\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"sociIndex\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[],\"name\":\"close\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_address\",\"type\":\"address\"},{\"name\":\"networkId\",\"type\":\"uint256\"}],\"name\":\"votaNuovoStatuto\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"numeroSoci\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"name\":\"_address\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"_networkId\",\"type\":\"uint256\"}],\"name\":\"NuovoStatuto\",\"type\":\"event\"}]","ContractName":"LESProxy","CompilerVersion":"v0.5.10+commit.5a6ea5b1","OptimizationUsed":"1","Runs":"200","ConstructorArguments":"","Library":"","SwarmSource":"bzzr://e14e45bef9eb1da85eb811a70d70831b2f9a8f807995dcbbe7bc01b57a068577"}]}