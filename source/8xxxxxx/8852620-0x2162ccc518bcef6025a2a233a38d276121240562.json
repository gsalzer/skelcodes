{"status":"1","message":"OK","result":[{"SourceCode":"pragma solidity ^0.5.4;\r\ninterface IERC20 {\r\n    function balanceOf(address _owner) external view returns (uint);\r\n}\r\n\r\ncontract Voter {\r\n    IERC20 public token;\r\n    mapping (address => uint256) public isVote;\r\n    uint256 public endTime;\r\n    address[] optionA;\r\n    address[] optionB;\r\n    \r\n    constructor (address _token) public {\r\n        token = IERC20(_token);\r\n        endTime = 1573084800;\r\n    }\r\n    \r\n    function vote(uint256 _option) external {\r\n        require(_option - 1  < 2, \"not a valid option\");\r\n        require(isVote[msg.sender] == 0, \"is vote already\");\r\n        require(token.balanceOf(msg.sender) != 0, \"you have no avaliable token\");\r\n        require(now < endTime, \"invalid time\");\r\n        if (_option == 1) {\r\n            isVote[msg.sender] = 1;\r\n            optionA.push(msg.sender);\r\n        } else {\r\n            isVote[msg.sender] = 2;\r\n            optionB.push(msg.sender);\r\n        }\r\n    }\r\n    \r\n    function getTotalVote(uint256 _option) external view returns (uint256 result) {\r\n        require(_option - 1< 2, \"not a valid option\");\r\n        uint256 length;\r\n        uint256 i;\r\n        if (_option == 1) {\r\n            length = optionA.length;\r\n            for (i = 0; i < length; ++i) {\r\n                result += token.balanceOf(optionA[i]);\r\n            }\r\n        } else {\r\n            length = optionB.length;\r\n            for (i = 0; i < length; ++i) {\r\n                result += token.balanceOf(optionB[i]);\r\n            }\r\n        }\r\n    }\r\n}","ABI":"[{\"constant\":false,\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_option\",\"type\":\"uint256\"}],\"name\":\"vote\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"name\":\"isVote\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"endTime\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_option\",\"type\":\"uint256\"}],\"name\":\"getTotalVote\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"result\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"token\",\"outputs\":[{\"internalType\":\"contract IERC20\",\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_token\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"}]","ContractName":"Voter","CompilerVersion":"v0.5.11+commit.c082d0b4","OptimizationUsed":"0","Runs":"200","ConstructorArguments":"000000000000000000000000431ad2ff6a9c365805ebad47ee021148d6f7dbe0","Library":"","LicenseType":"None","SwarmSource":"bzzr://0b39ce1b9bd0ce91e93b1c657d62c34341d60e1c69f5d664679024e2cf826abb"}]}