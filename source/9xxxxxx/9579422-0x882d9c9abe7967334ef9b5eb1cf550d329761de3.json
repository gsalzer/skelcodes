{"status":"1","message":"OK","result":[{"SourceCode":"pragma solidity ^0.5.0;\r\n\r\ninterface ERC721 \r\n{\r\n    function ownerOf(uint256 _tokenId) external view returns (address owner);\r\n}\r\n\r\ninterface Word \r\n{\r\n    function getWord(uint256 id) external view returns (string memory word);\r\n}\r\n\r\ncontract Naming\r\n{\r\n    struct Name\r\n    {\r\n        uint word_id;\r\n        uint schema;\r\n    }\r\n    \r\n    mapping(address => mapping(uint => Name)) names;\r\n    \r\n    address owner;\r\n    \r\n    address wordContractAddress = 0xAc1AEe5027FCC98d40a26588aC0841a44f53A8Fe;\r\n    \r\n    constructor() public\r\n    {\r\n        owner = msg.sender;\r\n    }\r\n    \r\n    function setOwner(address newOwner) public\r\n    {\r\n        require(msg.sender == owner, \"Should be owner to change that\");\r\n        owner = newOwner;\r\n    }\r\n    \r\n    function setWordContractAddress(address newContractAddress) public\r\n    {\r\n        require(msg.sender == owner, \"Should be owner to change that\");\r\n        wordContractAddress = newContractAddress;\r\n    }\r\n    \r\n    function set(address tokenContract, uint tokenId, uint wordId, uint schema) public \r\n    {\r\n        ERC721 wordContract = ERC721(wordContractAddress);\r\n        ERC721 givenContract = ERC721(tokenContract);\r\n        \r\n        require(msg.sender == wordContract.ownerOf(wordId), \"You have to own the word\");\r\n        require(msg.sender == givenContract.ownerOf(tokenId), \"You have to own the token\");\r\n        \r\n        names[tokenContract][tokenId] = Name(wordId, schema);\r\n    }\r\n    \r\n    function get(address tokenContract, uint tokenId) public view returns(string memory name, uint schema)\r\n    {\r\n        Word wordContract = Word(wordContractAddress);\r\n        Name memory naming = names[tokenContract][tokenId];\r\n        \r\n        name = wordContract.getWord(naming.word_id);\r\n        schema = naming.schema;\r\n    }\r\n}","ABI":"[{\"inputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"constant\":true,\"inputs\":[{\"internalType\":\"address\",\"name\":\"tokenContract\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"tokenId\",\"type\":\"uint256\"}],\"name\":\"get\",\"outputs\":[{\"internalType\":\"string\",\"name\":\"name\",\"type\":\"string\"},{\"internalType\":\"uint256\",\"name\":\"schema\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"internalType\":\"address\",\"name\":\"tokenContract\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"tokenId\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"wordId\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"schema\",\"type\":\"uint256\"}],\"name\":\"set\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"internalType\":\"address\",\"name\":\"newOwner\",\"type\":\"address\"}],\"name\":\"setOwner\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"internalType\":\"address\",\"name\":\"newContractAddress\",\"type\":\"address\"}],\"name\":\"setWordContractAddress\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"}]","ContractName":"Naming","CompilerVersion":"v0.5.16+commit.9c3226ce","OptimizationUsed":"0","Runs":"200","ConstructorArguments":"","Library":"","LicenseType":"None","SwarmSource":"bzzr://8e2e3705cc4b16b88fd089b4eaa3d4f2c502481f6909ed9cd59020bc014ed165"}]}