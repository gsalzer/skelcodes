{"status":"1","message":"OK","result":[{"SourceCode":"pragma solidity ^0.5.6;\r\n\r\n\r\ninterface IERC20 {\r\n    function transfer(address to, uint256 value) external returns (bool);\r\n    function balanceOf(address who) external view returns (uint256);\r\n}\r\n\r\ncontract Escrow {\r\n\r\n    address payable public tokenRecipient;\r\n    address payable public ethRecipient;\r\n    uint256 public tokenAmount;\r\n    uint256 public ethAmount;\r\n    uint public withdrawalDate;\r\n    bool public isReleased = false;\r\n    IERC20 mbn;\r\n\r\n    constructor(\r\n        address payable _tokenRecipient,\r\n        address payable _ethRecipient,\r\n        uint256 _tokenAmount,\r\n        uint256 _ethAmount,\r\n        address tokenAddress\r\n    )\r\n    public {\r\n        tokenRecipient = _tokenRecipient;\r\n        ethRecipient = _ethRecipient;\r\n        tokenAmount = _tokenAmount;\r\n        ethAmount = _ethAmount;\r\n        withdrawalDate = now + 6 hours;\r\n        mbn = IERC20(tokenAddress);\r\n    }\r\n\r\n    function() external payable {}\r\n\r\n    function withdraw() public {\r\n        if (!isReleased) {\r\n            require(now > withdrawalDate, \"escrow is locked\");\r\n        }\r\n\r\n        uint256 ethOnContract = address(this).balance;\r\n        uint256 tokenOnContract = mbn.balanceOf(address(this));\r\n        if (ethOnContract > 0) {\r\n            tokenRecipient.transfer(ethOnContract);\r\n        }\r\n        if (tokenOnContract > 0) {\r\n            mbn.transfer(ethRecipient, tokenOnContract);\r\n        }\r\n\r\n    }\r\n\r\n    function release() public {\r\n        require(address(this).balance >= ethAmount, \"not enough ether\");\r\n        require(mbn.balanceOf(address(this)) >= tokenAmount, \"not enough tokens\");\r\n        mbn.transfer(tokenRecipient, tokenAmount);\r\n        ethRecipient.transfer(ethAmount);\r\n        isReleased = true;\r\n    }\r\n}","ABI":"[{\"constant\":false,\"inputs\":[],\"name\":\"withdraw\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"ethRecipient\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"tokenRecipient\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"withdrawalDate\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[],\"name\":\"release\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"ethAmount\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"tokenAmount\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"isReleased\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"name\":\"_tokenRecipient\",\"type\":\"address\"},{\"name\":\"_ethRecipient\",\"type\":\"address\"},{\"name\":\"_tokenAmount\",\"type\":\"uint256\"},{\"name\":\"_ethAmount\",\"type\":\"uint256\"},{\"name\":\"tokenAddress\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"payable\":true,\"stateMutability\":\"payable\",\"type\":\"fallback\"}]","ContractName":"Escrow","CompilerVersion":"v0.5.6+commit.b259423e","OptimizationUsed":"1","Runs":"200","ConstructorArguments":"000000000000000000000000465f3f0e473cecc95518c120fe29c2da44bc7b010000000000000000000000001a4e641b2ba7ceac062d0c5545de7067d4c94bf900000000000000000000000000000000000000000000003635c9adc5dea00000000000000000000000000000000000000000000000000000016345785d8a00000000000000000000000000004eeea7b48b9c3ac8f70a9c932a8b1e8a5cb624c7","Library":"","LicenseType":"None","SwarmSource":"bzzr://ad2dde14403c5ea27140f4ec2950a524f50725af0c143f5d659cfef172580194"}]}