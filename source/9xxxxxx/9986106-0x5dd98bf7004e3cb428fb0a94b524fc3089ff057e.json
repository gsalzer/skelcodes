{"status":"1","message":"OK","result":[{"SourceCode":"pragma solidity ^0.6.3;\r\ninterface tokenRecipient {\r\n    function receiveApproval(address _from, uint256 _value, address _token, bytes calldata _extraData) external;\r\n}\r\ncontract ERC20 {\r\n    mapping (address => uint256) public balanceOf;\r\n    mapping (address => mapping (address => uint256)) public allowance;\r\n    event Transfer(address indexed from, address indexed to, uint256 value);\r\n    event Approval(address indexed _owner, address indexed _spender, uint256 _value);\r\n    event Burn(address indexed from, uint256 value);\r\n\r\n\r\n    function _transfer(address _from, address _to, uint _value) internal {\r\n        require(_to != address(0x0));\r\n        require(balanceOf[_from] >= _value);\r\n        require(balanceOf[_to] + _value >= balanceOf[_to]);\r\n        uint previousBalances = balanceOf[_from] + balanceOf[_to];\r\n        balanceOf[_from] -= _value;\r\n        balanceOf[_to] += _value;\r\n        emit Transfer(_from, _to, _value);\r\n        assert(balanceOf[_from] + balanceOf[_to] == previousBalances);\r\n    }\r\n\r\n    function transfer(address _to, uint256 _value) public returns (bool success) {\r\n        _transfer(msg.sender, _to, _value);\r\n        return true;\r\n    }\r\n\r\n    function transferFrom(address _from, address _to, uint256 _value) public returns (bool success) {\r\n        require(_value <= allowance[_from][msg.sender]);     // Check allowance\r\n        allowance[_from][msg.sender] -= _value;\r\n        _transfer(_from, _to, _value);\r\n        return true;\r\n    }\r\n\r\n    function approve(address _spender, uint256 _value) public\r\n        returns (bool success) {\r\n        allowance[msg.sender][_spender] = _value;\r\n        emit Approval(msg.sender, _spender, _value);\r\n        return true;\r\n    }\r\n\r\n    function approveAndCall(address _spender, uint256 _value, bytes memory _extraData)\r\n        public\r\n        returns (bool success) {\r\n        tokenRecipient spender = tokenRecipient(_spender);\r\n        if (approve(_spender, _value)) {\r\n            spender.receiveApproval(msg.sender, _value, address(this), _extraData);\r\n            return true;\r\n        }\r\n    }\r\n}\r\n\r\n\r\n\r\ncontract decentstore {\r\n   address creator;\r\n   address erush = 0x6EA53dfc58C5cbf68a799EdD208cb3A905db5939;\r\n   mapping (string => uint256 ) public balances;\r\n   uint256 public listprice = 1;\r\n   event NewProduct(address indexed from, string value);\r\n   constructor() public { creator = msg.sender; }\r\n\r\n    struct pds {\r\n       uint256 _ltime;\r\n       address _lister;\r\n       string _phead;\r\n       string _pimage;\r\n       uint256 _pprice;\r\n       string _pexplain;\r\n   }\r\n   mapping(uint256 => pds) plist;\r\n   uint256[] private indexList;\r\n\r\n\r\n    function listproduct(uint256 tokens, string memory _phead, string memory _pimage, uint256 _pprice, string memory _pexplain )  public {\r\n      require(ERC20(erush).balanceOf(msg.sender) >= listprice);\r\n      require(tokens >= listprice);\r\n      \r\n      ERC20(erush).transferFrom(msg.sender, address(this), tokens);\r\n      plist[indexList.length]._ltime = now;\r\n      plist[indexList.length]._lister = msg.sender;\r\n      plist[indexList.length]._phead = _phead;\r\n      plist[indexList.length]._pimage = _pimage;\r\n      plist[indexList.length]._pprice = _pprice;\r\n      plist[indexList.length]._pexplain = _pexplain;\r\n      indexList.push(indexList.length+1);\r\n      emit NewProduct(msg.sender, _phead);\r\n     \r\n      \r\n      \r\n      \r\n   }\r\n   \r\n    function plister(uint256 _index) view public returns(uint256, address, string memory, string memory, uint256, string memory) {\r\n       uint256 _ltimex = plist[_index]._ltime;\r\n       address _lister = plist[_index]._lister;\r\n       string memory _phead = plist[_index]._phead;\r\n       string memory _pimage = plist[_index]._pimage;\r\n       uint256 _pprice = plist[_index]._pprice;\r\n       string memory _pexplain = plist[_index]._pexplain;\r\n       if(plist[_index]._ltime == 0){\r\n            return (0, msg.sender, \"0\",\"0\", 0, \"0\");\r\n       }else {\r\n            return (_ltimex, _lister,_phead, _pimage, _pprice, _pexplain);\r\n       }\r\n   }\r\n   \r\n   function pcount() view public returns (uint256) {\r\n       return indexList.length;\r\n   }\r\n   \r\n   function changeListingprice(uint256 newprice) public{\r\n        require(msg.sender == creator);   // Check if the sender is manager\r\n        listprice = newprice;\r\n         \r\n    }\r\n    \r\n     function transferOwnership(address newOwner) public{\r\n        require(msg.sender == creator);   // Check if the sender is manager\r\n        if (newOwner != address(0)) {\r\n            creator = newOwner;\r\n        }\r\n    }\r\n    \r\n     function awithdrawal(uint tokens)  public {\r\n          require(msg.sender == creator); \r\n          ERC20(erush).transfer(creator, tokens);\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n}","ABI":"[{\"inputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"from\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"string\",\"name\":\"value\",\"type\":\"string\"}],\"name\":\"NewProduct\",\"type\":\"event\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"tokens\",\"type\":\"uint256\"}],\"name\":\"awithdrawal\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"string\",\"name\":\"\",\"type\":\"string\"}],\"name\":\"balances\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"newprice\",\"type\":\"uint256\"}],\"name\":\"changeListingprice\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"listprice\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"tokens\",\"type\":\"uint256\"},{\"internalType\":\"string\",\"name\":\"_phead\",\"type\":\"string\"},{\"internalType\":\"string\",\"name\":\"_pimage\",\"type\":\"string\"},{\"internalType\":\"uint256\",\"name\":\"_pprice\",\"type\":\"uint256\"},{\"internalType\":\"string\",\"name\":\"_pexplain\",\"type\":\"string\"}],\"name\":\"listproduct\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"pcount\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_index\",\"type\":\"uint256\"}],\"name\":\"plister\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"},{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"},{\"internalType\":\"string\",\"name\":\"\",\"type\":\"string\"},{\"internalType\":\"string\",\"name\":\"\",\"type\":\"string\"},{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"},{\"internalType\":\"string\",\"name\":\"\",\"type\":\"string\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"newOwner\",\"type\":\"address\"}],\"name\":\"transferOwnership\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"}]","ContractName":"decentstore","CompilerVersion":"v0.6.6+commit.6c089d02","OptimizationUsed":"0","Runs":"200","ConstructorArguments":"","Library":"","LicenseType":"None","SwarmSource":"ipfs://43766361dfff1151520e7108e1e914df9316e0b527d40d20d96c0d16e165557b"}]}