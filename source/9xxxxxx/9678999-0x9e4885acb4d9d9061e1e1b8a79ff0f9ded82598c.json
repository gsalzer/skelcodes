{"status":"1","message":"OK","result":[{"SourceCode":"pragma solidity ^0.5.0;\r\n\r\ninterface ArtInterface {\r\n    function ownerOf(uint256 _artId) external view returns (address); \r\n    function safeTransferFrom(address _from, address _to, uint _artId) external;\r\n}\r\n\r\ninterface CVInterface {\r\n    function safeTransferFrom(address _from, address _to, uint _parcelId) external;\r\n    function ownerOf(uint256 _parcelId) external view returns (address);\r\n}\r\n\r\npragma solidity ^0.5.0;\r\n\r\ncontract InstantBuy {\r\n\r\n    ArtInterface public artContract;\r\n    CVInterface public cvContract;\r\n    \r\n    string contractName = \"Instant Buy\";\r\n  \r\n    address payable public owner;\r\n    uint256 public priceInWei;\r\n    bool public contractActive;\r\n    \r\n    uint[] public artworks;\r\n    uint public artworksTotal;\r\n    \r\n    uint public parcel;\r\n    \r\n    \r\n    constructor(uint256 initialPriceInWei, address _artContract) public {\r\n        \r\n        artContract = ArtInterface(_artContract);\r\n        cvContract = CVInterface(0x79986aF15539de2db9A5086382daEdA917A9CF0C);\r\n        owner = msg.sender;\r\n        priceInWei = initialPriceInWei;\r\n        artworksTotal=0;\r\n        contractActive=true;\r\n       \r\n    }\r\n\r\n    function() external payable {\r\n        require(msg.value==priceInWei);\r\n        require(contractActive==true);\r\n        for (uint i=0; i<artworksTotal; i++){\r\n            artContract.safeTransferFrom(address(this), msg.sender, artworks[i]);\r\n        }\r\n        \r\n        owner.transfer(msg.value);\r\n        if (parcel != 0){\r\n        cvContract.safeTransferFrom(address(this), owner, parcel);\r\n        }\r\n        contractActive=false;\r\n        \r\n    }\r\n    \r\n    function transferArt(address _to, uint256 _artId) public returns (bool){\r\n        require(msg.sender==owner);\r\n        artContract.safeTransferFrom(address(this), _to, _artId);\r\n        return true;\r\n    }\r\n    \r\n    function transferParcel(address _to, uint _parcelID) public returns (bool){\r\n        require (msg.sender==owner);\r\n        cvContract.safeTransferFrom(address(this), _to, _parcelID);\r\n        return true;\r\n    }\r\n    \r\n    function registerArt(uint256 _artId) public returns (bool){\r\n        require(msg.sender==owner);\r\n        require(address(this)==artContract.ownerOf(_artId));\r\n        artworks.push(_artId);\r\n        artworksTotal++;\r\n        return true;\r\n    }\r\n    \r\n    function registerParcel(uint256 _parcelId) public returns (bool){\r\n        require (msg.sender==owner);\r\n        require(address(this)==cvContract.ownerOf(_parcelId));\r\n        parcel = _parcelId;\r\n        return true;\r\n    }\r\n    \r\n    \r\n    function setPrice (uint _priceInWei) public returns (bool){\r\n        require(msg.sender==owner);\r\n        priceInWei = _priceInWei;\r\n        return true;\r\n    }\r\n    \r\n    \r\n}","ABI":"[{\"constant\":true,\"inputs\":[],\"name\":\"priceInWei\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"artworks\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"artContract\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"cvContract\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"owner\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_priceInWei\",\"type\":\"uint256\"}],\"name\":\"setPrice\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_parcelId\",\"type\":\"uint256\"}],\"name\":\"registerParcel\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_artId\",\"type\":\"uint256\"}],\"name\":\"registerArt\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"artworksTotal\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"parcel\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"contractActive\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_to\",\"type\":\"address\"},{\"name\":\"_artId\",\"type\":\"uint256\"}],\"name\":\"transferArt\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_to\",\"type\":\"address\"},{\"name\":\"_parcelID\",\"type\":\"uint256\"}],\"name\":\"transferParcel\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"name\":\"initialPriceInWei\",\"type\":\"uint256\"},{\"name\":\"_artContract\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"payable\":true,\"stateMutability\":\"payable\",\"type\":\"fallback\"}]","ContractName":"InstantBuy","CompilerVersion":"v0.5.0+commit.1d4f565a","OptimizationUsed":"1","Runs":"200","ConstructorArguments":"00000000000000000000000000000000000000000000000006f05b59d3b20000000000000000000000000000fbeef911dc5821886e1dda71586d90ed28174b7d","Library":"","LicenseType":"None","SwarmSource":"bzzr://128578702b8909360c3e538b6d5e6c3de3f8e6ed025518f49ce88614335d291d"}]}