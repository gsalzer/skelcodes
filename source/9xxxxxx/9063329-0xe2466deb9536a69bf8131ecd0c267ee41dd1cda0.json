{"status":"1","message":"OK","result":[{"SourceCode":"// File: contracts/loopring/impl/BrokerData.sol\r\n\r\npragma solidity 0.5.7;\r\n\r\nlibrary BrokerData {\r\n\r\n  struct BrokerOrder {\r\n    address owner;\r\n    bytes32 orderHash;\r\n    uint fillAmountB;\r\n    uint requestedAmountS;\r\n    uint requestedFeeAmount;\r\n    address tokenRecipient;\r\n    bytes extraData;\r\n  }\r\n\r\n  struct BrokerApprovalRequest {\r\n    BrokerOrder[] orders;\r\n    address tokenS;\r\n    address tokenB;\r\n    address feeToken;\r\n    uint totalFillAmountB;\r\n    uint totalRequestedAmountS;\r\n    uint totalRequestedFeeAmount;\r\n  }\r\n\r\n  struct BrokerInterceptorReport {\r\n    address owner;\r\n    address broker;\r\n    bytes32 orderHash;\r\n    address tokenB;\r\n    address tokenS;\r\n    address feeToken;\r\n    uint fillAmountB;\r\n    uint spentAmountS;\r\n    uint spentFeeAmount;\r\n    address tokenRecipient;\r\n    bytes extraData;\r\n  }\r\n\r\n}\r\n\r\n// File: contracts/loopring/iface/IBrokerDelegate.sol\r\n\r\n/*\r\n\r\n  Copyright 2017 Loopring Project Ltd (Loopring Foundation).\r\n\r\n  Licensed under the Apache License, Version 2.0 (the \"License\");\r\n  you may not use this file except in compliance with the License.\r\n  You may obtain a copy of the License at\r\n\r\n  http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n  Unless required by applicable law or agreed to in writing, software\r\n  distributed under the License is distributed on an \"AS IS\" BASIS,\r\n  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n  See the License for the specific language governing permissions and\r\n  limitations under the License.\r\n*/\r\n\r\npragma solidity 0.5.7;\r\npragma experimental ABIEncoderV2;\r\n\r\n\r\n/**\r\n * @title IBrokerDelegate\r\n * @author Zack Rubenstein\r\n */\r\ninterface IBrokerDelegate {\r\n\r\n  /*\r\n   * Loopring requests an allowance be set on a given token for a specified amount. Order details\r\n   * are provided (tokenS, totalAmountS, tokenB, totalAmountB, orderTokenRecipient, extraOrderData)\r\n   * to aid in any calculations or on-chain exchange of assets that may be required. The last 4\r\n   * parameters concern the actual token approval being requested of the broker.\r\n   *\r\n   * @returns Whether or not onOrderFillReport should be called for orders using this broker\r\n   */\r\n  function brokerRequestAllowance(BrokerData.BrokerApprovalRequest calldata request) external returns (bool);\r\n\r\n  /*\r\n   * After Loopring performs all of the transfers necessary to complete all the submitted\r\n   * rings it will call this function for every order's brokerInterceptor (if set) passing\r\n   * along the final fill counts for tokenB, tokenS and feeToken. This allows actions to be\r\n   * performed on a per-order basis after all tokenS/feeToken funds have left the order owner's\r\n   * possesion and the tokenB funds have been transfered to the order owner's intended recipient\r\n   */\r\n  function onOrderFillReport(BrokerData.BrokerInterceptorReport calldata fillReport) external;\r\n\r\n  /*\r\n   * Get the available token balance controlled by the broker on behalf of an address (owner)\r\n   */\r\n  function brokerBalanceOf(address owner, address token) external view returns (uint);\r\n}\r\n\r\n// File: contracts/loopring/iface/ITradeDelegate.sol\r\n\r\n/*\r\n\r\n  Copyright 2017 Loopring Project Ltd (Loopring Foundation).\r\n\r\n  Licensed under the Apache License, Version 2.0 (the \"License\");\r\n  you may not use this file except in compliance with the License.\r\n  You may obtain a copy of the License at\r\n\r\n  http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n  Unless required by applicable law or agreed to in writing, software\r\n  distributed under the License is distributed on an \"AS IS\" BASIS,\r\n  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n  See the License for the specific language governing permissions and\r\n  limitations under the License.\r\n*/\r\npragma solidity 0.5.7;\r\n\r\n/// @title ITradeDelegate\r\n/// @dev Acts as a middle man to transfer ERC20 tokens on behalf of different\r\n/// versions of Loopring protocol to avoid ERC20 re-authorization.\r\n/// @author Daniel Wang - <daniel@loopring.org>.\r\ncontract ITradeDelegate {\r\n\r\n    function isTrustedSubmitter(address submitter) public view returns (bool);\r\n\r\n    function batchTransfer(\r\n        bytes32[] calldata batch\r\n    ) external;\r\n\r\n    function brokerTransfer(\r\n        address token,\r\n        address broker,\r\n        address recipient,\r\n        uint amount\r\n    ) external;\r\n\r\n    function proxyBrokerRequestAllowance(\r\n        BrokerData.BrokerApprovalRequest memory request,\r\n        address broker\r\n    ) public returns (bool);\r\n\r\n\r\n    /// @dev Add a Loopring protocol address.\r\n    /// @param addr A loopring protocol address.\r\n    function authorizeAddress(\r\n        address addr\r\n        )\r\n        external;\r\n\r\n    /// @dev Remove a Loopring protocol address.\r\n    /// @param addr A loopring protocol address.\r\n    function deauthorizeAddress(\r\n        address addr\r\n        )\r\n        external;\r\n\r\n    function isAddressAuthorized(\r\n        address addr\r\n        )\r\n        public\r\n        view\r\n        returns (bool);\r\n\r\n\r\n    function suspend()\r\n        external;\r\n\r\n    function resume()\r\n        external;\r\n\r\n    function kill()\r\n        external;\r\n}\r\n\r\n// File: contracts/loopring/iface/Errors.sol\r\n\r\n/*\r\n\r\n  Copyright 2017 Loopring Project Ltd (Loopring Foundation).\r\n\r\n  Licensed under the Apache License, Version 2.0 (the \"License\");\r\n  you may not use this file except in compliance with the License.\r\n  You may obtain a copy of the License at\r\n\r\n  http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n  Unless required by applicable law or agreed to in writing, software\r\n  distributed under the License is distributed on an \"AS IS\" BASIS,\r\n  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n  See the License for the specific language governing permissions and\r\n  limitations under the License.\r\n*/\r\npragma solidity 0.5.7;\r\n\r\n\r\n/// @title Errors\r\ncontract Errors {\r\n    string constant ZERO_VALUE                 = \"ZERO_VALUE\";\r\n    string constant ZERO_ADDRESS               = \"ZERO_ADDRESS\";\r\n    string constant INVALID_VALUE              = \"INVALID_VALUE\";\r\n    string constant INVALID_ADDRESS            = \"INVALID_ADDRESS\";\r\n    string constant INVALID_SIZE               = \"INVALID_SIZE\";\r\n    string constant INVALID_MINER_SIGNATURE    = \"INVALID_MINER_SIGNATURE\";\r\n    string constant INVALID_STATE              = \"INVALID_STATE\";\r\n    string constant NOT_FOUND                  = \"NOT_FOUND\";\r\n    string constant ALREADY_EXIST              = \"ALREADY_EXIST\";\r\n    string constant REENTRY                    = \"REENTRY\";\r\n    string constant UNAUTHORIZED               = \"UNAUTHORIZED\";\r\n    string constant UNIMPLEMENTED              = \"UNIMPLEMENTED\";\r\n    string constant UNSUPPORTED                = \"UNSUPPORTED\";\r\n    string constant TRANSFER_FAILURE           = \"TRANSFER_FAILURE\";\r\n    string constant BROKER_TRANSFER_FAILURE    = \"BROKER_TRANSFER_FAILURE\";\r\n    string constant WITHDRAWAL_FAILURE         = \"WITHDRAWAL_FAILURE\";\r\n    string constant BURN_FAILURE               = \"BURN_FAILURE\";\r\n    string constant BURN_RATE_FROZEN           = \"BURN_RATE_FROZEN\";\r\n    string constant BURN_RATE_MINIMIZED        = \"BURN_RATE_MINIMIZED\";\r\n    string constant UNAUTHORIZED_ONCHAIN_ORDER = \"UNAUTHORIZED_ONCHAIN_ORDER\";\r\n    string constant INVALID_CANDIDATE          = \"INVALID_CANDIDATE\";\r\n    string constant ALREADY_VOTED              = \"ALREADY_VOTED\";\r\n    string constant NOT_OWNER                  = \"NOT_OWNER\";\r\n}\r\n\r\n// File: contracts/loopring/lib/Ownable.sol\r\n\r\n/*\r\n\r\n  Copyright 2017 Loopring Project Ltd (Loopring Foundation).\r\n\r\n  Licensed under the Apache License, Version 2.0 (the \"License\");\r\n  you may not use this file except in compliance with the License.\r\n  You may obtain a copy of the License at\r\n\r\n  http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n  Unless required by applicable law or agreed to in writing, software\r\n  distributed under the License is distributed on an \"AS IS\" BASIS,\r\n  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n  See the License for the specific language governing permissions and\r\n  limitations under the License.\r\n*/\r\npragma solidity 0.5.7;\r\n\r\n\r\n/// @title Ownable\r\n/// @dev The Ownable contract has an owner address, and provides basic\r\n///      authorization control functions, this simplifies the implementation of\r\n///      \"user permissions\".\r\ncontract Ownable {\r\n    address public owner;\r\n\r\n    event OwnershipTransferred(\r\n        address indexed previousOwner,\r\n        address indexed newOwner\r\n    );\r\n\r\n    /// @dev The Ownable constructor sets the original `owner` of the contract\r\n    ///      to the sender.\r\n    constructor()\r\n        public\r\n    {\r\n        owner = msg.sender;\r\n    }\r\n\r\n    /// @dev Throws if called by any account other than the owner.\r\n    modifier onlyOwner()\r\n    {\r\n        require(msg.sender == owner, \"NOT_OWNER\");\r\n        _;\r\n    }\r\n\r\n    /// @dev Allows the current owner to transfer control of the contract to a\r\n    ///      newOwner.\r\n    /// @param newOwner The address to transfer ownership to.\r\n    function transferOwnership(\r\n        address newOwner\r\n        )\r\n        public\r\n        onlyOwner\r\n    {\r\n        require(newOwner != address(0x0), \"ZERO_ADDRESS\");\r\n        emit OwnershipTransferred(owner, newOwner);\r\n        owner = newOwner;\r\n    }\r\n}\r\n\r\n// File: contracts/loopring/lib/Claimable.sol\r\n\r\n/*\r\n\r\n  Copyright 2017 Loopring Project Ltd (Loopring Foundation).\r\n\r\n  Licensed under the Apache License, Version 2.0 (the \"License\");\r\n  you may not use this file except in compliance with the License.\r\n  You may obtain a copy of the License at\r\n\r\n  http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n  Unless required by applicable law or agreed to in writing, software\r\n  distributed under the License is distributed on an \"AS IS\" BASIS,\r\n  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n  See the License for the specific language governing permissions and\r\n  limitations under the License.\r\n*/\r\npragma solidity 0.5.7;\r\n\r\n\r\n\r\n/// @title Claimable\r\n/// @dev Extension for the Ownable contract, where the ownership needs\r\n///      to be claimed. This allows the new owner to accept the transfer.\r\ncontract Claimable is Ownable {\r\n    address public pendingOwner;\r\n\r\n    /// @dev Modifier throws if called by any account other than the pendingOwner.\r\n    modifier onlyPendingOwner() {\r\n        require(msg.sender == pendingOwner, \"UNAUTHORIZED\");\r\n        _;\r\n    }\r\n\r\n    /// @dev Allows the current owner to set the pendingOwner address.\r\n    /// @param newOwner The address to transfer ownership to.\r\n    function transferOwnership(\r\n        address newOwner\r\n        )\r\n        public\r\n        onlyOwner\r\n    {\r\n        require(newOwner != address(0x0) && newOwner != owner, \"INVALID_ADDRESS\");\r\n        pendingOwner = newOwner;\r\n    }\r\n\r\n    /// @dev Allows the pendingOwner address to finalize the transfer.\r\n    function claimOwnership()\r\n        public\r\n        onlyPendingOwner\r\n    {\r\n        emit OwnershipTransferred(owner, pendingOwner);\r\n        owner = pendingOwner;\r\n        pendingOwner = address(0x0);\r\n    }\r\n}\r\n\r\n// File: contracts/loopring/lib/Authorizable.sol\r\n\r\n/*\r\n\r\n  Copyright 2017 Loopring Project Ltd (Loopring Foundation).\r\n\r\n  Licensed under the Apache License, Version 2.0 (the \"License\");\r\n  you may not use this file except in compliance with the License.\r\n  You may obtain a copy of the License at\r\n\r\n  http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n  Unless required by applicable law or agreed to in writing, software\r\n  distributed under the License is distributed on an \"AS IS\" BASIS,\r\n  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n  See the License for the specific language governing permissions and\r\n  limitations under the License.\r\n*/\r\npragma solidity 0.5.7;\r\n\r\n\r\n\r\n\r\n/// @title Authorizable\r\n/// @dev The Authorizable contract allows a contract to be used by other contracts\r\n///      by authorizing it by the contract owner.\r\ncontract Authorizable is Claimable, Errors  {\r\n\r\n    event AddressAuthorized(\r\n        address indexed addr\r\n    );\r\n\r\n    event AddressDeauthorized(\r\n        address indexed addr\r\n    );\r\n\r\n    // The list of all authorized addresses\r\n    address[] authorizedAddresses;\r\n\r\n    mapping (address => uint) private positionMap;\r\n\r\n    struct AuthorizedAddress {\r\n        uint    pos;\r\n        address addr;\r\n    }\r\n\r\n    modifier onlyAuthorized()\r\n    {\r\n        require(positionMap[msg.sender] > 0, UNAUTHORIZED);\r\n        _;\r\n    }\r\n\r\n    function authorizeAddress(\r\n        address addr\r\n        )\r\n        external\r\n        onlyOwner\r\n    {\r\n        require(address(0x0) != addr, ZERO_ADDRESS);\r\n        require(0 == positionMap[addr], ALREADY_EXIST);\r\n        require(isContract(addr), INVALID_ADDRESS);\r\n\r\n        authorizedAddresses.push(addr);\r\n        positionMap[addr] = authorizedAddresses.length;\r\n        emit AddressAuthorized(addr);\r\n    }\r\n\r\n    function deauthorizeAddress(\r\n        address addr\r\n        )\r\n        external\r\n        onlyOwner\r\n    {\r\n        require(address(0x0) != addr, ZERO_ADDRESS);\r\n\r\n        uint pos = positionMap[addr];\r\n        require(pos != 0, NOT_FOUND);\r\n\r\n        uint size = authorizedAddresses.length;\r\n        if (pos != size) {\r\n            address lastOne = authorizedAddresses[size - 1];\r\n            authorizedAddresses[pos - 1] = lastOne;\r\n            positionMap[lastOne] = pos;\r\n        }\r\n\r\n        authorizedAddresses.length -= 1;\r\n        delete positionMap[addr];\r\n\r\n        emit AddressDeauthorized(addr);\r\n    }\r\n\r\n    function isAddressAuthorized(\r\n        address addr\r\n        )\r\n        public\r\n        view\r\n        returns (bool)\r\n    {\r\n        return positionMap[addr] > 0;\r\n    }\r\n\r\n    function isContract(\r\n        address addr\r\n        )\r\n        internal\r\n        view\r\n        returns (bool)\r\n    {\r\n        uint size;\r\n        assembly { size := extcodesize(addr) }\r\n        return size > 0;\r\n    }\r\n\r\n}\r\n\r\n// File: contracts/loopring/lib/ERC20SafeTransfer.sol\r\n\r\n/*\r\n\r\n  Copyright 2017 Loopring Project Ltd (Loopring Foundation).\r\n\r\n  Licensed under the Apache License, Version 2.0 (the \"License\");\r\n  you may not use this file except in compliance with the License.\r\n  You may obtain a copy of the License at\r\n\r\n  http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n  Unless required by applicable law or agreed to in writing, software\r\n  distributed under the License is distributed on an \"AS IS\" BASIS,\r\n  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n  See the License for the specific language governing permissions and\r\n  limitations under the License.\r\n*/\r\npragma solidity 0.5.7;\r\n\r\n\r\n/// @title ERC20 safe transfer\r\n/// @dev see https://github.com/sec-bit/badERC20Fix\r\n/// @author Brecht Devos - <brecht@loopring.org>\r\nlibrary ERC20SafeTransfer {\r\n\r\n    function safeTransfer(\r\n        address token,\r\n        address to,\r\n        uint256 value)\r\n        internal\r\n        returns (bool success)\r\n    {\r\n        // A transfer is successful when 'call' is successful and depending on the token:\r\n        // - No value is returned: we assume a revert when the transfer failed (i.e. 'call' returns false)\r\n        // - A single boolean is returned: this boolean needs to be true (non-zero)\r\n\r\n        // bytes4(keccak256(\"transfer(address,uint256)\")) = 0xa9059cbb\r\n        bytes memory callData = abi.encodeWithSelector(\r\n            bytes4(0xa9059cbb),\r\n            to,\r\n            value\r\n        );\r\n        (success, ) = token.call(callData);\r\n        return checkReturnValue(success);\r\n    }\r\n\r\n    function safeTransferFrom(\r\n        address token,\r\n        address from,\r\n        address to,\r\n        uint256 value)\r\n        internal\r\n        returns (bool success)\r\n    {\r\n        // A transferFrom is successful when 'call' is successful and depending on the token:\r\n        // - No value is returned: we assume a revert when the transfer failed (i.e. 'call' returns false)\r\n        // - A single boolean is returned: this boolean needs to be true (non-zero)\r\n\r\n        // bytes4(keccak256(\"transferFrom(address,address,uint256)\")) = 0x23b872dd\r\n        bytes memory callData = abi.encodeWithSelector(\r\n            bytes4(0x23b872dd),\r\n            from,\r\n            to,\r\n            value\r\n        );\r\n        (success, ) = token.call(callData);\r\n        return checkReturnValue(success);\r\n    }\r\n\r\n    function checkReturnValue(\r\n        bool success\r\n        )\r\n        internal\r\n        pure\r\n        returns (bool)\r\n    {\r\n        // A transfer/transferFrom is successful when 'call' is successful and depending on the token:\r\n        // - No value is returned: we assume a revert when the transfer failed (i.e. 'call' returns false)\r\n        // - A single boolean is returned: this boolean needs to be true (non-zero)\r\n        if (success) {\r\n            assembly {\r\n                switch returndatasize()\r\n                // Non-standard ERC20: nothing is returned so if 'call' was successful we assume the transfer succeeded\r\n                case 0 {\r\n                    success := 1\r\n                }\r\n                // Standard ERC20: a single boolean value is returned which needs to be true\r\n                case 32 {\r\n                    returndatacopy(0, 0, 32)\r\n                    success := mload(0)\r\n                }\r\n                // None of the above: not successful\r\n                default {\r\n                    success := 0\r\n                }\r\n            }\r\n        }\r\n        return success;\r\n    }\r\n\r\n}\r\n\r\n// File: contracts/loopring/lib/Killable.sol\r\n\r\n/*\r\n\r\n  Copyright 2017 Loopring Project Ltd (Loopring Foundation).\r\n\r\n  Licensed under the Apache License, Version 2.0 (the \"License\");\r\n  you may not use this file except in compliance with the License.\r\n  You may obtain a copy of the License at\r\n\r\n  http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n  Unless required by applicable law or agreed to in writing, software\r\n  distributed under the License is distributed on an \"AS IS\" BASIS,\r\n  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n  See the License for the specific language governing permissions and\r\n  limitations under the License.\r\n*/\r\npragma solidity 0.5.7;\r\n\r\n\r\n\r\n\r\n/// @title Killable\r\n/// @dev The Killable contract allows the contract owner to suspend, resume or kill the contract\r\ncontract Killable is Claimable, Errors  {\r\n\r\n    bool public suspended = false;\r\n\r\n    modifier notSuspended()\r\n    {\r\n        require(!suspended, INVALID_STATE);\r\n        _;\r\n    }\r\n\r\n    modifier isSuspended()\r\n    {\r\n        require(suspended, INVALID_STATE);\r\n        _;\r\n    }\r\n\r\n    function suspend()\r\n        external\r\n        onlyOwner\r\n        notSuspended\r\n    {\r\n        suspended = true;\r\n    }\r\n\r\n    function resume()\r\n        external\r\n        onlyOwner\r\n        isSuspended\r\n    {\r\n        suspended = false;\r\n    }\r\n\r\n    /// owner must suspend the delegate first before invoking the kill method.\r\n    function kill()\r\n        external\r\n        onlyOwner\r\n        isSuspended\r\n    {\r\n        owner = address(0x0);\r\n        emit OwnershipTransferred(owner, address(0x0));\r\n    }\r\n}\r\n\r\n// File: contracts/loopring/lib/NoDefaultFunc.sol\r\n\r\n/*\r\n\r\n  Copyright 2017 Loopring Project Ltd (Loopring Foundation).\r\n\r\n  Licensed under the Apache License, Version 2.0 (the \"License\");\r\n  you may not use this file except in compliance with the License.\r\n  You may obtain a copy of the License at\r\n\r\n  http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n  Unless required by applicable law or agreed to in writing, software\r\n  distributed under the License is distributed on an \"AS IS\" BASIS,\r\n  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n  See the License for the specific language governing permissions and\r\n  limitations under the License.\r\n*/\r\npragma solidity 0.5.7;\r\n\r\n\r\n\r\n/// @title NoDefaultFunc\r\n/// @dev Disable default functions.\r\ncontract NoDefaultFunc is Errors {\r\n    function ()\r\n        external\r\n        payable\r\n    {\r\n        revert(UNSUPPORTED);\r\n    }\r\n}\r\n\r\n// File: contracts/loopring/impl/TradeDelegate.sol\r\n\r\n/*\r\n\r\n  Copyright 2017 Loopring Project Ltd (Loopring Foundation).\r\n\r\n  Licensed under the Apache License, Version 2.0 (the \"License\");\r\n  you may not use this file except in compliance with the License.\r\n  You may obtain a copy of the License at\r\n\r\n  http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n  Unless required by applicable law or agreed to in writing, software\r\n  distributed under the License is distributed on an \"AS IS\" BASIS,\r\n  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n  See the License for the specific language governing permissions and\r\n  limitations under the License.\r\n*/\r\npragma solidity 0.5.7;\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n/// @title An Implementation of ITradeDelegate.\r\n/// @author Daniel Wang - <daniel@loopring.org>.\r\n/// @author Kongliang Zhong - <kongliang@loopring.org>.\r\ncontract TradeDelegate is ITradeDelegate, Authorizable, Killable, NoDefaultFunc {\r\n    using ERC20SafeTransfer for address;\r\n\r\n    mapping (address => bool) public trustedSubmitters;\r\n\r\n    function addTrustedSubmitter(address submitter) public {\r\n        require(owner == msg.sender, \"UNAUTHORIZED\");\r\n        trustedSubmitters[submitter] = true;\r\n    }\r\n\r\n    function removeTrustedSubmitter(address submitter) public {\r\n        require(owner == msg.sender, \"UNAUTHORIZED\");\r\n        trustedSubmitters[submitter] = false;\r\n    }\r\n\r\n    function isTrustedSubmitter(address submitter) public view returns (bool) {\r\n        return trustedSubmitters[submitter];\r\n    }\r\n\r\n    function brokerTransfer(\r\n        address token,\r\n        address broker,\r\n        address recipient,\r\n        uint amount\r\n    ) external onlyAuthorized notSuspended {\r\n        require(\r\n            token.safeTransferFrom(broker, recipient, amount),\r\n            BROKER_TRANSFER_FAILURE\r\n        );\r\n    }\r\n\r\n    function proxyBrokerRequestAllowance(\r\n        BrokerData.BrokerApprovalRequest memory request,\r\n        address broker\r\n    ) onlyAuthorized notSuspended public returns (bool) {\r\n        return IBrokerDelegate(broker).brokerRequestAllowance(request);\r\n    }\r\n\r\n    function batchTransfer(\r\n        bytes32[] calldata batch\r\n        )\r\n        external\r\n        onlyAuthorized\r\n        notSuspended\r\n    {\r\n        uint length = batch.length;\r\n        require(length % 4 == 0, INVALID_SIZE);\r\n\r\n        uint start = 68;\r\n        uint end = start + length * 32;\r\n        for (uint p = start; p < end; p += 128) {\r\n            address token;\r\n            address from;\r\n            address to;\r\n            uint amount;\r\n            assembly {\r\n                token := calldataload(add(p,  0))\r\n                from := calldataload(add(p, 32))\r\n                to := calldataload(add(p, 64))\r\n                amount := calldataload(add(p, 96))\r\n            }\r\n            require(\r\n                token.safeTransferFrom(from, to, amount),\r\n                TRANSFER_FAILURE\r\n            );\r\n        }\r\n    }\r\n}","ABI":"[{\"constant\":false,\"inputs\":[],\"name\":\"resume\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"\",\"type\":\"address\"}],\"name\":\"trustedSubmitters\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"submitter\",\"type\":\"address\"}],\"name\":\"isTrustedSubmitter\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"submitter\",\"type\":\"address\"}],\"name\":\"addTrustedSubmitter\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[],\"name\":\"kill\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"addr\",\"type\":\"address\"}],\"name\":\"authorizeAddress\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[],\"name\":\"claimOwnership\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"token\",\"type\":\"address\"},{\"name\":\"broker\",\"type\":\"address\"},{\"name\":\"recipient\",\"type\":\"address\"},{\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"brokerTransfer\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"suspended\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"owner\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"components\":[{\"components\":[{\"name\":\"owner\",\"type\":\"address\"},{\"name\":\"orderHash\",\"type\":\"bytes32\"},{\"name\":\"fillAmountB\",\"type\":\"uint256\"},{\"name\":\"requestedAmountS\",\"type\":\"uint256\"},{\"name\":\"requestedFeeAmount\",\"type\":\"uint256\"},{\"name\":\"tokenRecipient\",\"type\":\"address\"},{\"name\":\"extraData\",\"type\":\"bytes\"}],\"name\":\"orders\",\"type\":\"tuple[]\"},{\"name\":\"tokenS\",\"type\":\"address\"},{\"name\":\"tokenB\",\"type\":\"address\"},{\"name\":\"feeToken\",\"type\":\"address\"},{\"name\":\"totalFillAmountB\",\"type\":\"uint256\"},{\"name\":\"totalRequestedAmountS\",\"type\":\"uint256\"},{\"name\":\"totalRequestedFeeAmount\",\"type\":\"uint256\"}],\"name\":\"request\",\"type\":\"tuple\"},{\"name\":\"broker\",\"type\":\"address\"}],\"name\":\"proxyBrokerRequestAllowance\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"addr\",\"type\":\"address\"}],\"name\":\"isAddressAuthorized\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"pendingOwner\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[],\"name\":\"suspend\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"newOwner\",\"type\":\"address\"}],\"name\":\"transferOwnership\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"addr\",\"type\":\"address\"}],\"name\":\"deauthorizeAddress\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"batch\",\"type\":\"bytes32[]\"}],\"name\":\"batchTransfer\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"submitter\",\"type\":\"address\"}],\"name\":\"removeTrustedSubmitter\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"payable\":true,\"stateMutability\":\"payable\",\"type\":\"fallback\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"name\":\"addr\",\"type\":\"address\"}],\"name\":\"AddressAuthorized\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"name\":\"addr\",\"type\":\"address\"}],\"name\":\"AddressDeauthorized\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"name\":\"previousOwner\",\"type\":\"address\"},{\"indexed\":true,\"name\":\"newOwner\",\"type\":\"address\"}],\"name\":\"OwnershipTransferred\",\"type\":\"event\"}]","ContractName":"TradeDelegate","CompilerVersion":"v0.5.7+commit.6da8b019","OptimizationUsed":"1","Runs":"200","ConstructorArguments":"","Library":"","LicenseType":"Apache-2.0","SwarmSource":"bzzr://d474bfae06d790b118359401063ec5d41e52778bdc8a19c499300203bd334e93"}]}