{"status":"1","message":"OK","result":[{"SourceCode":"pragma solidity ^0.5.0;\r\n\r\ninterface ENS {\r\n  function owner( bytes32 _node ) external view returns (address);\r\n  function owners( bytes32 _node ) external view returns (address);\r\n}\r\n\r\ninterface ReverseRegistrar {\r\n  function claim( address _owner ) external returns (bytes32 node);\r\n}\r\n\r\ninterface ERC20 {\r\n  function balanceOf( address owner ) external view returns (uint);\r\n  function transfer( address _to, uint256 _value ) external returns (bool);\r\n}\r\n\r\ncontract Resolver {\r\n\r\n  event AddrChanged( bytes32 indexed node, address a );\r\n  event PubkeyChanged( bytes32 indexed node, bytes32 x, bytes32 y );\r\n\r\n  struct PubKey {\r\n    bytes32 x;\r\n    bytes32 y;\r\n  }\r\n\r\n  mapping( bytes32 => address ) public addr;\r\n  mapping( bytes32 => PubKey ) public keys;\r\n  ENS public theENS;\r\n  address payable public beneficiary;\r\n\r\n  modifier owns( bytes32 _node ) {\r\n    require( msg.sender == theENS.owners(_node) );\r\n    _;\r\n  }\r\n\r\n  // namehash('addr.reverse')\r\n  bytes32 constant REV_ADDR_NODE =\r\n    0x91d1777781884d03a6757a803996e38de2a42967fb37eeaca72729271025a9e2;\r\n\r\n  function supportsInterface( bytes4 _id ) external pure returns (bool) {\r\n    return    _id == 0x3b3b57de   // addr, EIP137\r\n           || _id == 0xc8690233;  // pubkey, EIP619\r\n  }\r\n\r\n  function setAddr( bytes32 _node, address _newAddr ) external owns(_node) {\r\n    addr[_node] = _newAddr;\r\n    emit AddrChanged( _node, _newAddr );\r\n  }\r\n\r\n  function pubkey( bytes32 _node ) external view\r\n  returns (bytes32 _x, bytes32 _y) {\r\n    return ( keys[_node].x, keys[_node].y );\r\n  }\r\n\r\n  function setPubkey( bytes32 _node, bytes32 _x, bytes32 _y )\r\n  external owns(_node) {\r\n    keys[_node] = PubKey( _x, _y );\r\n    emit PubkeyChanged( _node, _x, _y );\r\n  }\r\n\r\n  constructor( address _ens ) public {\r\n    theENS = ENS(_ens);\r\n    beneficiary = msg.sender;\r\n    ReverseRegistrar rr = ReverseRegistrar( theENS.owner(REV_ADDR_NODE) );\r\n    rr.claim( msg.sender ); // give <thissca>.addr.reverse to our deployer\r\n  }\r\n\r\n  function () payable external {}\r\n\r\n  function sweepEther() external {\r\n    beneficiary.transfer( address(this).balance );\r\n  }\r\n\r\n  function sweepToken( address _erc20 ) external {\r\n    ERC20 token = ERC20( _erc20 );\r\n    token.transfer( beneficiary, token.balanceOf(address(this)) );\r\n  }\r\n\r\n  function changeBeneficiary( address payable _to ) external {\r\n    require( msg.sender == beneficiary );\r\n    beneficiary = _to;\r\n  }\r\n\r\n}","ABI":"[{\"constant\":true,\"inputs\":[{\"internalType\":\"bytes4\",\"name\":\"_id\",\"type\":\"bytes4\"}],\"name\":\"supportsInterface\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"pure\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"internalType\":\"address\",\"name\":\"_erc20\",\"type\":\"address\"}],\"name\":\"sweepToken\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"_node\",\"type\":\"bytes32\"},{\"internalType\":\"bytes32\",\"name\":\"_x\",\"type\":\"bytes32\"},{\"internalType\":\"bytes32\",\"name\":\"_y\",\"type\":\"bytes32\"}],\"name\":\"setPubkey\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"theENS\",\"outputs\":[{\"internalType\":\"contract ENS\",\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"beneficiary\",\"outputs\":[{\"internalType\":\"address payable\",\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"\",\"type\":\"bytes32\"}],\"name\":\"addr\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[],\"name\":\"sweepEther\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"_node\",\"type\":\"bytes32\"}],\"name\":\"pubkey\",\"outputs\":[{\"internalType\":\"bytes32\",\"name\":\"_x\",\"type\":\"bytes32\"},{\"internalType\":\"bytes32\",\"name\":\"_y\",\"type\":\"bytes32\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"_node\",\"type\":\"bytes32\"},{\"internalType\":\"address\",\"name\":\"_newAddr\",\"type\":\"address\"}],\"name\":\"setAddr\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"internalType\":\"address payable\",\"name\":\"_to\",\"type\":\"address\"}],\"name\":\"changeBeneficiary\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"\",\"type\":\"bytes32\"}],\"name\":\"keys\",\"outputs\":[{\"internalType\":\"bytes32\",\"name\":\"x\",\"type\":\"bytes32\"},{\"internalType\":\"bytes32\",\"name\":\"y\",\"type\":\"bytes32\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_ens\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"payable\":true,\"stateMutability\":\"payable\",\"type\":\"fallback\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"bytes32\",\"name\":\"node\",\"type\":\"bytes32\"},{\"indexed\":false,\"internalType\":\"address\",\"name\":\"a\",\"type\":\"address\"}],\"name\":\"AddrChanged\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"bytes32\",\"name\":\"node\",\"type\":\"bytes32\"},{\"indexed\":false,\"internalType\":\"bytes32\",\"name\":\"x\",\"type\":\"bytes32\"},{\"indexed\":false,\"internalType\":\"bytes32\",\"name\":\"y\",\"type\":\"bytes32\"}],\"name\":\"PubkeyChanged\",\"type\":\"event\"}]","ContractName":"Resolver","CompilerVersion":"v0.5.11+commit.c082d0b4","OptimizationUsed":"1","Runs":"200","ConstructorArguments":"000000000000000000000000314159265dd8dbb310642f98f50c066173c1259b","Library":"","LicenseType":"MIT","SwarmSource":"bzzr://009b9951d9f928fa225b0ed91e780521745a3e112f9e4e5041928a591c3fac80"}]}