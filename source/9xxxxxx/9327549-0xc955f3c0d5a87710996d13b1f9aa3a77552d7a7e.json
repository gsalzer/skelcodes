{"status":"1","message":"OK","result":[{"SourceCode":"/**\r\n\r\n  Source code of Opium Protocol\r\n  Web https://opium.network\r\n  Telegram https://t.me/opium_network\r\n  Twitter https://twitter.com/opium_network\r\n\r\n */\r\n\r\n// File: LICENSE\r\n\r\n/**\r\n\r\nThe software and documentation available in this repository (the \"Software\") is protected by copyright law and accessible pursuant to the license set forth below. Copyright © 2020 Blockeys BV. All rights reserved.\r\n\r\nPermission is hereby granted, free of charge, to any person or organization obtaining the Software (the “Licensee”) to privately study, review, and analyze the Software. Licensee shall not use the Software for any other purpose. Licensee shall not modify, transfer, assign, share, or sub-license the Software or any derivative works of the Software.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n*/\r\n\r\n\r\n// File: contracts/Errors/RegistryErrors.sol\r\n\r\npragma solidity 0.5.16;\r\n\r\ncontract RegistryErrors {\r\n    string constant internal ERROR_REGISTRY_ONLY_INITIALIZER = \"REGISTRY:ONLY_INITIALIZER\";\r\n    string constant internal ERROR_REGISTRY_ONLY_OPIUM_ADDRESS_ALLOWED = \"REGISTRY:ONLY_OPIUM_ADDRESS_ALLOWED\";\r\n\r\n    string constant internal ERROR_REGISTRY_CANT_BE_ZERO_ADDRESS = \"REGISTRY:CANT_BE_ZERO_ADDRESS\";\r\n\r\n    string constant internal ERROR_REGISTRY_ALREADY_SET = \"REGISTRY:ALREADY_SET\";\r\n}\r\n\r\n// File: contracts/Registry.sol\r\n\r\npragma solidity 0.5.16;\r\n\r\n\r\n/// @title Opium.Registry contract keeps addresses of deployed Opium contracts set to allow them route and communicate to each other\r\ncontract Registry is RegistryErrors {\r\n\r\n    // Address of Opium.TokenMinter contract\r\n    address private minter;\r\n\r\n    // Address of Opium.Core contract\r\n    address private core;\r\n\r\n    // Address of Opium.OracleAggregator contract\r\n    address private oracleAggregator;\r\n\r\n    // Address of Opium.SyntheticAggregator contract\r\n    address private syntheticAggregator;\r\n\r\n    // Address of Opium.TokenSpender contract\r\n    address private tokenSpender;\r\n\r\n    // Address of Opium commission receiver\r\n    address private opiumAddress;\r\n\r\n    // Address of Opium contract set deployer\r\n    address public initializer;\r\n\r\n    /// @notice This modifier restricts access to functions, which could be called only by initializer\r\n    modifier onlyInitializer() {\r\n        require(msg.sender == initializer, ERROR_REGISTRY_ONLY_INITIALIZER);\r\n        _;\r\n    }\r\n\r\n    /// @notice Sets initializer\r\n    constructor() public {\r\n        initializer = msg.sender;\r\n    }\r\n\r\n    // SETTERS\r\n\r\n    /// @notice Sets Opium.TokenMinter, Opium.Core, Opium.OracleAggregator, Opium.SyntheticAggregator, Opium.TokenSpender, Opium commission receiver addresses and allows to do it only once\r\n    /// @param _minter address Address of Opium.TokenMinter\r\n    /// @param _core address Address of Opium.Core\r\n    /// @param _oracleAggregator address Address of Opium.OracleAggregator\r\n    /// @param _syntheticAggregator address Address of Opium.SyntheticAggregator\r\n    /// @param _tokenSpender address Address of Opium.TokenSpender\r\n    /// @param _opiumAddress address Address of Opium commission receiver\r\n    function init(\r\n        address _minter,\r\n        address _core,\r\n        address _oracleAggregator,\r\n        address _syntheticAggregator,\r\n        address _tokenSpender,\r\n        address _opiumAddress\r\n    ) external onlyInitializer {\r\n        require(\r\n            minter == address(0) &&\r\n            core == address(0) &&\r\n            oracleAggregator == address(0) &&\r\n            syntheticAggregator == address(0) &&\r\n            tokenSpender == address(0) &&\r\n            opiumAddress == address(0),\r\n            ERROR_REGISTRY_ALREADY_SET\r\n        );\r\n\r\n        require(\r\n            _minter != address(0) &&\r\n            _core != address(0) &&\r\n            _oracleAggregator != address(0) &&\r\n            _syntheticAggregator != address(0) &&\r\n            _tokenSpender != address(0) &&\r\n            _opiumAddress != address(0),\r\n            ERROR_REGISTRY_CANT_BE_ZERO_ADDRESS\r\n        );\r\n\r\n        minter = _minter;\r\n        core = _core;\r\n        oracleAggregator = _oracleAggregator;\r\n        syntheticAggregator = _syntheticAggregator;\r\n        tokenSpender = _tokenSpender;\r\n        opiumAddress = _opiumAddress;\r\n    }\r\n\r\n    /// @notice Allows opium commission receiver address to change itself\r\n    /// @param _opiumAddress address New opium commission receiver address\r\n    function changeOpiumAddress(address _opiumAddress) external {\r\n        require(opiumAddress == msg.sender, ERROR_REGISTRY_ONLY_OPIUM_ADDRESS_ALLOWED);\r\n        require(_opiumAddress != address(0), ERROR_REGISTRY_CANT_BE_ZERO_ADDRESS);\r\n        opiumAddress = _opiumAddress;\r\n    }\r\n\r\n    // GETTERS\r\n\r\n    /// @notice Returns address of Opium.TokenMinter\r\n    /// @param result address Address of Opium.TokenMinter\r\n    function getMinter() external view returns (address result) {\r\n        return minter;\r\n    }\r\n\r\n    /// @notice Returns address of Opium.Core\r\n    /// @param result address Address of Opium.Core\r\n    function getCore() external view returns (address result) {\r\n        return core;\r\n    }\r\n\r\n    /// @notice Returns address of Opium.OracleAggregator\r\n    /// @param result address Address of Opium.OracleAggregator\r\n    function getOracleAggregator() external view returns (address result) {\r\n        return oracleAggregator;\r\n    }\r\n\r\n    /// @notice Returns address of Opium.SyntheticAggregator\r\n    /// @param result address Address of Opium.SyntheticAggregator\r\n    function getSyntheticAggregator() external view returns (address result) {\r\n        return syntheticAggregator;\r\n    }\r\n\r\n    /// @notice Returns address of Opium.TokenSpender\r\n    /// @param result address Address of Opium.TokenSpender\r\n    function getTokenSpender() external view returns (address result) {\r\n        return tokenSpender;\r\n    }\r\n\r\n    /// @notice Returns address of Opium commission receiver\r\n    /// @param result address Address of Opium commission receiver\r\n    function getOpiumAddress() external view returns (address result) {\r\n        return opiumAddress;\r\n    }\r\n}","ABI":"[{\"inputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"constant\":false,\"inputs\":[{\"internalType\":\"address\",\"name\":\"_opiumAddress\",\"type\":\"address\"}],\"name\":\"changeOpiumAddress\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"getCore\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"result\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"getMinter\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"result\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"getOpiumAddress\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"result\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"getOracleAggregator\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"result\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"getSyntheticAggregator\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"result\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"getTokenSpender\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"result\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"internalType\":\"address\",\"name\":\"_minter\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"_core\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"_oracleAggregator\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"_syntheticAggregator\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"_tokenSpender\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"_opiumAddress\",\"type\":\"address\"}],\"name\":\"init\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"initializer\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"}]","ContractName":"Registry","CompilerVersion":"v0.5.16+commit.9c3226ce","OptimizationUsed":"1","Runs":"200","ConstructorArguments":"","Library":"","LicenseType":"None","SwarmSource":"bzzr://ddba4a7a809a5752f428bbe4fadc55c4ebcb7d27663367f3a4ef776147ac8705"}]}