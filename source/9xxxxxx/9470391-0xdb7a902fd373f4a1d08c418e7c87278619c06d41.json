{"status":"1","message":"OK","result":[{"SourceCode":"pragma solidity 0.6.2;\r\npragma experimental ABIEncoderV2;\r\n\r\n\r\ninterface IERC20 {\r\n  function balanceOf(address) external view returns (uint256);\r\n}\r\n\r\n\r\ninterface DTokenInterface {\r\n  function balanceOfUnderlying(address) external view returns (uint256);\r\n  function exchangeRateCurrent() external view returns (uint256);\r\n}\r\n\r\n\r\ninterface CTokenInterface {\r\n  function balanceOfUnderlying(address) external returns (uint256);\r\n  function exchangeRateCurrent() external returns (uint256);\r\n}\r\n\r\n\r\n/**\r\n * @title BalancesChecker\r\n * @author 0age\r\n */\r\ncontract BalancesChecker {\r\n  struct Balances {\r\n    uint256 dDaiBalance;\r\n    uint256 dUSDCBalance;\r\n    uint256 daiBalance;\r\n    uint256 usdcBalance;\r\n    uint256 saiBalance;\r\n    uint256 cSaiBalance;\r\n    uint256 cDaiBalance;\r\n    uint256 cUSDCBalance;\r\n    uint256 etherBalance;\r\n  }\r\n    \r\n  struct UnderlyingBalances {\r\n    uint256 dDaiExchangeRate;\r\n    uint256 dUSDCExchangeRate;\r\n    uint256 cSaiExchangeRate;\r\n    uint256 cDaiExchangeRate;\r\n    uint256 cUSDCExchangeRate;\r\n    uint256 dDaiBalanceUnderlying;\r\n    uint256 dUSDCBalanceUnderlying;\r\n    uint256 cSaiBalanceUnderlying;\r\n    uint256 cDaiBalanceUnderlying;\r\n    uint256 cUSDCBalanceUnderlying;\r\n  }\r\n\r\n  IERC20 internal constant _DDAI = IERC20(\r\n    0x00000000001876eB1444c986fD502e618c587430 // mainnet\r\n  );\r\n\r\n  IERC20 internal constant _DUSDC = IERC20(\r\n    0x00000000008943c65cAf789FFFCF953bE156f6f8 // mainnet\r\n  );\r\n\r\n  IERC20 internal constant _DAI = IERC20(\r\n    0x6B175474E89094C44Da98b954EedeAC495271d0F // mainnet\r\n  );\r\n\r\n  IERC20 internal constant _USDC = IERC20(\r\n    0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48 // mainnet\r\n  );\r\n\r\n  IERC20 internal constant _SAI = IERC20(\r\n    0x89d24A6b4CcB1B6fAA2625fE562bDD9a23260359 // mainnet\r\n  );\r\n\r\n  IERC20 internal constant _CSAI = IERC20(\r\n    0xF5DCe57282A584D2746FaF1593d3121Fcac444dC // mainnet\r\n  );\r\n\r\n  IERC20 internal constant _CDAI = IERC20(\r\n    0x5d3a536E4D6DbD6114cc1Ead35777bAB948E3643 // mainnet\r\n  );\r\n\r\n  IERC20 internal constant _CUSDC = IERC20(\r\n    0x39AA39c021dfbaE8faC545936693aC917d5E7563 // mainnet\r\n  );\r\n\r\n  function getBalances(address[] calldata wallets) external view returns (\r\n    Balances[] memory balances\r\n  ) {\r\n    balances = new Balances[](wallets.length);\r\n    for (uint256 i = 0; i < wallets.length; i++) {\r\n      address wallet = wallets[i];\r\n      balances[i] = Balances({\r\n        dDaiBalance: _DDAI.balanceOf(wallet),\r\n        dUSDCBalance: _DUSDC.balanceOf(wallet),\r\n        daiBalance: _DAI.balanceOf(wallet),\r\n        usdcBalance: _USDC.balanceOf(wallet),\r\n        saiBalance: _SAI.balanceOf(wallet),\r\n        cSaiBalance: _CSAI.balanceOf(wallet),\r\n        cDaiBalance: _CDAI.balanceOf(wallet),\r\n        cUSDCBalance: _CUSDC.balanceOf(wallet),\r\n        etherBalance: wallet.balance      \r\n      });\r\n    }\r\n  }\r\n\r\n  function getUnderlyingBalances(address[] calldata wallets) external returns (\r\n    UnderlyingBalances[] memory underlyingBalances\r\n  ) {\r\n    underlyingBalances = new UnderlyingBalances[](wallets.length);\r\n    for (uint256 i = 0; i < wallets.length; i++) {\r\n      address wallet = wallets[i];\r\n      underlyingBalances[i] = UnderlyingBalances({\r\n        dDaiExchangeRate: DTokenInterface(address(_DDAI)).exchangeRateCurrent(),\r\n        dUSDCExchangeRate: DTokenInterface(address(_DUSDC)).exchangeRateCurrent(),\r\n        cSaiExchangeRate: CTokenInterface(address(_CSAI)).exchangeRateCurrent(),\r\n        cDaiExchangeRate: CTokenInterface(address(_CDAI)).exchangeRateCurrent(),\r\n        cUSDCExchangeRate: CTokenInterface(address(_CUSDC)).exchangeRateCurrent(),\r\n        dDaiBalanceUnderlying: DTokenInterface(address(_DDAI)).balanceOfUnderlying(wallet),\r\n        dUSDCBalanceUnderlying: DTokenInterface(address(_DUSDC)).balanceOfUnderlying(wallet),\r\n        cSaiBalanceUnderlying: CTokenInterface(address(_CSAI)).balanceOfUnderlying(wallet),\r\n        cDaiBalanceUnderlying: CTokenInterface(address(_CDAI)).balanceOfUnderlying(wallet),\r\n        cUSDCBalanceUnderlying: CTokenInterface(address(_CUSDC)).balanceOfUnderlying(wallet)    \r\n      });\r\n    }\r\n  }\r\n}","ABI":"[{\"inputs\":[{\"internalType\":\"address[]\",\"name\":\"wallets\",\"type\":\"address[]\"}],\"name\":\"getBalances\",\"outputs\":[{\"components\":[{\"internalType\":\"uint256\",\"name\":\"dDaiBalance\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"dUSDCBalance\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"daiBalance\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"usdcBalance\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"saiBalance\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"cSaiBalance\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"cDaiBalance\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"cUSDCBalance\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"etherBalance\",\"type\":\"uint256\"}],\"internalType\":\"struct BalancesChecker.Balances[]\",\"name\":\"balances\",\"type\":\"tuple[]\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address[]\",\"name\":\"wallets\",\"type\":\"address[]\"}],\"name\":\"getUnderlyingBalances\",\"outputs\":[{\"components\":[{\"internalType\":\"uint256\",\"name\":\"dDaiExchangeRate\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"dUSDCExchangeRate\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"cSaiExchangeRate\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"cDaiExchangeRate\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"cUSDCExchangeRate\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"dDaiBalanceUnderlying\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"dUSDCBalanceUnderlying\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"cSaiBalanceUnderlying\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"cDaiBalanceUnderlying\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"cUSDCBalanceUnderlying\",\"type\":\"uint256\"}],\"internalType\":\"struct BalancesChecker.UnderlyingBalances[]\",\"name\":\"underlyingBalances\",\"type\":\"tuple[]\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"}]","ContractName":"BalancesChecker","CompilerVersion":"v0.6.2+commit.bacdbe57","OptimizationUsed":"1","Runs":"200","ConstructorArguments":"","Library":"","LicenseType":"MIT","SwarmSource":"ipfs://e80145071936e95068ec1748690fddb71f77a085aceeee9cf1e0c4260f80725d"}]}