{"status":"1","message":"OK","result":[{"SourceCode":"pragma solidity ^0.5.6;\n\n\ninterface IERC20 {\n    function transfer(address to, uint256 value) external returns (bool);\n    function balanceOf(address who) external view returns (uint256);\n}\n\ncontract Escrow {\n\n    address payable public tokenRecipient;\n    address payable public ethRecipient;\n    uint256 public tokenAmount;\n    uint256 public ethAmount;\n    uint public withdrawalDate;\n    bool public isReleased = false;\n    IERC20 mbn;\n\n    constructor(\n        address payable _tokenRecipient,\n        address payable _ethRecipient,\n        uint256 _tokenAmount,\n        uint256 _ethAmount,\n        address tokenAddress\n    )\n    public {\n        tokenRecipient = _tokenRecipient;\n        ethRecipient = _ethRecipient;\n        tokenAmount = _tokenAmount;\n        ethAmount = _ethAmount;\n        withdrawalDate = now + 6 hours;\n        mbn = IERC20(tokenAddress);\n    }\n\n    function() external payable {}\n\n    function withdraw() public {\n        if (!isReleased) {\n            require(now > withdrawalDate, \"escrow is locked\");\n        }\n\n        uint256 ethOnContract = address(this).balance;\n        uint256 tokenOnContract = mbn.balanceOf(address(this));\n        if (ethOnContract > 0) {\n            tokenRecipient.transfer(ethOnContract);\n        }\n        if (tokenOnContract > 0) {\n            mbn.transfer(ethRecipient, tokenOnContract);\n        }\n\n    }\n\n    function release() public {\n        require(address(this).balance >= ethAmount, \"not enough ether\");\n        require(mbn.balanceOf(address(this)) >= tokenAmount, \"not enough tokens\");\n        mbn.transfer(tokenRecipient, tokenAmount);\n        ethRecipient.transfer(ethAmount);\n        isReleased = true;\n    }\n}\n\n","ABI":"[{\"inputs\":[{\"internalType\":\"address payable\",\"name\":\"_tokenRecipient\",\"type\":\"address\"},{\"internalType\":\"address payable\",\"name\":\"_ethRecipient\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"_tokenAmount\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"_ethAmount\",\"type\":\"uint256\"},{\"internalType\":\"address\",\"name\":\"tokenAddress\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"payable\":true,\"stateMutability\":\"payable\",\"type\":\"fallback\"},{\"constant\":true,\"inputs\":[],\"name\":\"ethAmount\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"ethRecipient\",\"outputs\":[{\"internalType\":\"address payable\",\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"isReleased\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[],\"name\":\"release\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"tokenAmount\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"tokenRecipient\",\"outputs\":[{\"internalType\":\"address payable\",\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[],\"name\":\"withdraw\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"withdrawalDate\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"}]","ContractName":"Escrow","CompilerVersion":"v0.5.16+commit.9c3226ce","OptimizationUsed":"1","Runs":"200","ConstructorArguments":"0000000000000000000000001a4e641b2ba7ceac062d0c5545de7067d4c94bf9000000000000000000000000465f3f0e473cecc95518c120fe29c2da44bc7b0100000000000000000000000000000000000000000000003635c9adc5dea00000000000000000000000000000000000000000000000000000016345785d8a00000000000000000000000000004eeea7b48b9c3ac8f70a9c932a8b1e8a5cb624c7","Library":"","LicenseType":"","SwarmSource":"bzzr://77b3f759d0ec4f77f284ceaf064c7dfd92c88a3815877cc6c3f973af790a9006"}]}