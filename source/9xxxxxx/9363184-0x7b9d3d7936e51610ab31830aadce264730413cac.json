{"status":"1","message":"OK","result":[{"SourceCode":"// random number oracle example contract\r\n\r\n// fromParam and toParam must be positive integers of less than 100 digits. amount can be extra entropy to generate the random number.\r\n\r\ninterface OrFeedInterface {\r\n    function getExchangeRate ( string fromSymbol, string toSymbol, string venue, uint256 amount ) external view returns ( uint256 );\r\n    function getTokenDecimalCount ( address tokenAddress ) external view returns ( uint256 );\r\n    function getTokenAddress ( string symbol ) external view returns ( address );\r\n    function getSynthBytes32 ( string symbol ) external view returns ( bytes32 );\r\n    function getForexAddress ( string symbol ) external view returns ( address );\r\n}\r\n\r\ncontract randomregisteredoracleExample {\r\n    OrFeedInterface orfeed = OrFeedInterface(0x8316b082621cfedab95bf4a44a1d4b64a6ffc336);\r\n\r\n    address owner;\r\n    modifier onlyOwner() {\r\n        assert (msg.sender == owner);\r\n        _;\r\n    }\r\n\r\n    constructor() public payable {\r\n        owner = msg.sender;\r\n    }\r\n\r\n    function getPriceFromOracle(string fromParam, string toParam, string, uint256 amount) public returns (uint256){\r\n\r\n\r\n        uint256 start = stringToUint(fromParam);\r\n        uint256 end = stringToUint(toParam);\r\n        assert(start < end);\r\n        uint256 width = end - start;\r\n\r\n        uint256 rate1 = orfeed.getExchangeRate(\"MKR\", \"DAI\", \"DEFAULT\", 10000000);\r\n        uint256 rate2 = orfeed.getExchangeRate(\"ETH\", \"DAI\", \"DEFAULT\", 10000000);\r\n        uint256 rate3 = orfeed.getExchangeRate(\"WBTC\", \"ETH\", \"DEFAULT\", 10000000);\r\n        uint256 rate4 = orfeed.getExchangeRate(\"KNC\", \"ETH\", \"DEFAULT\", 10000000);\r\n        uint256 rate5 = orfeed.getExchangeRate(\"SNX\", \"ETH\", \"DEFAULT\", 10000000);\r\n        uint256 seed = uint256(keccak256(abi.encodePacked(amount, block.coinbase, block.difficulty, block.timestamp, rate1, rate2, rate3, rate4, rate5)));\r\n        return (seed % width) + start;\r\n    }\r\n\r\n    function stringToUint(string s) pure private returns (uint) {\r\n        bytes memory b = bytes(s);\r\n        assert(b.length < 100);\r\n        uint result = 0;\r\n        for (uint i = 0; i < b.length; i++) {\r\n            assert(b[i] >= 48 && b[i] <= 57);\r\n            result = result * 10 + (uint(b[i]) - 48);\r\n        }\r\n        return result;\r\n    }\r\n\r\n\r\n    function changeOwner(address newOwner) onlyOwner public returns(bool){\r\n        owner = newOwner;\r\n        return true;\r\n    }\r\n\r\n    function withdrawBalance() onlyOwner public returns(bool) {\r\n        uint amount = this.balance;\r\n        msg.sender.transfer(amount);\r\n        return true;\r\n    }\r\n}","ABI":"[{\"constant\":false,\"inputs\":[],\"name\":\"withdrawBalance\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"newOwner\",\"type\":\"address\"}],\"name\":\"changeOwner\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"fromParam\",\"type\":\"string\"},{\"name\":\"toParam\",\"type\":\"string\"},{\"name\":\"\",\"type\":\"string\"},{\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"getPriceFromOracle\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"payable\":true,\"stateMutability\":\"payable\",\"type\":\"constructor\"}]","ContractName":"randomregisteredoracleExample","CompilerVersion":"v0.4.26+commit.4563c3fc","OptimizationUsed":"0","Runs":"200","ConstructorArguments":"","Library":"","LicenseType":"None","SwarmSource":"bzzr://d0e3d6a5ee9763c124e2758588fcede748b45922ba5f2f79973e094b3f75e460"}]}