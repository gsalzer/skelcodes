{"status":"1","message":"OK","result":[{"SourceCode":"pragma solidity 0.5.11;\r\npragma experimental ABIEncoderV2;\r\n\r\ninterface KeyRingFactoryV2 {\r\n  function newKeyRing(address userSigningKey, address targetKeyRing) external returns (address keyRing);\r\n}\r\n\r\n\r\ninterface SmartWallet {\r\n  struct Call {\r\n    address to;\r\n    bytes data;\r\n  }\r\n  \r\n  function executeAction(\r\n    address to,\r\n    bytes calldata data,\r\n    uint256 minimumActionGas,\r\n    bytes calldata userSignature,\r\n    bytes calldata dharmaSignature\r\n  ) external returns (bool ok, bytes memory returnData);\r\n  \r\n  function executeActionWithAtomicBatchCalls(\r\n    Call[] calldata calls,\r\n    uint256 minimumActionGas,\r\n    bytes calldata userSignature,\r\n    bytes calldata dharmaSignature\r\n  ) external returns (bool[] memory ok, bytes[] memory returnData);\r\n}\r\n\r\n\r\ncontract KeyRingGenericDeployerHelper {\r\n  KeyRingFactoryV2 internal constant _FACTORY = KeyRingFactoryV2(\r\n    0x06f3342295530DdFF6182f7a40906FD60cd19100\r\n  );\r\n    \r\n  function newKeyRingAndGenericAction(\r\n    address userSigningKey,\r\n    address targetKeyRing,\r\n    address smartWallet,\r\n    address to,\r\n    bytes calldata data,\r\n    uint256 minimumActionGas,\r\n    bytes calldata userSignature,\r\n    bytes calldata dharmaSignature\r\n  ) external returns (\r\n    address keyRing, bool genericActionOK, bytes memory genericActionReturnData\r\n  ) {\r\n    keyRing = _FACTORY.newKeyRing(userSigningKey, targetKeyRing);\r\n    (genericActionOK, genericActionReturnData) = SmartWallet(smartWallet).executeAction(\r\n      to, data, minimumActionGas, userSignature, dharmaSignature\r\n    );\r\n  }\r\n  \r\n  function newKeyRingAndExecuteActionWithAtomicBatchCalls(\r\n    address userSigningKey,\r\n    address targetKeyRing,\r\n    address smartWallet,\r\n    SmartWallet.Call[] calldata calls,\r\n    uint256 minimumActionGas,\r\n    bytes calldata userSignature,\r\n    bytes calldata dharmaSignature\r\n  ) external returns (\r\n    address keyRing, bool[] memory ok, bytes[] memory returnData\r\n  ) {\r\n    keyRing = _FACTORY.newKeyRing(userSigningKey, targetKeyRing);\r\n    (ok, returnData) = SmartWallet(smartWallet).executeActionWithAtomicBatchCalls(\r\n      calls, minimumActionGas, userSignature, dharmaSignature\r\n    );\r\n  }\r\n}","ABI":"[{\"constant\":false,\"inputs\":[{\"internalType\":\"address\",\"name\":\"userSigningKey\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"targetKeyRing\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"smartWallet\",\"type\":\"address\"},{\"components\":[{\"internalType\":\"address\",\"name\":\"to\",\"type\":\"address\"},{\"internalType\":\"bytes\",\"name\":\"data\",\"type\":\"bytes\"}],\"internalType\":\"struct SmartWallet.Call[]\",\"name\":\"calls\",\"type\":\"tuple[]\"},{\"internalType\":\"uint256\",\"name\":\"minimumActionGas\",\"type\":\"uint256\"},{\"internalType\":\"bytes\",\"name\":\"userSignature\",\"type\":\"bytes\"},{\"internalType\":\"bytes\",\"name\":\"dharmaSignature\",\"type\":\"bytes\"}],\"name\":\"newKeyRingAndExecuteActionWithAtomicBatchCalls\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"keyRing\",\"type\":\"address\"},{\"internalType\":\"bool[]\",\"name\":\"ok\",\"type\":\"bool[]\"},{\"internalType\":\"bytes[]\",\"name\":\"returnData\",\"type\":\"bytes[]\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"internalType\":\"address\",\"name\":\"userSigningKey\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"targetKeyRing\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"smartWallet\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"to\",\"type\":\"address\"},{\"internalType\":\"bytes\",\"name\":\"data\",\"type\":\"bytes\"},{\"internalType\":\"uint256\",\"name\":\"minimumActionGas\",\"type\":\"uint256\"},{\"internalType\":\"bytes\",\"name\":\"userSignature\",\"type\":\"bytes\"},{\"internalType\":\"bytes\",\"name\":\"dharmaSignature\",\"type\":\"bytes\"}],\"name\":\"newKeyRingAndGenericAction\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"keyRing\",\"type\":\"address\"},{\"internalType\":\"bool\",\"name\":\"genericActionOK\",\"type\":\"bool\"},{\"internalType\":\"bytes\",\"name\":\"genericActionReturnData\",\"type\":\"bytes\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"}]","ContractName":"KeyRingGenericDeployerHelper","CompilerVersion":"v0.5.11+commit.c082d0b4","OptimizationUsed":"0","Runs":"200","ConstructorArguments":"","Library":"","LicenseType":"None","SwarmSource":"bzzr://da08f5440c0096b6988fba4095ef1b6ac3533b6e5f34663ef7f80acffab586e5"}]}