{"status":"1","message":"OK","result":[{"SourceCode":"pragma solidity ^0.5.0;\r\n\r\n/** \r\n  * @title Remember Jeju 4.3 Tragedy \r\n  * @author Sooyoung Hyun\r\n  * @notice You can use this contract to create online memorial database based on smart contracts.\r\n  * @dev For more implementation details read the \"README.md\" document. \r\n  */\r\ncontract Remember43 {\r\n    \r\n    mapping(uint16 => Victim) public victims;\r\n    mapping(address => bool) public isContributor;\r\n    \r\n    uint16 public victimsCount;\r\n    address owner;\r\n    uint timeout = 20 minutes;\r\n    \r\n    modifier onlyOwner {\r\n        require(owner == msg.sender);\r\n        _;\r\n    }\r\n    \r\n    modifier onlyContributor {\r\n        require(isContributor[msg.sender]);\r\n        _;\r\n    }\r\n    \r\n    struct Victim {\r\n        uint16 idx;\r\n        string name;\r\n        string addr;\r\n        uint createTime;\r\n    }\r\n    \r\n    event contributorSet(address indexed contributor, bool state);\r\n    event victimAdded(uint16 idx, string name, string addr, uint createTime);\r\n    event victimModified(uint16 idx, string name, string addr, uint createTime);\r\n\r\n    constructor() public {\r\n        owner = msg.sender;\r\n    }\r\n    \r\n    /**\r\n      * @notice Set contributor's state true or false.\r\n      * @dev Only owner can use this function to change contributor's state. \r\n      * @param _addr User address for updating state.\r\n      * @param _state True or false for updating state.\r\n      */\r\n    function setContributor(address _addr, bool _state) onlyOwner public {\r\n        isContributor[_addr] = _state;\r\n        emit contributorSet(_addr, isContributor[_addr]);\r\n    }\r\n    \r\n    /**\r\n      * @notice Add victim to storage.\r\n      * @dev Only owner and contributor can use this function to add victim to storage.\r\n      * @param _name Name of victim.\r\n      * @param _addr Local address of victim.\r\n      */\r\n    function addVictim(string memory _name, string memory _addr) onlyContributor public {\r\n        victimsCount++;\r\n        Victim memory vt = Victim(victimsCount, _name, _addr, now);\r\n        victims[victimsCount] = vt;\r\n        emit victimAdded(victims[victimsCount].idx, victims[victimsCount].name, victims[victimsCount].addr, victims[victimsCount].createTime);\r\n    }\r\n    \r\n    /**\r\n      * @notice Get victim infomation.\r\n      * @dev Function used in frontend to get the user infomation.\r\n      * @param _idx Request index for providing infomation.  \r\n      * @return _idx User index of requests.\r\n      * @return vt.name User name of requests.\r\n      * @return vt.addr User local address of requests.\r\n      */\r\n    function getVictim(uint16 _idx) public view returns(uint16, string memory, string memory) {\r\n        Victim memory vt = victims[_idx]; \r\n        return (_idx, vt.name, vt.addr); \r\n    }\r\n    \r\n    /**\r\n      * @notice Modify victim infomation.\r\n      * @dev Only owner and contributor can use this function to modify victim infomation.\r\n      * @dev It can be modified only within the time limit.\r\n      * @param _idx Index of victim.\r\n      * @param _name Name of victim.\r\n      * @param _addr Local address of victim.\r\n      */\r\n    function modifyVictim(uint16 _idx, string memory _name, string memory _addr) onlyContributor public {\r\n        require(victims[_idx].createTime + timeout > now);\r\n        victims[_idx].name = _name;\r\n        victims[_idx].addr = _addr;\r\n        emit victimModified(victims[_idx].idx, victims[_idx].name, victims[_idx].addr, victims[_idx].createTime);\r\n        \r\n    }\r\n}","ABI":"[{\"constant\":true,\"inputs\":[{\"name\":\"\",\"type\":\"address\"}],\"name\":\"isContributor\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"victimsCount\",\"outputs\":[{\"name\":\"\",\"type\":\"uint16\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_addr\",\"type\":\"address\"},{\"name\":\"_state\",\"type\":\"bool\"}],\"name\":\"setContributor\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_name\",\"type\":\"string\"},{\"name\":\"_addr\",\"type\":\"string\"}],\"name\":\"addVictim\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_idx\",\"type\":\"uint16\"},{\"name\":\"_name\",\"type\":\"string\"},{\"name\":\"_addr\",\"type\":\"string\"}],\"name\":\"modifyVictim\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"\",\"type\":\"uint16\"}],\"name\":\"victims\",\"outputs\":[{\"name\":\"idx\",\"type\":\"uint16\"},{\"name\":\"name\",\"type\":\"string\"},{\"name\":\"addr\",\"type\":\"string\"},{\"name\":\"createTime\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"_idx\",\"type\":\"uint16\"}],\"name\":\"getVictim\",\"outputs\":[{\"name\":\"\",\"type\":\"uint16\"},{\"name\":\"\",\"type\":\"string\"},{\"name\":\"\",\"type\":\"string\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"name\":\"contributor\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"state\",\"type\":\"bool\"}],\"name\":\"contributorSet\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"name\":\"idx\",\"type\":\"uint16\"},{\"indexed\":false,\"name\":\"name\",\"type\":\"string\"},{\"indexed\":false,\"name\":\"addr\",\"type\":\"string\"},{\"indexed\":false,\"name\":\"createTime\",\"type\":\"uint256\"}],\"name\":\"victimAdded\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"name\":\"idx\",\"type\":\"uint16\"},{\"indexed\":false,\"name\":\"name\",\"type\":\"string\"},{\"indexed\":false,\"name\":\"addr\",\"type\":\"string\"},{\"indexed\":false,\"name\":\"createTime\",\"type\":\"uint256\"}],\"name\":\"victimModified\",\"type\":\"event\"}]","ContractName":"Remember43","CompilerVersion":"v0.5.1+commit.c8a2cb62","OptimizationUsed":"0","Runs":"200","ConstructorArguments":"","Library":"","SwarmSource":"bzzr://c016afa72eaed9c182366b10fcfe74bca50a88b7d5e678d40b8ac37eebee1663"}]}