{"status":"1","message":"OK","result":[{"SourceCode":"pragma solidity 0.4.25;\r\n\r\n// Констракт.\r\ncontract MyMileage {\r\n\r\n    // Владелец контракта.\r\n    address private owner;\r\n\r\n    // Отображение хеш сумм файлов в дату.\r\n    mapping(bytes32 => uint) private map;\r\n\r\n    // Модификатор доступа \"только владелец\".\r\n    modifier onlyOwner {\r\n        require(msg.sender == owner);\r\n        _;\r\n    }\r\n\r\n    // Конструктор.\r\n    constructor() public {\r\n        owner = msg.sender;\r\n    }\r\n\r\n    // Добавление записи.\r\n    function put(bytes32 fileHash) onlyOwner public {\r\n\r\n        // Проверка пустого значения по ключу.\r\n        require(free(fileHash));\r\n\r\n        // Установка значения.\r\n        map[fileHash] = now;\r\n    }\r\n\r\n    // Проверка наличия значения.\r\n    function free(bytes32 fileHash) view public returns (bool) {\r\n        return map[fileHash] == 0;\r\n    }\r\n\r\n    // Получение значения.\r\n    function get(bytes32 fileHash) view public returns (uint) {\r\n        return map[fileHash];\r\n    }\r\n\r\n    // Получение кода подтверждения\r\n    // в виде хеша блока.\r\n    function getConfirmationCode() view public returns (bytes32) {\r\n        return blockhash(block.number - 6);\r\n    }\r\n}","ABI":"[{\"constant\":true,\"inputs\":[{\"name\":\"fileHash\",\"type\":\"bytes32\"}],\"name\":\"get\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"fileHash\",\"type\":\"bytes32\"}],\"name\":\"free\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"fileHash\",\"type\":\"bytes32\"}],\"name\":\"put\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"getConfirmationCode\",\"outputs\":[{\"name\":\"\",\"type\":\"bytes32\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"}]","ContractName":"MyMileage","CompilerVersion":"v0.4.25+commit.59dbf8f1","OptimizationUsed":"1","Runs":"200","ConstructorArguments":"","Library":"","SwarmSource":"bzzr://d60e33a412d9e7c6e2b2fb2afff22d86b2d9484da9bcf62eff433925949766f2"}]}