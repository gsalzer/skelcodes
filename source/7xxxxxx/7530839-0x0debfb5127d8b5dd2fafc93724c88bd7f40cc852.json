{"status":"1","message":"OK","result":[{"SourceCode":"pragma solidity ^0.4.25;\r\n\r\ninterface DSG {\r\n    function gamingDividendsReception() payable external;\r\n}\r\n\r\ncontract DSG_Turntable{\r\n    using SafeMath for uint256;\r\n    \r\n    address constant public DSG_ADDRESS = 0x696826C18A6Bc9Be4BBfe3c3A6BB9f5a69388687;\r\n    uint256 public totalDividends;\r\n    uint256 public totalWinnings;\r\n    uint256 public totalTurnover;\r\n    uint256 public totalPlayed;\r\n    uint256 public maxBet;\r\n    uint256 public minBet;\r\n    uint256 public minContractBalance;\r\n    uint256 public minBetForJackpot;\r\n    uint256 public jackpotBalance;\r\n    uint256 public nextPayout;\r\n    uint256 public ownerDeposit;\r\n    address[2] public owners;\r\n    address[2] public candidates;\r\n    bool public paused;\r\n    \r\n    mapping (address => Bet) private usersBets;\r\n    \r\n    struct Bet {\r\n        uint256 blockNumber;\r\n        uint256 bet;\r\n    }\r\n    \r\n    modifier onlyOwners(){\r\n        require(msg.sender == owners[0] || msg.sender == owners[1]);\r\n        _;\r\n    }\r\n    modifier onlyUsers(){\r\n        require(tx.origin == msg.sender);\r\n        _;\r\n    }\r\n    modifier checkBlockNumber(){\r\n        uint256 blockNumber = usersBets[msg.sender].blockNumber;\r\n        if(block.number.sub(blockNumber) >= 250 && blockNumber > 0){\r\n            emit Result(msg.sender, 1000, 0, jackpotBalance, usersBets[msg.sender].bet, 0);\r\n            delete usersBets[msg.sender];\r\n        }\r\n        else{\r\n            _;\r\n        }\r\n    }\r\n    constructor(address secondOwner) public payable{\r\n        owners[0]   = msg.sender;\r\n        owners[1]   = secondOwner;\r\n        ownerDeposit   = msg.value;\r\n        jackpotBalance = jackpotBalance.add(ownerDeposit.div(1000));\r\n    }\r\n    function play() public payable checkBlockNumber onlyUsers{\r\n        uint256 bet = msg.value;\r\n        require(checkSolvency(bet), \"Not enough ETH in contract\");\r\n        require(paused == false, \"Game was stopped\");\r\n        require(bet >= minBet && bet <= maxBet, \"Amount should be within range\");\r\n        require(usersBets[msg.sender].bet == 0, \"You have already bet\");\r\n        usersBets[msg.sender].bet = bet;\r\n        usersBets[msg.sender].blockNumber = block.number;\r\n        totalTurnover = totalTurnover.add(bet);\r\n        totalPlayed = totalPlayed.add(1);\r\n        emit PlaceBet(msg.sender, bet, now);\r\n    }\r\n    function result() public checkBlockNumber onlyUsers{\r\n        require(blockhash(usersBets[msg.sender].blockNumber) != 0, \"Your time to determine the result has come out or not yet come\");\r\n        uint256 bet = usersBets[msg.sender].bet;\r\n        uint256 totalWinAmount;\r\n        uint256 r = _random(1000);\r\n        uint256 winRate = 0;\r\n        if(_winChanceJ(r, bet)){\r\n\t\t    winRate = 1000;\r\n            totalWinAmount = totalWinAmount.add(jackpotBalance);\r\n            emit Jackpot(msg.sender, jackpotBalance, now);\r\n            delete jackpotBalance;\r\n\t\t}\r\n\t\tif(_winChance1x(r)){\r\n\t\t    winRate = 100;\r\n\t\t    totalWinAmount = totalWinAmount.add(bet);\r\n\t\t}\r\n\t\tif(_winChance1_5x(r)){\r\n\t\t    winRate = 150;\r\n\t\t    totalWinAmount = totalWinAmount.add(bet.mul(winRate).div(100));\r\n\t\t}\r\n\t\tif(_winChance2x(r)){\r\n\t\t    winRate = 200;\r\n\t\t    totalWinAmount = totalWinAmount.add(bet.mul(winRate).div(100));\r\n\t\t}\r\n\t\tif(_winChance2_5x(r)){\r\n\t\t    winRate = 250;\r\n\t\t    totalWinAmount = totalWinAmount.add(bet.mul(winRate).div(100));\r\n\t\t}\r\n\t\tif(_winChance3x(r)){\r\n\t\t    winRate = 300;\r\n\t\t    totalWinAmount = totalWinAmount.add(bet.mul(winRate).div(100));\r\n\t\t}\r\n\t\tif(_winChance5x(r)){\r\n\t\t    winRate = 500;\r\n\t\t    totalWinAmount = totalWinAmount.add(bet.mul(winRate).div(100));\r\n\t\t}\r\n\t\tif(totalWinAmount > 0){\r\n            msg.sender.transfer(totalWinAmount);\r\n            totalWinnings = totalWinnings.add(totalWinAmount);\r\n        }\r\n        jackpotBalance = jackpotBalance.add(bet.div(1000));\r\n        delete usersBets[msg.sender];\r\n        emit Result(msg.sender, r, totalWinAmount, jackpotBalance, bet, winRate);\r\n    }\r\n    function _winChanceJ(uint r, uint bet) private view returns(bool){\r\n\t\tif(bet >= minBetForJackpot && r == 999 && jackpotBalance > 0) return true;\r\n\t\telse return false;\r\n\t}\r\n    function _winChance5x(uint r) private pure returns(bool){\r\n\t\tif(r == 11 || r == 21 || r == 31 || r == 41 || r == 51 || r == 61 || r == 71 || r == 81 || r == 91 || r == 99) return true;\r\n\t\telse return false;\r\n\t}\r\n\tfunction _winChance3x(uint r) private pure returns(bool){\r\n\t\tif( (r >= 80 && r < 83)   ||\r\n\t\t\t(r >= 180 && r < 183) ||\r\n\t\t\t(r >= 280 && r < 283) ||\r\n\t\t\t(r >= 380 && r < 383) ||\r\n\t\t\t(r >= 480 && r < 483) ||\r\n\t\t\t(r >= 580 && r < 583) ||\r\n\t\t\t(r >= 680 && r < 683) ||\r\n\t\t\t(r >= 780 && r < 783) ||\r\n\t\t\t(r >= 880 && r < 883) ||\r\n\t\t\t(r >= 980 && r < 983))\r\n\t\treturn true;\r\n\t\telse return false;\r\n\t}\r\n\tfunction _winChance2_5x(uint r) private pure returns(bool){\r\n\t\tif( (r >= 75 && r < 80)   ||\r\n\t\t\t(r >= 175 && r < 180) ||\r\n\t\t\t(r >= 275 && r < 280) ||\r\n\t\t\t(r >= 375 && r < 380) ||\r\n\t\t\t(r >= 475 && r < 480) ||\r\n\t\t\t(r >= 575 && r < 580) ||\r\n\t\t\t(r >= 675 && r < 680) ||\r\n\t\t\t(r >= 775 && r < 780) ||\r\n\t\t\t(r >= 875 && r < 880) ||\r\n\t\t\t(r >= 975 && r < 980))\r\n\t    return true;\r\n\t\telse return false;\r\n\t}\r\n\tfunction _winChance2x(uint r) private pure returns(bool){\r\n\t\tif((r >= 50 && r < 75) || (r >= 350 && r < 375) || (r >= 650 && r < 675) || (r >= 950 && r < 975)) return true;\r\n\t\telse return false;\r\n\t}\r\n\tfunction _winChance1_5x(uint r) private pure returns(bool){\r\n\t\tif((r >= 25 && r < 50) || (r >= 125 && r < 150)) return true;\r\n\t\telse if((r >= 425 && r < 450) || (r >= 525 && r < 550)) return true;\r\n\t\telse if((r >= 625 && r < 650) || (r >= 725 && r < 750)) return true;\r\n\t\telse return false;\r\n\t}\r\n\tfunction _winChance1x(uint r) private pure returns(bool){\r\n\t\tif((r >= 0 && r < 25) || (r >= 100 && r < 125)) return true;\r\n\t\telse if((r >= 400 && r < 425) || (r >= 500 && r < 525)) return true;\r\n\t\telse if((r >= 600 && r < 625) || (r >= 700 && r < 725)) return true;\r\n\t\telse if((r >= 800 && r < 825) || (r >= 900 && r < 925)) return true;\r\n\t\telse return false;\r\n\t}\r\n    function checkSolvency(uint bet) view public returns(bool){\r\n        if(getContractBalance() > bet.mul(500).div(100).add(jackpotBalance)) return true;\r\n        else return false;\r\n    }\r\n    function sendDividends() public {\r\n        require(getContractBalance() > minContractBalance && now > nextPayout, \"You cannot send dividends\");\r\n        DSG DSG0 = DSG(DSG_ADDRESS);\r\n        uint256 balance = getContractBalance();\r\n        uint256 dividends = balance.sub(minContractBalance);\r\n        nextPayout = now.add(7 days);\r\n        totalDividends = totalDividends.add(dividends);\r\n        DSG0.gamingDividendsReception.value(dividends)();\r\n        emit Dividends(balance, dividends, now);\r\n    }\r\n     function getContractBalance() public view returns (uint256){\r\n        return address(this).balance;\r\n    }\r\n    function _random(uint256 max) private view returns(uint256){\r\n        bytes32 hash = blockhash(usersBets[msg.sender].blockNumber);\r\n        return uint256(keccak256(abi.encode(hash, msg.sender))) % max;\r\n    }\r\n    function deposit() public payable onlyOwners{\r\n        ownerDeposit = ownerDeposit.add(msg.value);\r\n    }\r\n    function sendOwnerDeposit(address recipient) public onlyOwners{\r\n        require(paused == true, 'Game was not stopped');\r\n        uint256 contractBalance = getContractBalance();\r\n        if(contractBalance >= ownerDeposit){\r\n            recipient.transfer(ownerDeposit);\r\n        }\r\n        else{\r\n            recipient.transfer(contractBalance);\r\n        }\r\n        delete jackpotBalance;\r\n        delete ownerDeposit;\r\n    }\r\n    function pauseGame(bool option) public onlyOwners{\r\n        paused = option;\r\n    }\r\n    function setMinBet(uint256 eth) public onlyOwners{\r\n        minBet = eth;\r\n    }\r\n    function setMaxBet(uint256 eth) public onlyOwners{\r\n        maxBet = eth;\r\n    }\r\n    function setMinBetForJackpot(uint256 eth) public onlyOwners{\r\n        minBetForJackpot = eth;\r\n    }\r\n    function setMinContractBalance(uint256 eth) public onlyOwners{\r\n        minContractBalance = eth;\r\n    }\r\n    function transferOwnership(address newOwnerAddress, uint8 k) public onlyOwners{\r\n        candidates[k] = newOwnerAddress;\r\n    }\r\n    function confirmOwner(uint8 k) public{\r\n        require(msg.sender == candidates[k]);\r\n        owners[k] = candidates[k];\r\n    }\r\n    event Dividends(\r\n        uint256 balance,\r\n        uint256 dividends,\r\n        uint256 timestamp\r\n    );\r\n    event Jackpot(\r\n        address indexed player,\r\n        uint256 jackpot,\r\n        uint256 timestamp\r\n    );\r\n    event PlaceBet(\r\n        address indexed player,\r\n        uint256 bet,\r\n        uint256 timestamp\r\n    );\r\n    event Result(\r\n        address indexed player,\r\n        uint256 indexed random,\r\n        uint256 totalWinAmount,\r\n        uint256 jackpotBalance,\r\n        uint256 bet,\r\n        uint256 winRate\r\n    );\r\n}\r\nlibrary SafeMath {\r\n    function mul(uint256 a, uint256 b) internal pure returns (uint256) {\r\n        if (a == 0) {  return 0; }\r\n        uint256 c = a * b;\r\n        require(c / a == b);\r\n        return c;\r\n    }\r\n    function div(uint256 a, uint256 b) internal pure returns (uint256) {\r\n        require(b > 0);\r\n        uint256 c = a / b;\r\n        return c;\r\n    }\r\n    function sub(uint256 a, uint256 b) internal pure returns (uint256) {\r\n        require(b <= a);\r\n        uint256 c = a - b;\r\n        return c;\r\n    }\r\n    function add(uint256 a, uint256 b) internal pure returns (uint256) {\r\n        uint256 c = a + b;\r\n        require(c >= a);\r\n        return c;\r\n    }\r\n    function mod(uint256 a, uint256 b) internal pure returns (uint256) {\r\n        require(b != 0);\r\n        return a % b;\r\n    }\r\n}","ABI":"[{\"constant\":true,\"inputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"owners\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"jackpotBalance\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"eth\",\"type\":\"uint256\"}],\"name\":\"setMinContractBalance\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"eth\",\"type\":\"uint256\"}],\"name\":\"setMinBetForJackpot\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"maxBet\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"minBetForJackpot\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"candidates\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"option\",\"type\":\"bool\"}],\"name\":\"pauseGame\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"paused\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"totalTurnover\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[],\"name\":\"result\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"minContractBalance\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"newOwnerAddress\",\"type\":\"address\"},{\"name\":\"k\",\"type\":\"uint8\"}],\"name\":\"transferOwnership\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"getContractBalance\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"ownerDeposit\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"nextPayout\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"recipient\",\"type\":\"address\"}],\"name\":\"sendOwnerDeposit\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"eth\",\"type\":\"uint256\"}],\"name\":\"setMaxBet\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"eth\",\"type\":\"uint256\"}],\"name\":\"setMinBet\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[],\"name\":\"play\",\"outputs\":[],\"payable\":true,\"stateMutability\":\"payable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"minBet\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"totalDividends\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"bet\",\"type\":\"uint256\"}],\"name\":\"checkSolvency\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"totalPlayed\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[],\"name\":\"sendDividends\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"totalWinnings\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"DSG_ADDRESS\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[],\"name\":\"deposit\",\"outputs\":[],\"payable\":true,\"stateMutability\":\"payable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"k\",\"type\":\"uint8\"}],\"name\":\"confirmOwner\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"name\":\"secondOwner\",\"type\":\"address\"}],\"payable\":true,\"stateMutability\":\"payable\",\"type\":\"constructor\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"name\":\"balance\",\"type\":\"uint256\"},{\"indexed\":false,\"name\":\"dividends\",\"type\":\"uint256\"},{\"indexed\":false,\"name\":\"timestamp\",\"type\":\"uint256\"}],\"name\":\"Dividends\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"name\":\"player\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"jackpot\",\"type\":\"uint256\"},{\"indexed\":false,\"name\":\"timestamp\",\"type\":\"uint256\"}],\"name\":\"Jackpot\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"name\":\"player\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"bet\",\"type\":\"uint256\"},{\"indexed\":false,\"name\":\"timestamp\",\"type\":\"uint256\"}],\"name\":\"PlaceBet\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"name\":\"player\",\"type\":\"address\"},{\"indexed\":true,\"name\":\"random\",\"type\":\"uint256\"},{\"indexed\":false,\"name\":\"totalWinAmount\",\"type\":\"uint256\"},{\"indexed\":false,\"name\":\"jackpotBalance\",\"type\":\"uint256\"},{\"indexed\":false,\"name\":\"bet\",\"type\":\"uint256\"},{\"indexed\":false,\"name\":\"winRate\",\"type\":\"uint256\"}],\"name\":\"Result\",\"type\":\"event\"}]","ContractName":"DSG_Turntable","CompilerVersion":"v0.4.25+commit.59dbf8f1","OptimizationUsed":"1","Runs":"200","ConstructorArguments":"000000000000000000000000cf768464a08cd22b698758b5fe0de6b6216a886b","Library":"","SwarmSource":"bzzr://026314f04df52db6146462570ac482a7de6c1a232da4aaa1d84b94f24b6c15c2"}]}