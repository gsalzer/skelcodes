{"status":"1","message":"OK","result":[{"SourceCode":"pragma solidity ^0.5.0;\r\npragma experimental ABIEncoderV2;\r\n\r\n\r\n/**\r\n * @title Ownable\r\n * @dev The Ownable contract has an owner address, and provides basic authorization control\r\n * functions, this simplifies the implementation of \"user permissions\".\r\n */\r\ncontract Ownable {\r\n    address private _owner;\r\n\r\n    event OwnershipTransferred(address indexed previousOwner, address indexed newOwner);\r\n\r\n    /**\r\n     * @dev The Ownable constructor sets the original `owner` of the contract to the sender\r\n     * account.\r\n     */\r\n    constructor () internal {\r\n        _owner = msg.sender;\r\n        emit OwnershipTransferred(address(0), _owner);\r\n    }\r\n\r\n    /**\r\n     * @return the address of the owner.\r\n     */\r\n    function owner() public view returns (address) {\r\n        return _owner;\r\n    }\r\n\r\n    /**\r\n     * @dev Throws if called by any account other than the owner.\r\n     */\r\n    modifier onlyOwner() {\r\n        require(isOwner());\r\n        _;\r\n    }\r\n\r\n    /**\r\n     * @return true if `msg.sender` is the owner of the contract.\r\n     */\r\n    function isOwner() public view returns (bool) {\r\n        return msg.sender == _owner;\r\n    }\r\n\r\n    /**\r\n     * @dev Allows the current owner to relinquish control of the contract.\r\n     * @notice Renouncing to ownership will leave the contract without an owner.\r\n     * It will not be possible to call the functions with the `onlyOwner`\r\n     * modifier anymore.\r\n     */\r\n    function renounceOwnership() public onlyOwner {\r\n        emit OwnershipTransferred(_owner, address(0));\r\n        _owner = address(0);\r\n    }\r\n\r\n    /**\r\n     * @dev Allows the current owner to transfer control of the contract to a newOwner.\r\n     * @param newOwner The address to transfer ownership to.\r\n     */\r\n    function transferOwnership(address newOwner) public onlyOwner {\r\n        _transferOwnership(newOwner);\r\n    }\r\n\r\n    /**\r\n     * @dev Transfers control of the contract to a newOwner.\r\n     * @param newOwner The address to transfer ownership to.\r\n     */\r\n    function _transferOwnership(address newOwner) internal {\r\n        require(newOwner != address(0));\r\n        emit OwnershipTransferred(_owner, newOwner);\r\n        _owner = newOwner;\r\n    }\r\n}\r\n\r\n\r\n/// @title Enum - Collection of enums\r\n/// @author Richard Meissner - <richard@gnosis.pm>\r\ncontract Enum {\r\n    enum Operation {\r\n        Call,\r\n        DelegateCall,\r\n        Create\r\n    }\r\n}\r\n\r\ninterface MMInterface {\r\n    function split(\r\n        address tokenAddress\r\n    )\r\n    external\r\n    returns (bool);\r\n}\r\n\r\ninterface SM {\r\n\r\n    function isValidSubscription(\r\n        bytes32 subscriptionHash,\r\n        bytes calldata signatures\r\n    ) external view returns (bool);\r\n\r\n    function execSubscription (\r\n        address to,\r\n        uint256 value,\r\n        bytes calldata data,\r\n        Enum.Operation operation,\r\n        uint256 safeTxGas,\r\n        uint256 dataGas,\r\n        uint256 gasPrice,\r\n        address gasToken,\r\n        address payable refundReceiver,\r\n        bytes calldata meta,\r\n        bytes calldata signatures) external returns (bool);\r\n\r\n    function cancelSubscriptionAsRecipient(\r\n        address to,\r\n        uint256 value,\r\n        bytes calldata data,\r\n        Enum.Operation operation,\r\n        uint256 safeTxGas,\r\n        uint256 dataGas,\r\n        uint256 gasPrice,\r\n        address gasToken,\r\n        address payable refundReceiver,\r\n        bytes calldata meta,\r\n        bytes calldata signatures) external returns (bool);\r\n}\r\n\r\ncontract BulkExecutor is Ownable {\r\n\r\n\r\n    event SuccessSplit();\r\n\r\n    function execute(\r\n        address[] memory customers,\r\n        address payable[] memory to,\r\n        uint256[] memory value,\r\n        bytes[] memory data,\r\n        Enum.Operation[] memory operation,\r\n        uint256[][3] memory gasInfo, //0 txgas 1dataGas 2 gasPrice\r\n        address[] memory gasToken,\r\n        address payable[] memory refundReceiver,\r\n        bytes[][2] memory metaSig\r\n    )\r\n    public\r\n    returns (\r\n        uint256 i\r\n    )\r\n    {\r\n        i = 0;\r\n\r\n        while (i < customers.length) {\r\n            if (SM(customers[i]).execSubscription(\r\n                    to[i],\r\n                    value[i],\r\n                    data[i],\r\n                    operation[i],\r\n                    gasInfo[i][0], //txgas\r\n                    gasInfo[i][1], //datagas\r\n                    gasInfo[i][2], //gasPrice\r\n                    gasToken[i],\r\n                    refundReceiver[i],\r\n                    metaSig[i][0], //meta\r\n                    metaSig[i][1]  //sigs\r\n                )\r\n            ) {\r\n\r\n                if (value[i] == uint(0)) {\r\n\r\n                    address payable splitter;\r\n                    bytes memory dataLocal = data[i];\r\n                    // solium-disable-next-line security/no-inline-assembly\r\n                    assembly {\r\n                        splitter := div(mload(add(add(dataLocal, 0x20), 16)), 0x1000000000000000000000000)\r\n                    }\r\n\r\n                    if ((MMInterface(splitter).split(to[i]))) {\r\n                        emit SuccessSplit();\r\n                    }\r\n\r\n                } else {\r\n                    if (MMInterface(address(to[i])).split(address(0))) {\r\n                        emit SuccessSplit();\r\n                    }\r\n                }\r\n            }\r\n            i++;\r\n        }\r\n    }\r\n}","ABI":"[{\"constant\":false,\"inputs\":[{\"name\":\"customers\",\"type\":\"address[]\"},{\"name\":\"to\",\"type\":\"address[]\"},{\"name\":\"value\",\"type\":\"uint256[]\"},{\"name\":\"data\",\"type\":\"bytes[]\"},{\"name\":\"operation\",\"type\":\"uint8[]\"},{\"name\":\"gasInfo\",\"type\":\"uint256[][3]\"},{\"name\":\"gasToken\",\"type\":\"address[]\"},{\"name\":\"refundReceiver\",\"type\":\"address[]\"},{\"name\":\"metaSig\",\"type\":\"bytes[][2]\"}],\"name\":\"execute\",\"outputs\":[{\"name\":\"i\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[],\"name\":\"renounceOwnership\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"owner\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"isOwner\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"newOwner\",\"type\":\"address\"}],\"name\":\"transferOwnership\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"anonymous\":false,\"inputs\":[],\"name\":\"SuccessSplit\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"name\":\"previousOwner\",\"type\":\"address\"},{\"indexed\":true,\"name\":\"newOwner\",\"type\":\"address\"}],\"name\":\"OwnershipTransferred\",\"type\":\"event\"}]","ContractName":"BulkExecutor","CompilerVersion":"v0.5.3+commit.10d17f24","OptimizationUsed":"1","Runs":"200","ConstructorArguments":"","Library":"","SwarmSource":"bzzr://b0c83590e928e751c09f10fc9f2f6b9fc4310f41fab1e845cdf07b426b623a85"}]}