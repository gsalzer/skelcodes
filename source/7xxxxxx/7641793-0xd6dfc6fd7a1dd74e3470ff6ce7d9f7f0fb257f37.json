{"status":"1","message":"OK","result":[{"SourceCode":"pragma solidity >=0.4.21 < 0.6.0;\r\n\r\ncontract DocumentSigner {\r\n    mapping(bytes32=>string) public docs;\r\n    mapping(bytes32=>address[]) public signers;\r\n    \r\n    modifier validDoc(bytes32 _docHash) {\r\n        require(bytes(docs[_docHash]).length != 0, \"Document is not submitted\");\r\n        _;\r\n    }\r\n\r\n    event Sign(bytes32 indexed _doc, address indexed _signer);\r\n    event NewDocument(bytes32 _docHash);\r\n\r\n    function submitDocument(string memory _doc) public {\r\n        bytes32 _docHash = getHash(_doc);\r\n        if(bytes(docs[_docHash]).length == 0) {\r\n            docs[_docHash] = _doc;\r\n            emit NewDocument(_docHash);\r\n        }\r\n    }\r\n\r\n    function signDocument(bytes32 _docHash) public validDoc(_docHash){\r\n        address[] storage _signers = signers[_docHash];\r\n        for(uint i = 0; i < _signers.length; i++) {\r\n            if(_signers[i] == msg.sender) return;\r\n        }\r\n        _signers.push(msg.sender);\r\n    }\r\n    \r\n    function getDetail(bytes32 _docHash) public validDoc(_docHash) view returns(string memory _doc, address[] memory _signers) {\r\n        _doc = docs[_docHash];\r\n        _signers = signers[_docHash];\r\n    }\r\n    \r\n    function getHash(string memory _doc) public pure returns(bytes32) {\r\n        return keccak256(abi.encodePacked(_doc));\r\n    }\r\n}","ABI":"[{\"constant\":false,\"inputs\":[{\"name\":\"_docHash\",\"type\":\"bytes32\"}],\"name\":\"signDocument\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"_doc\",\"type\":\"string\"}],\"name\":\"getHash\",\"outputs\":[{\"name\":\"\",\"type\":\"bytes32\"}],\"payable\":false,\"stateMutability\":\"pure\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"\",\"type\":\"bytes32\"}],\"name\":\"docs\",\"outputs\":[{\"name\":\"\",\"type\":\"string\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"_docHash\",\"type\":\"bytes32\"}],\"name\":\"getDetail\",\"outputs\":[{\"name\":\"_doc\",\"type\":\"string\"},{\"name\":\"_signers\",\"type\":\"address[]\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_doc\",\"type\":\"string\"}],\"name\":\"submitDocument\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"\",\"type\":\"bytes32\"},{\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"signers\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"name\":\"_doc\",\"type\":\"bytes32\"},{\"indexed\":true,\"name\":\"_signer\",\"type\":\"address\"}],\"name\":\"Sign\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"name\":\"_docHash\",\"type\":\"bytes32\"}],\"name\":\"NewDocument\",\"type\":\"event\"}]","ContractName":"DocumentSigner","CompilerVersion":"v0.5.1+commit.c8a2cb62","OptimizationUsed":"1","Runs":"200","ConstructorArguments":"","Library":"","SwarmSource":"bzzr://84cf78154e73b944e7d16f4883845f2da64d585ae06c3037f8226a29ad9926d6"}]}