{"status":"1","message":"OK","result":[{"SourceCode":"pragma solidity 0.5.5;\r\n\r\ncontract IERC20 {\r\n    function transfer(address to, uint256 value) public returns (bool) {}\r\n}\r\n\r\ncontract NoTx {\r\n\r\n  // initialize\r\n  uint256 public REWARD_PER_WIN = 125000000;\r\n  uint256 public CREATOR_REWARD = 1250000;\r\n  address public CREATOR_ADDRESS;\r\n  address public GTT_ADDRESS;\r\n\r\n  // game state params\r\n  uint256 public lastPayout;\r\n  address public currWinner;\r\n\r\n  mapping (uint256 => bool) public didBlockHaveTx;  // blockNumber, didBlockHaveTx\r\n\r\n  constructor() public {\r\n    CREATOR_ADDRESS = msg.sender;\r\n    currWinner = address(this);\r\n  }\r\n\r\n  // can only be called once\r\n  function setTokenAddress(address _gttAddress) public {\r\n    if (GTT_ADDRESS == address(0)) {\r\n      GTT_ADDRESS = _gttAddress;\r\n    }\r\n  }\r\n\r\n  function play() public {\r\n    uint256 currentBlock = block.number;\r\n    uint256 lastBlock = currentBlock - 1;\r\n\r\n    // pay out last winner\r\n    if (!didBlockHaveTx[lastBlock]) {\r\n      payOut(currWinner);\r\n\r\n      lastPayout = currentBlock;\r\n    }\r\n\r\n    // do nothing if a block has already been transacted in\r\n    if (didBlockHaveTx[currentBlock] == false) {\r\n      didBlockHaveTx[currentBlock] = true;\r\n      currWinner = msg.sender;\r\n    }\r\n  }\r\n\r\n  function payOut(address winner) internal {\r\n    IERC20(GTT_ADDRESS).transfer(winner, REWARD_PER_WIN);\r\n    IERC20(GTT_ADDRESS).transfer(CREATOR_ADDRESS, CREATOR_REWARD);\r\n  }\r\n}","ABI":"[{\"constant\":false,\"inputs\":[{\"name\":\"_gttAddress\",\"type\":\"address\"}],\"name\":\"setTokenAddress\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"didBlockHaveTx\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"CREATOR_REWARD\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"GTT_ADDRESS\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"REWARD_PER_WIN\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"currWinner\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"CREATOR_ADDRESS\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[],\"name\":\"play\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"lastPayout\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"}]","ContractName":"NoTx","CompilerVersion":"v0.5.5+commit.47a71e8f","OptimizationUsed":"0","Runs":"200","ConstructorArguments":"","Library":"","SwarmSource":"bzzr://59c44c36d091848632c5ac18c0c84fe7d2d81905e0e9e8025b2c0f46b55d60e9"}]}