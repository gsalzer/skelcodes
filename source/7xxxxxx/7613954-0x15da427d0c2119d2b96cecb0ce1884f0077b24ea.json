{"status":"1","message":"OK","result":[{"SourceCode":"pragma solidity ^0.4.25;\r\npragma experimental ABIEncoderV2;\r\n\r\nlibrary SafeMath {\r\n  function mul(uint256 a, uint256 b) internal pure returns (uint256) {\r\n    if (a == 0) {\r\n        return 0;\r\n    }\r\n    uint256 c = a * b;\r\n    require(c / a == b);\r\n    return c;\r\n  }\r\n\r\n  function div(uint256 a, uint256 b) internal pure returns (uint256) {\r\n    require(b > 0);\r\n    uint256 c = a / b;\r\n    return c;\r\n  }\r\n\r\n  function sub(uint256 a, uint256 b) internal pure returns (uint256) {\r\n    require(b <= a);\r\n    uint256 c = a - b;\r\n    return c;\r\n  }\r\n\r\n  function mod(uint256 a, uint256 b) internal pure returns (uint256) {\r\n    require(b != 0);\r\n    return a % b;\r\n  }\r\n}\r\n\r\nlibrary BnsLib {\r\n  struct TopLevelDomain {\r\n    uint price;\r\n    uint lastUpdate;\r\n    bool min;\r\n    bool exists;\r\n  }\r\n\r\n  struct Domain {\r\n    address owner;\r\n    bool allowSubdomains;\r\n    string content;\r\n    mapping(string => string) domainStorage;\r\n    mapping(address => bool) approvedForSubdomain;\r\n  }\r\n\r\n  function hasOnlyDomainLevelCharacters(bytes memory self) internal pure returns (bool) {\r\n    /* [9-0] [a-z] [-] */\r\n    for(uint i; i<self.length; i++) {\r\n      bytes1 char = self[i];\r\n      if (! (\r\n        (char >= 0x30 && char <= 0x39) ||\r\n        (char >= 0x61 && char <= 0x7A) ||\r\n        (char == 0x2d)\r\n      )) return false;\r\n    }\r\n    return true;\r\n  }\r\n\r\n  function join(bytes memory self, bytes memory addStr, bytes1 delimiter) \r\n  internal pure returns (bytes memory) {\r\n    /* Allow [0-9] [a-z] [-] Make [A-Z] lowercase */\r\n    uint retSize = self.length + addStr.length + 1;\r\n    bytes memory ret = new bytes(retSize);\r\n    for (uint i = 0; i < self.length; i ++) ret[i] = self[i];\r\n    ret[self.length] = delimiter;\r\n    for (uint x = 0; x < addStr.length; x ++) {\r\n      ret[self.length + x + 1] = addStr[x];\r\n    }\r\n    return bytes(ret);\r\n  }\r\n\r\n  function toLowercase(string memory self, bool allowDecimal, bool allowAt) \r\n  internal pure returns (bytes memory) {\r\n    bytes memory s1 = bytes(self);\r\n    bytes memory ret = new bytes(s1.length);\r\n    for (uint i = 0; i < s1.length; i ++) {\r\n      require(\r\n        (s1[i] >= 0x30 && s1[i] <= 0x39) || // 0-9\r\n        (s1[i] >= 0x41 && s1[i] <= 0x5A) || // A-Z\r\n        (s1[i] >= 0x61 && s1[i] <= 0x7A) || // a-z\r\n        (s1[i] == 0x2d || s1[i] == 0x5f ) ||\r\n        (allowDecimal && s1[i] == 0x2e) ||\r\n        (allowAt && s1[i] == 0x40), // -  _\r\n        \"Invalid character.\"\r\n      );\r\n      if (s1[i] >= 0x41 && s1[i] <= 0x5A) ret[i] = bytes1(uint8(s1[i]) + 32);\r\n      else ret[i] = s1[i];\r\n    }\r\n    return ret;\r\n  }\r\n}\r\n\r\ncontract BetterNameService {\r\n  using BnsLib for *;\r\n  using SafeMath for uint;\r\n\r\n\r\n  constructor() public {\r\n    createTopLevelDomain(\"bns\");\r\n    creat0r = msg.sender;\r\n  }\r\n\r\n  \r\n  address creat0r;  \r\n  uint updateAfter = 15000; // target around 1 update per day\r\n  uint minPrice = 10000000000000000; // 0.01 eth\r\n\r\n  mapping(bytes => BnsLib.TopLevelDomain) internal tldPrices;\r\n  mapping(bytes => BnsLib.Domain) domains; // domain and subdomain owners\r\n  mapping(address => bytes[]) public ownedDomains;\r\n\r\n\r\n  function withdraw(uint amount) public {\r\n    require(msg.sender == creat0r, \"Only the creat0r can call that.\");\r\n    msg.sender.transfer(amount);\r\n  }\r\n\r\n  function balanceOf() public view returns (uint) {\r\n    return address(this).balance;\r\n  }\r\n\r\n\r\n\r\n/*----------------<BEGIN MODIFIERS>----------------*/\r\n  function tldExists(bytes memory tld) public view returns (bool) {\r\n    return tldPrices[tld].exists;\r\n  }\r\n\r\n  function tldNotExists(bytes memory tld) public view returns (bool) {\r\n    return !tldPrices[tld].exists;\r\n  }\r\n\r\n  modifier domainExists(bytes memory domain) {\r\n    require(\r\n      domains[domain].owner != address(0) &&\r\n      domains[domain].owner != address(0x01),\r\n      \"Domain does not exist\"\r\n    );\r\n    _;\r\n  }\r\n\r\n  modifier domainNotExists(bytes memory domain) {\r\n    require(domains[domain].owner == address(0), \"Domain exists\");\r\n    _;\r\n  }\r\n\r\n  modifier onlyDomainOwner(bytes memory domain) {\r\n    require(msg.sender == domains[domain].owner, \"Not domain owner\");\r\n    _;\r\n  }\r\n\r\n  modifier onlyAllowed(bytes memory domain) {\r\n    require(\r\n      domains[domain].allowSubdomains ||\r\n      domains[domain].owner == msg.sender ||\r\n      domains[domain].approvedForSubdomain[msg.sender],\r\n      \"User not approved for domain\"\r\n    );\r\n    _;\r\n  }\r\n\r\n  function requireOwner(bytes memory domain, address addr) internal {\r\n    require(domains[domain].owner == addr, \"Not domain owner.\");\r\n  }\r\n/*----------------</END MODIFIERS>----------------*/\r\n\r\n\r\n\r\n/*----------------<BEGIN EVENTS>----------------*/\r\n  event TopLevelDomainCreated(bytes32 indexed tldHash, bytes tld);\r\n  event TopLevelDomainPriceUpdated(bytes32 indexed tldHash, bytes tld, uint price);\r\n\r\n  event DomainRegistered(bytes32 indexed domainHash, \r\n  bytes domain, address owner, \r\n  address registeredBy, bool open);\r\n\r\n  event SubdomainDeleted(bytes32 indexed subdomainHash, \r\n  bytes subdomain, address deletedBy);\r\n\r\n  event DomainRegistrationOpened(bytes32 indexed domainHash, bytes domain);\r\n  event DomainRegistrationClosed(bytes32 indexed domainHash, bytes domain);\r\n\r\n  event ApprovedForDomain(bytes32 indexed domainHash, bytes domain, address indexed approved);\r\n  event DisapprovedForDomain(bytes32 indexed domainHash, \r\n  bytes domain, address indexed disapproved);\r\n\r\n  event ContentUpdated(bytes32 indexed domainHash, bytes domain, string content);\r\n/*----------------</END EVENTS>----------------*/\r\n\r\n\r\n\r\n/*----------------<BEGIN VIEW FUNCTIONS>----------------*/\r\n  function reverseLookup(address owner) public view returns (string[] memory) {\r\n    bytes[] memory ownedB = ownedDomains[owner];\r\n    string[] memory _owned = new string[](ownedB.length);\r\n    for (uint i = 0; i < ownedB.length; i++) {\r\n      _owned[i] = string(ownedB[i]);\r\n    }\r\n    return _owned;\r\n  }\r\n\r\n  function getTldPrice(string memory _tld) public view returns (uint) {\r\n    bytes memory tld = _tld.toLowercase(false, false);\r\n    return tldPrices[tld].min ? minPrice : tldPrices[tld].price;\r\n  }\r\n\r\n  function expectedTldPrice(bytes memory tld) public view returns (uint) {\r\n    if (tldPrices[tld].min) return minPrice;\r\n    uint blockCount = block.number.sub(tldPrices[tld].lastUpdate);\r\n    if (blockCount >= updateAfter) {\r\n      uint updatesDue = blockCount.div(updateAfter);\r\n      uint newPrice = tldPrices[tld].price.mul(750**updatesDue).div(1000**updatesDue);\r\n      if (newPrice <= minPrice) return minPrice;\r\n      return newPrice;\r\n    }\r\n    return tldPrices[tld].price;\r\n  }\r\n  function getDomainOwner(string memory domain) public view returns (address) {\r\n    return domains[domain.toLowercase(true, true)].owner;\r\n  }\r\n\r\n  function isPublicDomainRegistrationOpen(string memory domain) public view returns (bool) {\r\n    return domains[domain.toLowercase(true, true)].allowSubdomains;\r\n  }\r\n  \r\n  function isApprovedToRegister(string memory domain, address addr) \r\n  public view returns (bool) {\r\n    return domains[domain.toLowercase(true, true)].allowSubdomains || \r\n      domains[domain.toLowercase(true, true)].owner == addr || \r\n      domains[domain.toLowercase(true, true)].approvedForSubdomain[addr];\r\n  }\r\n\r\n  function isDomainDeleted(string memory domain) public view returns(bool) {\r\n    return domains[domain.toLowercase(true, true)].owner == address(0x01);\r\n  }\r\n\r\n  function getContent(string memory domain) public view returns (string memory) {\r\n    return domains[domain.toLowercase(true, true)].content;\r\n  }\r\n\r\n\r\n  /*<BEGIN STORAGE FUNCTIONS>*/\r\n  function getDomainStorageSingle(string memory domain, string memory key) \r\n  public view returns (string memory) {\r\n    return domains[domain.toLowercase(true, true)].domainStorage[key];\r\n  }\r\n\r\n  function getDomainStorageMany(string memory _domain, string[] memory keys) \r\n  public view returns (string[2][]) {\r\n    bytes memory domain = _domain.toLowercase(true, true);\r\n    string[2][] memory results = new string[2][](keys.length);\r\n    for(uint i = 0; i < keys.length; i++) {\r\n      string memory key = keys[i];\r\n      results[i] = [key, domains[domain].domainStorage[key]];\r\n    }\r\n    return results;\r\n  }\r\n  /*</END STORAGE FUNCTIONS>*/\r\n/*----------------</END VIEW FUNCTIONS>----------------*/\r\n\r\n\r\n\r\n/*----------------<BEGIN PRICE FUNCTIONS>----------------*/\r\n  function returnRemainder(uint price) internal {\r\n    if (msg.value > price) msg.sender.transfer(msg.value.sub(price));\r\n  }\r\n\r\n  function updateTldPrice(bytes memory tld) public returns (uint) {\r\n    if (!tldPrices[tld].min) {\r\n      // tld price has not reached the minimum price\r\n      uint price = expectedTldPrice(tld);\r\n      if (price != tldPrices[tld].price) {\r\n        if (price == minPrice) {\r\n          tldPrices[tld].min = true;\r\n          tldPrices[tld].price = 0;\r\n          tldPrices[tld].lastUpdate = 0;\r\n        } else {\r\n          tldPrices[tld].price = price;\r\n          tldPrices[tld].lastUpdate = block.number.sub((block.number.sub(tldPrices[tld].lastUpdate)).mod(updateAfter));\r\n        }\r\n        emit TopLevelDomainPriceUpdated(keccak256(abi.encode(tld)), tld, price);\r\n      }\r\n      return price;\r\n    }\r\n    else return minPrice;\r\n  }\r\n/*----------------</END PRICE FUNCTIONS>----------------*/\r\n\r\n\r\n\r\n/*----------------<BEGIN DOMAIN REGISTRATION FUNCTIONS>----------------*/\r\n  /*<BEGIN TLD FUNCTIONS>*/\r\n  function createTopLevelDomain(string memory _tld) \r\n  public {\r\n    bytes memory tld = _tld.toLowercase(false, false);\r\n    require(!tldPrices[tld].exists, \"TLD exists\");\r\n    tldPrices[tld] = BnsLib.TopLevelDomain({\r\n      price: 5000000000000000000,\r\n      lastUpdate: block.number,\r\n      exists: true,\r\n      min: false\r\n    });\r\n    emit TopLevelDomainCreated(keccak256(abi.encode(tld)), tld);\r\n  }\r\n  /*</END TLD FUNCTIONS>*/\r\n\r\n\r\n  /*<BEGIN INTERNAL REGISTRATION FUNCTIONS>*/\r\n  function _register(bytes memory domain, address owner, bool open) \r\n  internal domainNotExists(domain) {\r\n    domains[domain].owner = owner;\r\n    emit DomainRegistered(keccak256(abi.encode(domain)), domain, owner, msg.sender, open);\r\n    if (open) domains[domain].allowSubdomains = true;\r\n    ownedDomains[owner].push(domain);\r\n  }\r\n\r\n  function _registerDomain(string memory _domain, string memory _tld, bool open) \r\n  internal {\r\n    bytes memory tld = _tld.toLowercase(false, false);\r\n    require(tldExists(tld), \"TLD does not exist\");\r\n    bytes memory domain = _domain.toLowercase(false, false);\r\n    uint price = updateTldPrice(tld);\r\n    require(msg.value >= price, \"Insufficient price.\");\r\n    _register(domain.join(tld, 0x40), msg.sender, open);\r\n    returnRemainder(price);\r\n  }\r\n\r\n  function _registerSubdomain(\r\n    bytes memory subdomain, bytes memory domain, address owner, bool open) \r\n  internal domainExists(domain) onlyAllowed(domain) {\r\n    _register(subdomain.join(domain, 0x2e), owner, open);\r\n  }\r\n  /*</END INTERNAL REGISTRATION FUNCTIONS>*/\r\n\r\n\r\n  /*<BEGIN REGISTRATION OVERLOADS>*/\r\n  function registerDomain(string memory domain, bool open) public payable {\r\n    _registerDomain(domain, \"bns\", open);\r\n  }\r\n\r\n  function registerDomain(string memory domain, string memory tld, bool open) public payable {\r\n    _registerDomain(domain, tld, open);\r\n  }\r\n  /*</END REGISTRATION OVERLOADS>*/\r\n\r\n\r\n  /*<BEGIN SUBDOMAIN REGISTRATION OVERLOADS>*/\r\n  function registerSubdomain(string memory _subdomain, string memory _domain, bool open) public {\r\n    bytes memory subdomain = _subdomain.toLowercase(false, false);\r\n    bytes memory domain = _domain.toLowercase(true, true);\r\n    _registerSubdomain(subdomain, domain, msg.sender, open);\r\n  }\r\n\r\n  function registerSubdomainAsDomainOwner(\r\n    string memory _subdomain, string memory _domain, address subdomainOwner) \r\n  public {\r\n    bytes memory domain = _domain.toLowercase(true, true);\r\n    requireOwner(domain, msg.sender);\r\n    bytes memory subdomain = _subdomain.toLowercase(false, false);\r\n    _registerSubdomain(subdomain, domain, subdomainOwner, false);\r\n  }\r\n  /*</END SUBDOMAIN REGISTRATION OVERLOADS>*/\r\n/*----------------</END DOMAIN REGISTRATION FUNCTIONS>----------------*/\r\n\r\n\r\n\r\n/*----------------<BEGIN DOMAIN MANAGEMENT FUNCTIONS>----------------*/\r\n  function transferDomain(string memory _domain, address recipient) public {\r\n    bytes memory domain = _domain.toLowercase(true, true);\r\n    requireOwner(domain, msg.sender);\r\n    domains[domain].owner = recipient;\r\n  }\r\n\r\n  /*<BEGIN CONTENT HASH FUNCTIONS>*/\r\n  function setContent(string memory _domain, string memory content) \r\n  public {\r\n    bytes memory domain = _domain.toLowercase(true, true);\r\n    requireOwner(domain, msg.sender);\r\n    domains[domain].content = content;\r\n    emit ContentUpdated(keccak256(abi.encode(domain)), domain, content);\r\n  }\r\n\r\n  function deleteContent(string memory _domain) public {\r\n    bytes memory domain = _domain.toLowercase(true, true);\r\n    requireOwner(domain, msg.sender);\r\n    delete domains[domain].content;\r\n    emit ContentUpdated(keccak256(abi.encode(domain)), domain, domains[domain].content);\r\n  }\r\n  /*</END CONTENT HASH FUNCTIONS>*/\r\n\r\n\r\n  /*<BEGIN APPROVAL FUNCTIONS>*/\r\n  function approveForSubdomain(string memory _domain, address user) public {\r\n    bytes memory domain = _domain.toLowercase(true, true);\r\n    requireOwner(domain, msg.sender);\r\n    domains[domain].approvedForSubdomain[user] = true;\r\n    emit ApprovedForDomain(keccak256(abi.encode(domain)), domain, user);\r\n  }\r\n\r\n  function disapproveForSubdomain(string memory _domain, address user) \r\n  public {\r\n    bytes memory domain = _domain.toLowercase(true, true);\r\n    requireOwner(domain, msg.sender);\r\n    domains[domain].approvedForSubdomain[user] = false;\r\n    emit DisapprovedForDomain(keccak256(abi.encode(domain)), domain, user);\r\n  }\r\n  /*</END APPROVAL FUNCTIONS>*/\r\n\r\n\r\n  /*<BEGIN DELETION FUNCTIONS>*/\r\n  function _deleteDomain(bytes memory domain) internal {\r\n    domains[domain].owner = address(0x01);\r\n    emit SubdomainDeleted(keccak256(abi.encode(domain)), domain, msg.sender);\r\n  }\r\n\r\n  function deleteDomain(string memory _domain) public {\r\n    bytes memory domain = _domain.toLowercase(true, true);\r\n    requireOwner(domain, msg.sender);\r\n    _deleteDomain(domain);\r\n  }\r\n\r\n  function deleteSubdomainAsDomainOwner(string memory _subdomain, string memory _domain) \r\n  public {\r\n    bytes memory domain = _domain.toLowercase(true, true);\r\n    bytes memory subdomain = _subdomain.toLowercase(false, false);\r\n    requireOwner(domain, msg.sender);\r\n    _deleteDomain(subdomain.join(domain, 0x2e));\r\n  }\r\n  /*</END DELETION FUNCTIONS>*/\r\n\r\n\r\n  /*<BEGIN RESTRICTION FUNCTIONS>*/\r\n  function openPublicDomainRegistration(string memory _domain) public {\r\n    bytes memory domain = _domain.toLowercase(true, true);\r\n    requireOwner(domain, msg.sender);\r\n    domains[domain].allowSubdomains = true;\r\n    emit DomainRegistrationOpened(keccak256(abi.encode(domain)), domain);\r\n  }\r\n\r\n  function closePublicDomainRegistration(string memory _domain) public {\r\n    bytes memory domain = _domain.toLowercase(true, true);\r\n    requireOwner(domain, msg.sender);\r\n    domains[domain].allowSubdomains = false;\r\n    emit DomainRegistrationClosed(keccak256(abi.encode(domain)), domain);\r\n  }\r\n  /*</END RESTRICTION FUNCTIONS>*/\r\n\r\n\r\n  /*<BEGIN STORAGE FUNCTIONS>*/\r\n  function setDomainStorageSingle(string memory _domain, string memory key, string memory value) \r\n  public {\r\n    bytes memory domain = _domain.toLowercase(true, true);\r\n    requireOwner(domain, msg.sender);\r\n    domains[domain].domainStorage[key] = value;\r\n  }\r\n\r\n  function setDomainStorageMany(string memory _domain, string[2][] memory kvPairs) \r\n  public {\r\n    bytes memory domain = _domain.toLowercase(true, true);\r\n    requireOwner(domain, msg.sender);\r\n    for(uint i = 0; i < kvPairs.length; i++) {\r\n      domains[domain].domainStorage[kvPairs[i][0]] = kvPairs[i][1];\r\n    }\r\n  }\r\n  /*</END STORAGE FUNCTIONS>*/\r\n/*----------------</END DOMAIN MANAGEMENT FUNCTIONS>----------------*/\r\n}","ABI":"[{\"constant\":true,\"inputs\":[{\"name\":\"tld\",\"type\":\"bytes\"}],\"name\":\"expectedTldPrice\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"owner\",\"type\":\"address\"}],\"name\":\"reverseLookup\",\"outputs\":[{\"name\":\"\",\"type\":\"string[]\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_domain\",\"type\":\"string\"}],\"name\":\"deleteDomain\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"tld\",\"type\":\"bytes\"}],\"name\":\"updateTldPrice\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_domain\",\"type\":\"string\"},{\"name\":\"recipient\",\"type\":\"address\"}],\"name\":\"transferDomain\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_subdomain\",\"type\":\"string\"},{\"name\":\"_domain\",\"type\":\"string\"}],\"name\":\"deleteSubdomainAsDomainOwner\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_domain\",\"type\":\"string\"},{\"name\":\"kvPairs\",\"type\":\"string[2][]\"}],\"name\":\"setDomainStorageMany\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_subdomain\",\"type\":\"string\"},{\"name\":\"_domain\",\"type\":\"string\"},{\"name\":\"subdomainOwner\",\"type\":\"address\"}],\"name\":\"registerSubdomainAsDomainOwner\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"domain\",\"type\":\"string\"}],\"name\":\"getDomainOwner\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"domain\",\"type\":\"string\"}],\"name\":\"isPublicDomainRegistrationOpen\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_domain\",\"type\":\"string\"}],\"name\":\"deleteContent\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"withdraw\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"tld\",\"type\":\"bytes\"}],\"name\":\"tldNotExists\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_tld\",\"type\":\"string\"}],\"name\":\"createTopLevelDomain\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_subdomain\",\"type\":\"string\"},{\"name\":\"_domain\",\"type\":\"string\"},{\"name\":\"open\",\"type\":\"bool\"}],\"name\":\"registerSubdomain\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"domain\",\"type\":\"string\"},{\"name\":\"open\",\"type\":\"bool\"}],\"name\":\"registerDomain\",\"outputs\":[],\"payable\":true,\"stateMutability\":\"payable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"domain\",\"type\":\"string\"}],\"name\":\"isDomainDeleted\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"domain\",\"type\":\"string\"},{\"name\":\"key\",\"type\":\"string\"}],\"name\":\"getDomainStorageSingle\",\"outputs\":[{\"name\":\"\",\"type\":\"string\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_domain\",\"type\":\"string\"}],\"name\":\"closePublicDomainRegistration\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"balanceOf\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_domain\",\"type\":\"string\"}],\"name\":\"openPublicDomainRegistration\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"tld\",\"type\":\"bytes\"}],\"name\":\"tldExists\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"domain\",\"type\":\"string\"}],\"name\":\"getContent\",\"outputs\":[{\"name\":\"\",\"type\":\"string\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"domain\",\"type\":\"string\"},{\"name\":\"addr\",\"type\":\"address\"}],\"name\":\"isApprovedToRegister\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"\",\"type\":\"address\"},{\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"ownedDomains\",\"outputs\":[{\"name\":\"\",\"type\":\"bytes\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_domain\",\"type\":\"string\"},{\"name\":\"user\",\"type\":\"address\"}],\"name\":\"disapproveForSubdomain\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_domain\",\"type\":\"string\"},{\"name\":\"content\",\"type\":\"string\"}],\"name\":\"setContent\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_domain\",\"type\":\"string\"},{\"name\":\"key\",\"type\":\"string\"},{\"name\":\"value\",\"type\":\"string\"}],\"name\":\"setDomainStorageSingle\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"domain\",\"type\":\"string\"},{\"name\":\"tld\",\"type\":\"string\"},{\"name\":\"open\",\"type\":\"bool\"}],\"name\":\"registerDomain\",\"outputs\":[],\"payable\":true,\"stateMutability\":\"payable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"_domain\",\"type\":\"string\"},{\"name\":\"keys\",\"type\":\"string[]\"}],\"name\":\"getDomainStorageMany\",\"outputs\":[{\"name\":\"\",\"type\":\"string[2][]\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_domain\",\"type\":\"string\"},{\"name\":\"user\",\"type\":\"address\"}],\"name\":\"approveForSubdomain\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"_tld\",\"type\":\"string\"}],\"name\":\"getTldPrice\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"name\":\"tldHash\",\"type\":\"bytes32\"},{\"indexed\":false,\"name\":\"tld\",\"type\":\"bytes\"}],\"name\":\"TopLevelDomainCreated\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"name\":\"tldHash\",\"type\":\"bytes32\"},{\"indexed\":false,\"name\":\"tld\",\"type\":\"bytes\"},{\"indexed\":false,\"name\":\"price\",\"type\":\"uint256\"}],\"name\":\"TopLevelDomainPriceUpdated\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"name\":\"domainHash\",\"type\":\"bytes32\"},{\"indexed\":false,\"name\":\"domain\",\"type\":\"bytes\"},{\"indexed\":false,\"name\":\"owner\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"registeredBy\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"open\",\"type\":\"bool\"}],\"name\":\"DomainRegistered\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"name\":\"subdomainHash\",\"type\":\"bytes32\"},{\"indexed\":false,\"name\":\"subdomain\",\"type\":\"bytes\"},{\"indexed\":false,\"name\":\"deletedBy\",\"type\":\"address\"}],\"name\":\"SubdomainDeleted\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"name\":\"domainHash\",\"type\":\"bytes32\"},{\"indexed\":false,\"name\":\"domain\",\"type\":\"bytes\"}],\"name\":\"DomainRegistrationOpened\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"name\":\"domainHash\",\"type\":\"bytes32\"},{\"indexed\":false,\"name\":\"domain\",\"type\":\"bytes\"}],\"name\":\"DomainRegistrationClosed\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"name\":\"domainHash\",\"type\":\"bytes32\"},{\"indexed\":false,\"name\":\"domain\",\"type\":\"bytes\"},{\"indexed\":true,\"name\":\"approved\",\"type\":\"address\"}],\"name\":\"ApprovedForDomain\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"name\":\"domainHash\",\"type\":\"bytes32\"},{\"indexed\":false,\"name\":\"domain\",\"type\":\"bytes\"},{\"indexed\":true,\"name\":\"disapproved\",\"type\":\"address\"}],\"name\":\"DisapprovedForDomain\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"name\":\"domainHash\",\"type\":\"bytes32\"},{\"indexed\":false,\"name\":\"domain\",\"type\":\"bytes\"},{\"indexed\":false,\"name\":\"content\",\"type\":\"string\"}],\"name\":\"ContentUpdated\",\"type\":\"event\"}]","ContractName":"BetterNameService","CompilerVersion":"v0.4.25+commit.59dbf8f1","OptimizationUsed":"0","Runs":"200","ConstructorArguments":"","Library":"","SwarmSource":"bzzr://fb9076556f43f867947b5ddc2fa1e0d02ca917dc5b3a7d9d174562462e85ded4"}]}