{"status":"1","message":"OK","result":[{"SourceCode":"pragma solidity ^0.4.22;\r\ncontract Ownable {\r\n    //tokenid属性 \r\n  struct VowInfo {\r\n      bytes32 tokenId;//Id\r\n      string sign;//签名 \r\n      string content;//内容 \r\n      string time;//时间\r\n  }\r\n  mapping(bytes32 =>VowInfo) vowInfoToken;\r\n  bytes32[] vowInfos;\r\n    /**\r\n    * 添加许愿 \r\n   */\r\n    event NewMerchant(address sender,bool isScuccess,string message);\r\n    function addVowInfo(bytes32 _tokenId,string sign,string content,string time) public {\r\n        if(vowInfoToken[_tokenId].tokenId != _tokenId){\r\n             vowInfoToken[_tokenId].tokenId = _tokenId;\r\n              vowInfoToken[_tokenId].sign = sign;\r\n              vowInfoToken[_tokenId].content = content;\r\n              vowInfoToken[_tokenId].time = time;\r\n              vowInfos.push(_tokenId);\r\n              NewMerchant(msg.sender, true,\"添加成功\");\r\n            return;\r\n        }else{\r\n             NewMerchant(msg.sender, false,\"许愿ID已经存在\");\r\n            return;\r\n        }\r\n    }\r\n     /**\r\n    * 返回 tokenId属性 \r\n   */\r\n    function getVowInfo(bytes32 _tokenId)public view returns(string tokenId,string sign,string content,string time){\r\n                \r\n         VowInfo memory vow = vowInfoToken[_tokenId];\r\n        string memory vowId = bytes32ToString(vow.tokenId);\r\n        return (vowId,vow.sign,vow.content,vow.time);\r\n    }\r\n    \r\n    function bytes32ToString(bytes32 x) constant internal returns(string){\r\n        bytes memory bytesString = new bytes(32);\r\n        uint charCount = 0 ;\r\n        for(uint j = 0 ; j<32;j++){\r\n            byte char = byte(bytes32(uint(x) *2 **(8*j)));\r\n            if(char !=0){\r\n                bytesString[charCount] = char;\r\n                charCount++;\r\n            }\r\n        }\r\n        bytes memory bytesStringTrimmed = new bytes(charCount);\r\n        for(j=0;j<charCount;j++){\r\n            bytesStringTrimmed[j]=bytesString[j];\r\n        }\r\n        return string(bytesStringTrimmed);\r\n    }\r\n}","ABI":"[{\"constant\":true,\"inputs\":[{\"name\":\"_tokenId\",\"type\":\"bytes32\"}],\"name\":\"getVowInfo\",\"outputs\":[{\"name\":\"tokenId\",\"type\":\"string\"},{\"name\":\"sign\",\"type\":\"string\"},{\"name\":\"content\",\"type\":\"string\"},{\"name\":\"time\",\"type\":\"string\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_tokenId\",\"type\":\"bytes32\"},{\"name\":\"sign\",\"type\":\"string\"},{\"name\":\"content\",\"type\":\"string\"},{\"name\":\"time\",\"type\":\"string\"}],\"name\":\"addVowInfo\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"name\":\"sender\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"isScuccess\",\"type\":\"bool\"},{\"indexed\":false,\"name\":\"message\",\"type\":\"string\"}],\"name\":\"NewMerchant\",\"type\":\"event\"}]","ContractName":"Ownable","CompilerVersion":"v0.4.22+commit.4cb486ee","OptimizationUsed":"0","Runs":"200","ConstructorArguments":"","Library":"","SwarmSource":"bzzr://3e1164af55568f8c3a57d65a57303e5aebd53ce2c10e25f258a12ce8a00e4af3"}]}