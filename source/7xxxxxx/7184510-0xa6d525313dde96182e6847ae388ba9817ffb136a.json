{"status":"1","message":"OK","result":[{"SourceCode":"/*  \r\n    Subscrypto\r\n    Copyright (C) 2019 Subscrypto Team\r\n\r\n    This program is free software: you can redistribute it and/or modify\r\n    it under the terms of the GNU General Public License as published by\r\n    the Free Software Foundation, either version 3 of the License, or\r\n    (at your option) any later version.\r\n\r\n    This program is distributed in the hope that it will be useful,\r\n    but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n    GNU General Public License for more details.\r\n\r\n    You should have received a copy of the GNU General Public License\r\n    along with this program.  If not, see <https://www.gnu.org/licenses/>.\r\n*/\r\n\r\npragma solidity 0.5.2;\r\n\r\ncontract SubscryptoMeta {\r\n\r\n    uint constant MIN_SUBSCRIPTION_DAI_CENTS = 100;\r\n\r\n    event Register(address indexed receiver);\r\n\r\n    struct SubscriptionTemplate {\r\n        bytes32     slug;\r\n        string      name;\r\n        string      description;\r\n        string      url;\r\n        uint        daiCents;        // 32 bytes\r\n        address     receiver;        // 20 bytes\r\n        uint32      interval;        //  4 bytes\r\n    }\r\n\r\n    mapping (address => SubscriptionTemplate) public subscriptions;\r\n    mapping (bytes32 => SubscriptionTemplate) public subscriptionsBySlug;\r\n\r\n\r\n    function registerSubscription(\r\n        bytes32 slug, \r\n        string calldata name, \r\n        string calldata description, \r\n        string calldata url,\r\n        uint daiCents, \r\n        uint32 interval) external \r\n    {\r\n        require(daiCents >= MIN_SUBSCRIPTION_DAI_CENTS, \"Subsciption amount too low\");\r\n        require(interval >= 86400, \"Interval must be at least 1 day\");\r\n        require(interval <= 31557600, \"Interval must be at most 1 year\");\r\n        require(subscriptionsBySlug[slug].daiCents == 0 || subscriptionsBySlug[slug].receiver == msg.sender, \"Slug is already reserved\");\r\n\r\n        subscriptions[msg.sender] = SubscriptionTemplate(slug, name, description, url, daiCents, msg.sender, interval);\r\n        subscriptionsBySlug[slug] = subscriptions[msg.sender];\r\n\r\n        emit Register(msg.sender);\r\n    }\r\n\r\n    function unregisterSubscription() external {\r\n        require(subscriptions[msg.sender].daiCents > 0, \"No subcription found for address\");\r\n        delete subscriptionsBySlug[subscriptions[msg.sender].slug];\r\n        delete subscriptions[msg.sender];\r\n    }\r\n\r\n}","ABI":"[{\"constant\":false,\"inputs\":[],\"name\":\"unregisterSubscription\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"slug\",\"type\":\"bytes32\"},{\"name\":\"name\",\"type\":\"string\"},{\"name\":\"description\",\"type\":\"string\"},{\"name\":\"url\",\"type\":\"string\"},{\"name\":\"daiCents\",\"type\":\"uint256\"},{\"name\":\"interval\",\"type\":\"uint32\"}],\"name\":\"registerSubscription\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"\",\"type\":\"bytes32\"}],\"name\":\"subscriptionsBySlug\",\"outputs\":[{\"name\":\"slug\",\"type\":\"bytes32\"},{\"name\":\"name\",\"type\":\"string\"},{\"name\":\"description\",\"type\":\"string\"},{\"name\":\"url\",\"type\":\"string\"},{\"name\":\"daiCents\",\"type\":\"uint256\"},{\"name\":\"receiver\",\"type\":\"address\"},{\"name\":\"interval\",\"type\":\"uint32\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"\",\"type\":\"address\"}],\"name\":\"subscriptions\",\"outputs\":[{\"name\":\"slug\",\"type\":\"bytes32\"},{\"name\":\"name\",\"type\":\"string\"},{\"name\":\"description\",\"type\":\"string\"},{\"name\":\"url\",\"type\":\"string\"},{\"name\":\"daiCents\",\"type\":\"uint256\"},{\"name\":\"receiver\",\"type\":\"address\"},{\"name\":\"interval\",\"type\":\"uint32\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"name\":\"receiver\",\"type\":\"address\"}],\"name\":\"Register\",\"type\":\"event\"}]","ContractName":"SubscryptoMeta","CompilerVersion":"v0.5.2+commit.1df8f40c","OptimizationUsed":"1","Runs":"200","ConstructorArguments":"","Library":"","SwarmSource":"bzzr://cccefa9c86043335404c1f2e6f50fe345d3a0e6933079c71817e176912f918f0"}]}