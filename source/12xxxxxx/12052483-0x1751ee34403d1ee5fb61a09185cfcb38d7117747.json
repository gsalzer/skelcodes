{"status":"1","message":"OK","result":[{"SourceCode":"pragma solidity ^0.8.0;\r\n\r\ncontract Order {\r\n    \r\n    address payable buyer;\r\n    address payable seller;\r\n    address payable platform;\r\n    address payable affiliate;\r\n    uint8 platform_commission; // percent\r\n    \r\n    // constructor\r\n    constructor(address payable _buyer, address payable _seller, address payable _platform, address payable _affiliate, uint8 _platform_commission) payable {\r\n        buyer = _buyer;\r\n        seller = _seller;\r\n        platform = _platform;\r\n        affiliate = _affiliate;\r\n        platform_commission = _platform_commission;\r\n    }\r\n    \r\n    // complete contract\r\n    function acceptSale() external  {\r\n        // allow only the buyer, seller or platform to complete the contract\r\n        require(msg.sender == platform || msg.sender == buyer || msg.sender == seller);\r\n        \r\n        // platform commission\r\n        if (platform_commission != 0) {\r\n            uint256 platform_cut = (address(this).balance * platform_commission) / 100;\r\n            \r\n            // pay platform\r\n            if (platform == affiliate) {\r\n                platform.transfer(platform_cut); \r\n            }\r\n            \r\n            // pay affiliate & platform\r\n            else {\r\n                platform.transfer((platform_cut * 30 / 100));\r\n                affiliate.transfer((platform_cut * 70 / 100));\r\n            }\r\n        }\r\n        \r\n        // pay remaining balance to the seller\r\n        seller.transfer(address(this).balance);\r\n    }\r\n    \r\n    // cancel contract\r\n    function rejectSale() external {\r\n        \r\n        // allow only the buyer, seller or platform to cancel the contract\r\n        require(msg.sender == platform || msg.sender == buyer || msg.sender == seller);\r\n        \r\n        // refund buyer\r\n        buyer.transfer(address(this).balance);\r\n    }\r\n}","ABI":"[{\"inputs\":[{\"internalType\":\"address payable\",\"name\":\"_buyer\",\"type\":\"address\"},{\"internalType\":\"address payable\",\"name\":\"_seller\",\"type\":\"address\"},{\"internalType\":\"address payable\",\"name\":\"_platform\",\"type\":\"address\"},{\"internalType\":\"address payable\",\"name\":\"_affiliate\",\"type\":\"address\"},{\"internalType\":\"uint8\",\"name\":\"_platform_commission\",\"type\":\"uint8\"}],\"stateMutability\":\"payable\",\"type\":\"constructor\"},{\"inputs\":[],\"name\":\"acceptSale\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"rejectSale\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"}]","ContractName":"Order","CompilerVersion":"v0.8.1+commit.df193b15","OptimizationUsed":"1","Runs":"200","ConstructorArguments":"000000000000000000000000570cbfcb3b07d7716031ec39977aecff76d8cb22000000000000000000000000d7a113b807d5aaab443bf4eee7f10f23872a0678000000000000000000000000cdc25bdd8d10d30c9efe82e6ab81709c2491596c000000000000000000000000cdc25bdd8d10d30c9efe82e6ab81709c2491596c000000000000000000000000000000000000000000000000000000000000001e","EVMVersion":"Default","Library":"","LicenseType":"Unlicense","Proxy":"0","Implementation":"","SwarmSource":"ipfs://1eefa103e6a57f3189e1dd46e9c2c49a0dfcfd1d62e344c6ee97880c225d6005"}]}