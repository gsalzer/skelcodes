{"status":"1","message":"OK","result":[{"SourceCode":"// SPDX-License-Identifier: MIT\n\npragma solidity 0.8.0;\n\n\n\n// Part: IMoonCats\n\n// import \"../../../../interfaces/markets/tokens/IERC721.sol\";\n\ninterface IMoonCats {\n\n    struct AdoptionOffer {\n        bool exists;\n        bytes5 catId;\n        address seller;\n        uint price;\n        address onlyOfferTo;\n    }\n\n    /* accepts an adoption offer  */\n    function acceptAdoptionOffer(bytes5 catId) payable external;\n\n    /* transfer a cat directly without payment */\n    function giveCat(bytes5 catId, address to) external;\n\n    function adoptionOffers(bytes5 catId) external view returns(AdoptionOffer memory offer);\n}\n\n// File: MoonCatsMarket.sol\n\nlibrary MoonCatsMarket {\n\n    address public constant MOONCATSRESCUE = 0x60cd862c9C687A9dE49aecdC3A99b74A4fc54aB6;\n    //address public MOONCATSWRAPPED = 0x7C40c393DC0f283F318791d746d894DdD3693572;\n\n    function buyAssetsForEth(bytes memory data, address recipient) public {\n        bytes5[] memory tokenIds;\n        (tokenIds) = abi.decode(\n            data,\n            (bytes5[])\n        );\n        for (uint256 i = 0; i < tokenIds.length; i++) {\n            _buyAssetForEth(tokenIds[i], estimateAssetPriceInEth(tokenIds[i]), recipient);\n        }\n    }\n\n    function estimateAssetPriceInEth(bytes5 tokenId) public view returns(uint256) {\n        return IMoonCats(MOONCATSRESCUE).adoptionOffers(tokenId).price;\n    }\n\n    function estimateBatchAssetPriceInEth(bytes memory data) public view returns(uint256 totalCost) {\n        bytes5[] memory tokenIds;\n        (tokenIds) = abi.decode(\n            data,\n            (bytes5[])\n        );\n        for (uint256 i = 0; i < tokenIds.length; i++) {\n            totalCost += IMoonCats(MOONCATSRESCUE).adoptionOffers(tokenIds[0]).price;\n        }\n    }\n\n    function _buyAssetForEth(bytes5 _tokenId, uint256 _price, address _recipient) internal {\n        bytes memory _data = abi.encodeWithSelector(IMoonCats(MOONCATSRESCUE).acceptAdoptionOffer.selector, _tokenId);\n\n        (bool success, ) = MOONCATSRESCUE.call{value:_price}(_data);\n        require(success, \"_buyAssetForEth: moonCats buy failed.\");\n\n        IMoonCats(MOONCATSRESCUE).giveCat(_tokenId, _recipient);\n    }\n}\n","ABI":"[{\"inputs\":[],\"name\":\"MOONCATSRESCUE\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes5\",\"name\":\"tokenId\",\"type\":\"bytes5\"}],\"name\":\"estimateAssetPriceInEth\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes\",\"name\":\"data\",\"type\":\"bytes\"}],\"name\":\"estimateBatchAssetPriceInEth\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"totalCost\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"}]","ContractName":"MoonCatsMarket","CompilerVersion":"v0.8.0+commit.c7dfd78e","OptimizationUsed":"1","Runs":"200","ConstructorArguments":"","EVMVersion":"Default","Library":"","LicenseType":"MIT","Proxy":"0","Implementation":"","SwarmSource":""}]}