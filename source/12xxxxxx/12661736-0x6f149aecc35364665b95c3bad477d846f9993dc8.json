{"status":"1","message":"OK","result":[{"SourceCode":"pragma solidity 0.6.7;\r\n\r\nabstract contract StabilityFeeTreasuryLike {\r\n    function getAllowance(address) virtual public view returns (uint256, uint256);\r\n    function setTotalAllowance(address, uint256) virtual external;\r\n}\r\ncontract SFTreasuryAllowanceReseter {\r\n    // --- Variables ---\r\n    StabilityFeeTreasuryLike public treasury;\r\n\r\n    // --- Events ---\r\n    event ResetTotalAllowance(address account);\r\n\r\n    constructor(address treasury_) public {\r\n        require(treasury_ != address(0), \"SFTreasuryAllowanceReseter/null-treasury\");\r\n        treasury = StabilityFeeTreasuryLike(treasury_);\r\n    }\r\n\r\n    /*\r\n    * @notify Reset the total allowance for an address that has a positive perBlock allowance\r\n    */\r\n    function resetTotalAllowance(address account) external {\r\n        (, uint perBlockAllowance) = treasury.getAllowance(account);\r\n        require(perBlockAllowance > 0, \"SFTreasuryAllowanceReseter/null-per-block-allowance\");\r\n        treasury.setTotalAllowance(account, uint(-1));\r\n        emit ResetTotalAllowance(account);\r\n    }\r\n}","ABI":"[{\"inputs\":[{\"internalType\":\"address\",\"name\":\"treasury_\",\"type\":\"address\"}],\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"address\",\"name\":\"account\",\"type\":\"address\"}],\"name\":\"ResetTotalAllowance\",\"type\":\"event\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"account\",\"type\":\"address\"}],\"name\":\"resetTotalAllowance\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"treasury\",\"outputs\":[{\"internalType\":\"contract StabilityFeeTreasuryLike\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"}]","ContractName":"SFTreasuryAllowanceReseter","CompilerVersion":"v0.6.7+commit.b8d736ae","OptimizationUsed":"1","Runs":"200","ConstructorArguments":"00000000000000000000000083533fdd3285f48204215e9cf38c785371258e76","EVMVersion":"Default","Library":"","LicenseType":"None","Proxy":"0","Implementation":"","SwarmSource":"ipfs://51db1a558da55822fe15de21376b359458a1baf42d97191c28bdfc691200607e"}]}