{"status":"1","message":"OK","result":[{"SourceCode":"//\r\n//  ʎɹǝllɐ⅁ ɔısɐᙠ lɐsɹǝʌıu∩\r\n//\r\n// SPDX-License-Identifier: MIT\r\npragma solidity 0.8.0;\r\n\r\ninterface PT {\r\n    function allowance(address _sender, address _spender) external view returns (uint256);\r\n    function burnFrom(address _sender, uint256 _amount) external;\r\n}\r\n\r\ninterface DT {\r\n    function ownerOf(uint256 tokenId) external view returns (address);\r\n    function tokenURI(uint256 tokenId) external view returns (string memory);\r\n    function symbol() external view returns (string memory);\r\n    function name() external view returns (string memory);\r\n}\r\n\r\ncontract UniBG {\r\n    \r\n    address public owner;\r\n    uint256 public activeNFTindex;\r\n    uint256 public lastUpdate;\r\n    uint256 public cost = 24000000000000000000;\r\n    uint256 public tally = 0;\r\n\r\n    PT public paymentToken;\r\n    DT public activeNFT;\r\n\r\n    event Displaying(address _sender, address _add, uint256 _idx);\r\n\r\n    modifier onlyOwner {\r\n      require(msg.sender == owner);\r\n      _;\r\n   }\r\n\r\n    constructor(PT _paymentToken){\r\n        paymentToken = _paymentToken;\r\n        owner = msg.sender;\r\n    }\r\n\r\n    function changeOwner(address _newOwner) external onlyOwner {\r\n        owner = _newOwner;\r\n    }\r\n\r\n    function changePaymentToken(address _newPaymentToken) external onlyOwner {\r\n        paymentToken = PT(_newPaymentToken);\r\n    }\r\n\r\n    function updatePrice() external {\r\n        require(block.timestamp - lastUpdate >= 1 days, \"price change not due\");\r\n        require(cost >= 1000000000000000000, \"min cost\");\r\n        lastUpdate = block.timestamp;\r\n        cost = cost/2;\r\n    }\r\n\r\n    function display(address _add, uint256 _idx) external {        \r\n        uint256 allowance = paymentToken.allowance(msg.sender, address(this));\r\n        require(allowance >= cost, \"Allowance is less than cost.\");\r\n        paymentToken.burnFrom(msg.sender, cost);\r\n        tally += cost;\r\n        cost += 24000000000000000000;\r\n        lastUpdate = block.timestamp;\r\n        activeNFT = DT(_add);\r\n        activeNFTindex = _idx;\r\n        emit Displaying(msg.sender, _add, _idx);\r\n    }\r\n\r\n    function name() public view returns (string memory){\r\n        return activeNFT.name();\r\n    }\r\n\r\n    function symbol() public view returns (string memory){\r\n        return activeNFT.symbol();\r\n    }\r\n\r\n    function tokenURI(uint256 tokenId) public view returns (string memory){\r\n        return activeNFT.tokenURI(activeNFTindex);\r\n    }\r\n\r\n    function ownerOf(uint256 tokenId) public view returns (address){\r\n        return activeNFT.ownerOf(activeNFTindex);\r\n    }\r\n\r\n}","ABI":"[{\"inputs\":[{\"internalType\":\"contract PT\",\"name\":\"_paymentToken\",\"type\":\"address\"}],\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"address\",\"name\":\"_sender\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"address\",\"name\":\"_add\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"_idx\",\"type\":\"uint256\"}],\"name\":\"Displaying\",\"type\":\"event\"},{\"inputs\":[],\"name\":\"activeNFT\",\"outputs\":[{\"internalType\":\"contract DT\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"activeNFTindex\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_newOwner\",\"type\":\"address\"}],\"name\":\"changeOwner\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_newPaymentToken\",\"type\":\"address\"}],\"name\":\"changePaymentToken\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"cost\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_add\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"_idx\",\"type\":\"uint256\"}],\"name\":\"display\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"lastUpdate\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"name\",\"outputs\":[{\"internalType\":\"string\",\"name\":\"\",\"type\":\"string\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"owner\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"tokenId\",\"type\":\"uint256\"}],\"name\":\"ownerOf\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"paymentToken\",\"outputs\":[{\"internalType\":\"contract PT\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"symbol\",\"outputs\":[{\"internalType\":\"string\",\"name\":\"\",\"type\":\"string\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"tally\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"tokenId\",\"type\":\"uint256\"}],\"name\":\"tokenURI\",\"outputs\":[{\"internalType\":\"string\",\"name\":\"\",\"type\":\"string\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"updatePrice\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"}]","ContractName":"UniBG","CompilerVersion":"v0.8.0+commit.c7dfd78e","OptimizationUsed":"1","Runs":"200","ConstructorArguments":"000000000000000000000000dd1ad9a21ce722c151a836373babe42c868ce9a4","EVMVersion":"Default","Library":"","LicenseType":"MIT","Proxy":"0","Implementation":"","SwarmSource":"ipfs://854c338a44e45407aac567c73af46ee4ac5d89420737d810a5bbc7ad3019b987"}]}