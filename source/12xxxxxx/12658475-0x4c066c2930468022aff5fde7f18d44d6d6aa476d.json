{"status":"1","message":"OK","result":[{"SourceCode":"{{\r\n  \"language\": \"Solidity\",\r\n  \"sources\": {\r\n    \"/Users/ovdbigge/argent/contracts5/contracts/infrastructure/dapp/BaseFilter.sol\": {\r\n      \"content\": \"// Copyright (C) 2021  Argent Labs Ltd. <https://argent.xyz>\\n\\n// This program is free software: you can redistribute it and/or modify\\n// it under the terms of the GNU General Public License as published by\\n// the Free Software Foundation, either version 3 of the License, or\\n// (at your option) any later version.\\n\\n// This program is distributed in the hope that it will be useful,\\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\\n// GNU General Public License for more details.\\n\\n// You should have received a copy of the GNU General Public License\\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\\n\\n// SPDX-License-Identifier: GPL-3.0-only\\npragma solidity ^0.8.3;\\n\\nimport \\\"./IFilter.sol\\\";\\n\\nabstract contract BaseFilter is IFilter {\\n    function getMethod(bytes memory _data) internal pure returns (bytes4 method) {\\n        // solhint-disable-next-line no-inline-assembly\\n        assembly {\\n            method := mload(add(_data, 0x20))\\n        }\\n    }\\n}\"\r\n    },\r\n    \"/Users/ovdbigge/argent/contracts5/contracts/infrastructure/dapp/IFilter.sol\": {\r\n      \"content\": \"// Copyright (C) 2021  Argent Labs Ltd. <https://argent.xyz>\\n\\n// This program is free software: you can redistribute it and/or modify\\n// it under the terms of the GNU General Public License as published by\\n// the Free Software Foundation, either version 3 of the License, or\\n// (at your option) any later version.\\n\\n// This program is distributed in the hope that it will be useful,\\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\\n// GNU General Public License for more details.\\n\\n// You should have received a copy of the GNU General Public License\\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\\n\\n// SPDX-License-Identifier: GPL-3.0-only\\npragma solidity ^0.8.3;\\n\\ninterface IFilter {\\n    function isValid(address _wallet, address _spender, address _to, bytes calldata _data) external view returns (bool valid);\\n}\"\r\n    },\r\n    \"/Users/ovdbigge/argent/contracts5/contracts/infrastructure/dapp/YearnV2Filter.sol\": {\r\n      \"content\": \"// Copyright (C) 2021  Argent Labs Ltd. <https://argent.xyz>\\n\\n// This program is free software: you can redistribute it and/or modify\\n// it under the terms of the GNU General Public License as published by\\n// the Free Software Foundation, either version 3 of the License, or\\n// (at your option) any later version.\\n\\n// This program is distributed in the hope that it will be useful,\\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\\n// GNU General Public License for more details.\\n\\n// You should have received a copy of the GNU General Public License\\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\\n\\n// SPDX-License-Identifier: GPL-3.0-only\\npragma solidity ^0.8.3;\\n\\nimport \\\"./BaseFilter.sol\\\";\\n\\n/**\\n * @title YearnV2Filter\\n * @notice Filter used for deposits & withdrawals into/from YearnV2 vaults\\n * such as the WETH vault at 0xa9fE4601811213c340e850ea305481afF02f5b28\\n * @author Olivier VDB - <olivier@argent.xyz>\\n */\\ncontract YearnV2Filter is BaseFilter {\\n\\n    // Note: deposit and withdraw method implementations in Vyper have default values for all their arguments\\n    // (see https://github.com/yearn/yearn-vaults/blob/master/contracts/Vault.vy).\\n    // Each Vyper method therefore results in N+1 ABI methods for N parameters\\n    // These ABI methods are denoted (DEPOSIT|WITHDRAW){i} below where i is the number of parameters for the method\\n\\n    bytes4 private constant DEPOSIT0 = bytes4(keccak256(\\\"deposit()\\\"));\\n    bytes4 private constant DEPOSIT1 = bytes4(keccak256(\\\"deposit(uint256)\\\"));\\n   \\n    bytes4 private constant WITHDRAW0 = bytes4(keccak256(\\\"withdraw()\\\"));\\n    bytes4 private constant WITHDRAW1 = bytes4(keccak256(\\\"withdraw(uint256)\\\"));\\n\\n    bytes4 private constant ERC20_APPROVE = bytes4(keccak256(\\\"approve(address,uint256)\\\"));\\n\\n    function isValid(address _wallet, address _spender, address _to, bytes calldata _data) external view override returns (bool valid) {\\n        // disable ETH transfers\\n        if (_data.length < 4) {\\n            return false;\\n        }\\n\\n        bytes4 method = getMethod(_data);\\n        if(_spender != _to) {\\n            return method == ERC20_APPROVE;\\n        }\\n\\n        if(method == DEPOSIT0 || method == DEPOSIT1 || method == WITHDRAW0 || method == WITHDRAW1) {\\n            return true;\\n        }\\n\\n        return false;\\n    }\\n}\"\r\n    }\r\n  },\r\n  \"settings\": {\r\n    \"remappings\": [],\r\n    \"optimizer\": {\r\n      \"enabled\": true,\r\n      \"runs\": 999\r\n    },\r\n    \"evmVersion\": \"istanbul\",\r\n    \"libraries\": {},\r\n    \"outputSelection\": {\r\n      \"*\": {\r\n        \"*\": [\r\n          \"evm.bytecode\",\r\n          \"evm.deployedBytecode\",\r\n          \"abi\"\r\n        ]\r\n      }\r\n    }\r\n  }\r\n}}","ABI":"[{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_wallet\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"_spender\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"_to\",\"type\":\"address\"},{\"internalType\":\"bytes\",\"name\":\"_data\",\"type\":\"bytes\"}],\"name\":\"isValid\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"valid\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"}]","ContractName":"YearnV2Filter","CompilerVersion":"v0.8.3+commit.8d00100c","OptimizationUsed":"1","Runs":"999","ConstructorArguments":"","EVMVersion":"Default","Library":"","LicenseType":"","Proxy":"0","Implementation":"","SwarmSource":""}]}