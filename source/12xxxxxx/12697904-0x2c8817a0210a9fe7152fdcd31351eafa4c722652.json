{"status":"1","message":"OK","result":[{"SourceCode":"{{\r\n  \"language\": \"Solidity\",\r\n  \"sources\": {\r\n    \"contracts/Atm.sol\": {\r\n      \"content\": \"// SPDX-License-Identifier: MIT\\n\\npragma solidity 0.8.6;\\n\\ninterface IERC20 {\\n    function balanceOf(address account) external view returns (uint256);\\n    function transfer(address recipient, uint256 amount) external returns (bool);\\n}\\n\\ncontract Atm {\\n    uint256 public constant SHARE_DENOMINATOR = 10000;\\n    IERC20 public immutable token;\\n\\n    uint256 public depositTotal;\\n    uint256 public withdrawTotal;\\n\\n    mapping(address => uint256) public shares;\\n    mapping(address => uint256) public withdrawn;\\n\\n    modifier updateDeposits {\\n        depositTotal += (token.balanceOf(address(this)) + withdrawTotal - depositTotal);\\n        _;\\n    }\\n\\n    event Withdraw(address wallet, uint256 amount);\\n\\n    constructor(IERC20 _token, address[] memory _wallets, uint256[] memory _shares) {\\n        require(_wallets.length == _shares.length, \\\"ATM: corrupt data\\\");\\n\\n        token = _token;\\n\\n        for (uint256 i = 0; i < _wallets.length; i++) {\\n            shares[_wallets[i]] = _shares[i];\\n        }\\n    }\\n\\n    function currentDepositTotal() public view returns (uint256) {\\n        uint256 _depositTotal = depositTotal;\\n        _depositTotal += (token.balanceOf(address(this)) + withdrawTotal - depositTotal);\\n        return _depositTotal;\\n    }\\n\\n    function available(address wallet) public view returns (uint256) {\\n        uint256 totalWithdraw = currentDepositTotal() * shares[wallet] / SHARE_DENOMINATOR;\\n        return totalWithdraw - withdrawn[wallet];\\n    }\\n\\n    function withdraw() external updateDeposits {\\n        require(shares[msg.sender] > 0, \\\"ATM: no shares\\\");\\n\\n        uint256 availableWithdraw = available(msg.sender);\\n\\n        withdrawn[msg.sender] += availableWithdraw;\\n        withdrawTotal += availableWithdraw;\\n\\n        emit Withdraw(msg.sender, availableWithdraw);\\n\\n        token.transfer(msg.sender, availableWithdraw);\\n    }\\n}\\n\"\r\n    }\r\n  },\r\n  \"settings\": {\r\n    \"optimizer\": {\r\n      \"enabled\": true,\r\n      \"runs\": 200\r\n    },\r\n    \"outputSelection\": {\r\n      \"*\": {\r\n        \"*\": [\r\n          \"evm.bytecode\",\r\n          \"evm.deployedBytecode\",\r\n          \"abi\"\r\n        ]\r\n      }\r\n    },\r\n    \"metadata\": {\r\n      \"useLiteralContent\": true\r\n    },\r\n    \"libraries\": {\r\n      \"\": {\r\n        \"__CACHE_BREAKER__\": \"0x00000000d41867734bbee4c6863d9255b2b06ac1\"\r\n      }\r\n    }\r\n  }\r\n}}","ABI":"[{\"inputs\":[{\"internalType\":\"contract IERC20\",\"name\":\"_token\",\"type\":\"address\"},{\"internalType\":\"address[]\",\"name\":\"_wallets\",\"type\":\"address[]\"},{\"internalType\":\"uint256[]\",\"name\":\"_shares\",\"type\":\"uint256[]\"}],\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"address\",\"name\":\"wallet\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"Withdraw\",\"type\":\"event\"},{\"inputs\":[],\"name\":\"SHARE_DENOMINATOR\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"wallet\",\"type\":\"address\"}],\"name\":\"available\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"currentDepositTotal\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"depositTotal\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"name\":\"shares\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"token\",\"outputs\":[{\"internalType\":\"contract IERC20\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"withdraw\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"withdrawTotal\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"name\":\"withdrawn\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"}]","ContractName":"Atm","CompilerVersion":"v0.8.6+commit.11564f7e","OptimizationUsed":"1","Runs":"200","ConstructorArguments":"000000000000000000000000fc7ad527e74b9502ccced442d5c09cff70d64bcb000000000000000000000000000000000000000000000000000000000000006000000000000000000000000000000000000000000000000000000000000001c0000000000000000000000000000000000000000000000000000000000000000a000000000000000000000000137b6fcbb8182fc3c808664d5770d9e0ca34c11b000000000000000000000000b7633767a7938cb3f109fb9fd848b84c6ade3ee400000000000000000000000051e405376f806b30013a04f47c910891cf6ff1d200000000000000000000000075ee0b111eccca49825d5e04fbe286aba588b6ae0000000000000000000000008571ce50faa35b824cb65f027b913cd23fe0aca00000000000000000000000006869e9dd38697ebb64bf139fadbf5962a21807ae000000000000000000000000edee77e0d8c7ec3d972e0eacf4ce0eb734829e120000000000000000000000004e605a361290cc0ee684b6b5e5da3d14630d3fd2000000000000000000000000ae90a7b9ee2eea321bc0ee573bc05b407818de48000000000000000000000000f568c454d977f5bf366ee68822d678ff271c4c3c000000000000000000000000000000000000000000000000000000000000000a0000000000000000000000000000000000000000000000000000000000000bb8000000000000000000000000000000000000000000000000000000000000014a00000000000000000000000000000000000000000000000000000000000000aa00000000000000000000000000000000000000000000000000000000000000aa000000000000000000000000000000000000000000000000000000000000014a00000000000000000000000000000000000000000000000000000000000005dc00000000000000000000000000000000000000000000000000000000000005dc00000000000000000000000000000000000000000000000000000000000005dc00000000000000000000000000000000000000000000000000000000000002ee00000000000000000000000000000000000000000000000000000000000002ee","EVMVersion":"Default","Library":"","LicenseType":"MIT","Proxy":"0","Implementation":"","SwarmSource":""}]}