{"status":"1","message":"OK","result":[{"SourceCode":"// SPDX-License-Identifier: MPL-2.0\r\npragma solidity 0.7.6;\r\npragma experimental ABIEncoderV2;\r\n\r\ninterface IVoteEmitter {\r\n\tevent Vote(address indexed dispatcher, address voter, uint8[] percentiles);\r\n\r\n\tfunction dispatch(address voter, uint8[] memory percentiles) external;\r\n}\r\n\r\ncontract Vote {\r\n\tstruct Attributes {\r\n\t\taddress proposer;\r\n\t\tstring subject;\r\n\t\tstring body;\r\n\t\tuint256 period;\r\n\t\tstring[] options;\r\n\t\tstring bodyMimeType;\r\n\t\tstring optionsMimeType;\r\n\t}\r\n\taddress public voteEmitter;\r\n\taddress public proposer;\r\n\tstring public subject;\r\n\tstring public body;\r\n\tuint256 public period;\r\n\tstring[] public options;\r\n\tstring public bodyMimeType;\r\n\tstring public optionsMimeType;\r\n\r\n\tmapping(address => bool) public isAlreadyVote;\r\n\r\n\tconstructor(\r\n\t\tstring memory _subject,\r\n\t\tstring memory _body,\r\n\t\tstring[] memory _options,\r\n\t\tstring memory _bodyMimeType,\r\n\t\tstring memory _optionsMimeType,\r\n\t\taddress _voteEmitter,\r\n\t\tuint256 _votingBlock\r\n\t) {\r\n\t\tvoteEmitter = _voteEmitter;\r\n\t\tproposer = msg.sender;\r\n\t\tsubject = _subject;\r\n\t\tbody = _body;\r\n\t\tperiod = _votingBlock + block.number;\r\n\t\toptions = _options;\r\n\t\tbodyMimeType = _bodyMimeType;\r\n\t\toptionsMimeType = _optionsMimeType;\r\n\t}\r\n\r\n\tfunction attributes() external view returns (Attributes memory) {\r\n\t\treturn\r\n\t\t\tAttributes(\r\n\t\t\t\tproposer,\r\n\t\t\t\tsubject,\r\n\t\t\t\tbody,\r\n\t\t\t\tperiod,\r\n\t\t\t\toptions,\r\n\t\t\t\tbodyMimeType,\r\n\t\t\t\toptionsMimeType\r\n\t\t\t);\r\n\t}\r\n\r\n\tfunction vote(uint8[] memory percentiles) external {\r\n\t\trequire(block.number < period, \"over the period\");\r\n\t\trequire(isAlreadyVote[msg.sender] == false, \"already vote\");\r\n\t\tisAlreadyVote[msg.sender] = true;\r\n\t\tIVoteEmitter(voteEmitter).dispatch(msg.sender, percentiles);\r\n\t}\r\n}","ABI":"[{\"inputs\":[{\"internalType\":\"string\",\"name\":\"_subject\",\"type\":\"string\"},{\"internalType\":\"string\",\"name\":\"_body\",\"type\":\"string\"},{\"internalType\":\"string[]\",\"name\":\"_options\",\"type\":\"string[]\"},{\"internalType\":\"string\",\"name\":\"_bodyMimeType\",\"type\":\"string\"},{\"internalType\":\"string\",\"name\":\"_optionsMimeType\",\"type\":\"string\"},{\"internalType\":\"address\",\"name\":\"_voteEmitter\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"_votingBlock\",\"type\":\"uint256\"}],\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"inputs\":[],\"name\":\"attributes\",\"outputs\":[{\"components\":[{\"internalType\":\"address\",\"name\":\"proposer\",\"type\":\"address\"},{\"internalType\":\"string\",\"name\":\"subject\",\"type\":\"string\"},{\"internalType\":\"string\",\"name\":\"body\",\"type\":\"string\"},{\"internalType\":\"uint256\",\"name\":\"period\",\"type\":\"uint256\"},{\"internalType\":\"string[]\",\"name\":\"options\",\"type\":\"string[]\"},{\"internalType\":\"string\",\"name\":\"bodyMimeType\",\"type\":\"string\"},{\"internalType\":\"string\",\"name\":\"optionsMimeType\",\"type\":\"string\"}],\"internalType\":\"struct Vote.Attributes\",\"name\":\"\",\"type\":\"tuple\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"body\",\"outputs\":[{\"internalType\":\"string\",\"name\":\"\",\"type\":\"string\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"bodyMimeType\",\"outputs\":[{\"internalType\":\"string\",\"name\":\"\",\"type\":\"string\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"name\":\"isAlreadyVote\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"options\",\"outputs\":[{\"internalType\":\"string\",\"name\":\"\",\"type\":\"string\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"optionsMimeType\",\"outputs\":[{\"internalType\":\"string\",\"name\":\"\",\"type\":\"string\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"period\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"proposer\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"subject\",\"outputs\":[{\"internalType\":\"string\",\"name\":\"\",\"type\":\"string\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint8[]\",\"name\":\"percentiles\",\"type\":\"uint8[]\"}],\"name\":\"vote\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"voteEmitter\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"}]","ContractName":"Vote","CompilerVersion":"v0.7.6+commit.7338295f","OptimizationUsed":"1","Runs":"200","ConstructorArguments":"00000000000000000000000000000000000000000000000000000000000000e0000000000000000000000000000000000000000000000000000000000000012000000000000000000000000000000000000000000000000000000000000001c00000000000000000000000000000000000000000000000000000000000000420000000000000000000000000000000000000000000000000000000000000046000000000000000000000000097fc63599b31e29b52e4fc73cd997845f10cb45900000000000000000000000000000000000000000000000000000000000067a5000000000000000000000000000000000000000000000000000000000000001d476f7665726e616e63652050726f706f73616c3a204275726e20444556000000000000000000000000000000000000000000000000000000000000000000007b68747470733a2f2f7261772e67697468756275736572636f6e74656e742e636f6d2f6465762d70726f746f636f6c2f737461636b726f6f6d2f396265666263306266326536313737316462626166316561313165656663646235656437626361642f70726f706f73616c2f6275726e2d6465762f626f64792e6d64000000000000000000000000000000000000000000000000000000000000000000000000030000000000000000000000000000000000000000000000000000000000000060000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000001a0000000000000000000000000000000000000000000000000000000000000007f68747470733a2f2f7261772e67697468756275736572636f6e74656e742e636f6d2f6465762d70726f746f636f6c2f737461636b726f6f6d2f396265666263306266326536313737316462626166316561313165656663646235656437626361642f70726f706f73616c2f6275726e2d6465762f6f7074696f6e2d312e6d6400000000000000000000000000000000000000000000000000000000000000007f68747470733a2f2f7261772e67697468756275736572636f6e74656e742e636f6d2f6465762d70726f746f636f6c2f737461636b726f6f6d2f396265666263306266326536313737316462626166316561313165656663646235656437626361642f70726f706f73616c2f6275726e2d6465762f6f7074696f6e2d322e6d6400000000000000000000000000000000000000000000000000000000000000007f68747470733a2f2f7261772e67697468756275736572636f6e74656e742e636f6d2f6465762d70726f746f636f6c2f737461636b726f6f6d2f396265666263306266326536313737316462626166316561313165656663646235656437626361642f70726f706f73616c2f6275726e2d6465762f6f7074696f6e2d332e6d6400000000000000000000000000000000000000000000000000000000000000000d746578742f6d61726b646f776e00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000d746578742f6d61726b646f776e00000000000000000000000000000000000000","EVMVersion":"Default","Library":"","LicenseType":"MPL-2.0","Proxy":"0","Implementation":"","SwarmSource":"ipfs://3cb4a60725ac59fdb2269cf9fe3c542cca4cff7744352659e72d3c2194969c0c"}]}