{"status":"1","message":"OK","result":[{"SourceCode":"/**\r\n *Submitted for verification at Etherscan.io on 2021-05-04\r\n*/\r\n\r\npragma solidity ^0.5.16;\r\npragma experimental ABIEncoderV2;\r\n\r\n\r\n\r\ncontract ERC20Like {\r\n    function balanceOf(address user) public view returns(uint);\r\n}\r\n\r\ncontract CTokenLike {\r\n    function borrowBalanceStored(address account) public view returns (uint);\r\n}\r\n\r\ncontract RegistryLike {\r\n    function avatarLength() public view returns(uint);\r\n    function avatars(uint i) public view returns(address);\r\n}\r\n\r\ncontract UserInfo {\r\n    struct TvlInfo {\r\n        uint numAccounts;\r\n        uint[] ctokenBalance;\r\n        uint[] ctokenBorrow;\r\n    }\r\n\r\n    function getTvlInfo(address[] memory ctokens, address registry) public view returns(uint[] memory ctokenBalance,\r\n                                                                                        uint[] memory ctokenBorrow) {\r\n        ctokenBalance = new uint[](ctokens.length);\r\n        ctokenBorrow = new uint[](ctokens.length);\r\n        uint numAvatars = RegistryLike(registry).avatarLength();\r\n        for(uint i = 0 ; i < numAvatars ; i++) {\r\n            address avatar = RegistryLike(registry).avatars(i);\r\n            for(uint j = 0 ; j < ctokens.length ; j++) {\r\n                ctokenBalance[j] += ERC20Like(ctokens[j]).balanceOf(avatar);\r\n                ctokenBorrow[j] += CTokenLike(ctokens[j]).borrowBalanceStored(avatar);\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\ncontract FakeBComptroller {\r\n    function c2b(address a) pure public returns(address) { return a;}\r\n}","ABI":"[{\"constant\":true,\"inputs\":[{\"internalType\":\"address[]\",\"name\":\"ctokens\",\"type\":\"address[]\"},{\"internalType\":\"address\",\"name\":\"registry\",\"type\":\"address\"}],\"name\":\"getTvlInfo\",\"outputs\":[{\"internalType\":\"uint256[]\",\"name\":\"ctokenBalance\",\"type\":\"uint256[]\"},{\"internalType\":\"uint256[]\",\"name\":\"ctokenBorrow\",\"type\":\"uint256[]\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"}]","ContractName":"UserInfo","CompilerVersion":"v0.5.16+commit.9c3226ce","OptimizationUsed":"1","Runs":"200","ConstructorArguments":"","EVMVersion":"Default","Library":"","LicenseType":"BSD-3-Clause","Proxy":"0","Implementation":"","SwarmSource":"bzzr://084832adcd8c65f34ae977296699057b72531757f911dcb561d75299a5ae0db6"}]}