{"status":"1","message":"OK","result":[{"SourceCode":"# @version 0.2.12\r\n\r\n\"\"\"\r\n@title Unagii ZapEth 0.1.0\r\n@author stakewith.us\r\n@license AGPL-3.0-or-later\r\n\"\"\"\r\n\r\n\r\nfrom vyper.interfaces import ERC20\r\n\r\n\r\ninterface EthVaultV1:\r\n    def token() -> address: view\r\n    def withdraw(shares: uint256, _min: uint256): nonpayable\r\n\r\n\r\ninterface EthVaultV2:\r\n    def token() -> address: view\r\n    def uToken() -> address: view\r\n    # BUG: amount fixed\r\n    def deposit(amount: uint256, _min: uint256) -> uint256: payable\r\n\r\n\r\nv1: public(EthVaultV1)\r\nv2: public(EthVaultV2)\r\nETH: constant(address) = 0xEeeeeEeeeEeEeeEeEeEeeEEEeeeeEeeeeeeeEEeE\r\nuToken: public(ERC20)\r\n\r\n\r\n@external\r\ndef __init__(v1: address, v2: address, uToken: address):\r\n    self.v1 = EthVaultV1(v1)\r\n    self.v2 = EthVaultV1(v2)\r\n\r\n    assert self.v1.token() == ETH, \"v1 token != ETH\"\r\n    assert self.v2.token() == ETH, \"v2 token != ETH\"\r\n\r\n    assert uToken == self.v2.uToken(), \"uToken != v2 uToken\"\r\n    self.uToken = ERC20(self.v2.uToken())\r\n\r\n\r\n@external\r\ndef __default__():\r\n    # only allow ETH from v1 vault\r\n    assert msg.sender == self.v1.address, \"!v1 vault\"\r\n\r\n\r\n@external\r\ndef zap(shares: uint256, _min: uint256, _minV2Shares: uint256):\r\n    ERC20(self.v1.address).transferFrom(msg.sender, self, shares)\r\n    self.v1.withdraw(shares, _min)\r\n\r\n    uShares: uint256 = self.v2.deposit(self.balance, _minV2Shares, value=self.balance)\r\n    self.uToken.transfer(msg.sender, uShares)","ABI":"[{\"stateMutability\":\"nonpayable\",\"type\":\"constructor\",\"inputs\":[{\"name\":\"v1\",\"type\":\"address\"},{\"name\":\"v2\",\"type\":\"address\"},{\"name\":\"uToken\",\"type\":\"address\"}],\"outputs\":[]},{\"stateMutability\":\"nonpayable\",\"type\":\"fallback\"},{\"stateMutability\":\"nonpayable\",\"type\":\"function\",\"name\":\"zap\",\"inputs\":[{\"name\":\"shares\",\"type\":\"uint256\"},{\"name\":\"_min\",\"type\":\"uint256\"},{\"name\":\"_minV2Shares\",\"type\":\"uint256\"}],\"outputs\":[],\"gas\":56865},{\"stateMutability\":\"view\",\"type\":\"function\",\"name\":\"v1\",\"inputs\":[],\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"gas\":2418},{\"stateMutability\":\"view\",\"type\":\"function\",\"name\":\"v2\",\"inputs\":[],\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"gas\":2448},{\"stateMutability\":\"view\",\"type\":\"function\",\"name\":\"uToken\",\"inputs\":[],\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"gas\":2478}]","ContractName":"Vyper_contract","CompilerVersion":"vyper:0.2.12","OptimizationUsed":"0","Runs":"0","ConstructorArguments":"00000000000000000000000072e357f7635163493f153a0bd3f03c15c14a51c60000000000000000000000007f129b99d81e5ac772b24bfb6af2f71309851f4c0000000000000000000000005a6170496aaec8649b25ec0cd53e55bc38525b00","EVMVersion":"Default","Library":"","LicenseType":"Unknown","Proxy":"0","Implementation":"","SwarmSource":""}]}