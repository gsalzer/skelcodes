{"status":"1","message":"OK","result":[{"SourceCode":"// SPDX-License-Identifier: GPL-3.0-only\r\n\r\npragma solidity 0.7.4;\r\n\r\nlibrary SafeMathLib {\r\n  function times(uint a, uint b) public pure returns (uint) {\r\n    uint c = a * b;\r\n    require(a == 0 || c / a == b, 'Overflow detected');\r\n    return c;\r\n  }\r\n\r\n  function minus(uint a, uint b) public pure returns (uint) {\r\n    require(b <= a, 'Underflow detected');\r\n    return a - b;\r\n  }\r\n\r\n  function plus(uint a, uint b) public pure returns (uint) {\r\n    uint c = a + b;\r\n    require(c>=a && c>=b, 'Overflow detected');\r\n    return c;\r\n  }\r\n\r\n}\r\n\r\n\r\n/**\r\n * @dev Interface of the ERC20 standard as defined in the EIP.\r\n */\r\ninterface IERC20 {\r\n    /**\r\n     * @dev Returns the amount of tokens in existence.\r\n     */\r\n    function totalSupply() external view returns (uint256);\r\n\r\n    /**\r\n     * @dev Returns the amount of tokens owned by `account`.\r\n     */\r\n    function balanceOf(address account) external view returns (uint256);\r\n\r\n    /**\r\n     * @dev Moves `amount` tokens from the caller's account to `recipient`.\r\n     *\r\n     * Returns a boolean value indicating whether the operation succeeded.\r\n     *\r\n     * Emits a {Transfer} event.\r\n     */\r\n    function transfer(address recipient, uint256 amount) external returns (bool);\r\n\r\n    /**\r\n     * @dev Returns the remaining number of tokens that `spender` will be\r\n     * allowed to spend on behalf of `owner` through {transferFrom}. This is\r\n     * zero by default.\r\n     *\r\n     * This value changes when {approve} or {transferFrom} are called.\r\n     */\r\n    function allowance(address owner, address spender) external view returns (uint256);\r\n\r\n    /**\r\n     * @dev Sets `amount` as the allowance of `spender` over the caller's tokens.\r\n     *\r\n     * Returns a boolean value indicating whether the operation succeeded.\r\n     *\r\n     * IMPORTANT: Beware that changing an allowance with this method brings the risk\r\n     * that someone may use both the old and the new allowance by unfortunate\r\n     * transaction ordering. One possible solution to mitigate this race\r\n     * condition is to first reduce the spender's allowance to 0 and set the\r\n     * desired value afterwards:\r\n     * https://github.com/ethereum/EIPs/issues/20#issuecomment-263524729\r\n     *\r\n     * Emits an {Approval} event.\r\n     */\r\n    function approve(address spender, uint256 amount) external returns (bool);\r\n\r\n    /**\r\n     * @dev Moves `amount` tokens from `sender` to `recipient` using the\r\n     * allowance mechanism. `amount` is then deducted from the caller's\r\n     * allowance.\r\n     *\r\n     * Returns a boolean value indicating whether the operation succeeded.\r\n     *\r\n     * Emits a {Transfer} event.\r\n     */\r\n    function transferFrom(address sender, address recipient, uint256 amount) external returns (bool);\r\n\r\n    /**\r\n     * @dev Emitted when `value` tokens are moved from one account (`from`) to\r\n     * another (`to`).\r\n     *\r\n     * Note that `value` may be zero.\r\n     */\r\n    event Transfer(address indexed from, address indexed to, uint256 value);\r\n\r\n    /**\r\n     * @dev Emitted when the allowance of a `spender` for an `owner` is set by\r\n     * a call to {approve}. `value` is the new allowance.\r\n     */\r\n    event Approval(address indexed owner, address indexed spender, uint256 value);\r\n}\r\n\r\ncontract UniformTimeVault {\r\n    using SafeMathLib for uint;\r\n\r\n    IERC20 public token;\r\n    uint public numTranches = 0;\r\n    uint public startTime = 0;\r\n    uint public endTime = 0;\r\n    uint public vestingPeriodLength = 0;\r\n    uint public totalAllocation = 0;\r\n\r\n    struct Tranche {\r\n        uint id;\r\n        address destination;\r\n        uint totalCoins;\r\n        uint currentCoins;\r\n        uint coinsPerSecond;\r\n        uint lastWithdrawalTime;\r\n    }\r\n\r\n    mapping (uint => Tranche) public tranches;\r\n\r\n    event WithdrawalOccurred(uint trancheId, uint numTokens, uint tokensLeft);\r\n    event TrancheAdded(uint id, address destination, uint totalCoins);\r\n\r\n    constructor(address tokenAddr, address[] memory destinations, uint[] memory tokenAllocations, uint _endTime, uint _startTime) {\r\n        token = IERC20(tokenAddr);\r\n        endTime = _endTime;\r\n        startTime = _startTime;\r\n        vestingPeriodLength = endTime - startTime;\r\n        require(vestingPeriodLength > 0 , 'start time must be before end time');\r\n\r\n        for (uint i = 0; i < destinations.length; i++)  {\r\n            uint trancheId = i + 1;\r\n            uint coinsPerSecond = tokenAllocations[i] / vestingPeriodLength;\r\n            totalAllocation = totalAllocation.plus(tokenAllocations[i]);\r\n            tranches[trancheId] = Tranche(\r\n                trancheId,\r\n                destinations[i],\r\n                tokenAllocations[i],\r\n                tokenAllocations[i],\r\n                coinsPerSecond,\r\n                _startTime\r\n            );\r\n            emit TrancheAdded(trancheId, destinations[i], tokenAllocations[i]);\r\n        }\r\n        numTranches = destinations.length;\r\n    }\r\n\r\n    function withdraw(uint trancheId) external {\r\n        Tranche storage tranche = tranches[trancheId];\r\n        require(tranche.currentCoins >  0, 'No coins left to withdraw');\r\n        uint currentWithdrawal = 0;\r\n\r\n        // if after vesting period ends, give them the remaining coins\r\n        if (block.timestamp >= endTime) {\r\n            currentWithdrawal = tranche.currentCoins;\r\n        } else {\r\n            // compute allowed withdrawal\r\n            currentWithdrawal = (block.timestamp.minus(tranche.lastWithdrawalTime)).times(tranche.coinsPerSecond);\r\n        }\r\n\r\n        // update struct\r\n        tranche.currentCoins = tranche.currentCoins.minus(currentWithdrawal);\r\n        tranche.lastWithdrawalTime = block.timestamp;\r\n\r\n        // transfer the tokens, brah\r\n        token.transfer(tranche.destination, currentWithdrawal);\r\n        emit WithdrawalOccurred(trancheId, currentWithdrawal, tranche.currentCoins);\r\n    }\r\n\r\n    function changeDestination(uint trancheId, address newDestination) external {\r\n        Tranche storage tranche = tranches[trancheId];\r\n        require(tranche.destination == msg.sender, 'Can only change destination if you are the destination');\r\n        tranche.destination = newDestination;\r\n    }\r\n}","ABI":"[{\"inputs\":[{\"internalType\":\"address\",\"name\":\"tokenAddr\",\"type\":\"address\"},{\"internalType\":\"address[]\",\"name\":\"destinations\",\"type\":\"address[]\"},{\"internalType\":\"uint256[]\",\"name\":\"tokenAllocations\",\"type\":\"uint256[]\"},{\"internalType\":\"uint256\",\"name\":\"_endTime\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"_startTime\",\"type\":\"uint256\"}],\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"id\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"address\",\"name\":\"destination\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"totalCoins\",\"type\":\"uint256\"}],\"name\":\"TrancheAdded\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"trancheId\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"numTokens\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"tokensLeft\",\"type\":\"uint256\"}],\"name\":\"WithdrawalOccurred\",\"type\":\"event\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"trancheId\",\"type\":\"uint256\"},{\"internalType\":\"address\",\"name\":\"newDestination\",\"type\":\"address\"}],\"name\":\"changeDestination\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"endTime\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"numTranches\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"startTime\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"token\",\"outputs\":[{\"internalType\":\"contract IERC20\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"totalAllocation\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"tranches\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"id\",\"type\":\"uint256\"},{\"internalType\":\"address\",\"name\":\"destination\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"totalCoins\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"currentCoins\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"coinsPerSecond\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"lastWithdrawalTime\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"vestingPeriodLength\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"trancheId\",\"type\":\"uint256\"}],\"name\":\"withdraw\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"}]","ContractName":"UniformTimeVault","CompilerVersion":"v0.7.4+commit.3f05b770","OptimizationUsed":"0","Runs":"200","ConstructorArguments":"0000000000000000000000006595b8fd9c920c81500dca94e53cdc712513fb1f00000000000000000000000000000000000000000000000000000000000000a00000000000000000000000000000000000000000000000000000000000000b60000000000000000000000000000000000000000000000000000000006243e3d000000000000000000000000000000000000000000000000000000000602d38d00000000000000000000000000000000000000000000000000000000000000055000000000000000000000000442898b4fe169571c63c06f45a061dfab646a2a600000000000000000000000000b699b9467cc64c4b57a7dae13fd5942a6fe331000000000000000000000000059d9955c133cf705b4c6ab9b20f01cacfbef23700000000000000000000000005ab39a57d6891b9f3aa41b48edae40c011441cd0000000000000000000000000787050e605de2a59e9b9825de6ce234813820c100000000000000000000000007a234ede5000b4d769e9ed8ab5d85f24898d232000000000000000000000000096c60c756f8c49ff0c03ee0090923d551bd92070000000000000000000000000b42014310d75eee76e7c4896504091247d575fd0000000000000000000000000cda72dff686b1cbd78d07c6c0cd4af00bb14d670000000000000000000000001132471406133dc7001be55af1a9832cfb1a6dfb0000000000000000000000001165cd607c0f6ae3aefaaae988d42a10e6acdff10000000000000000000000001524851fd053ba6cbdf6e0fed20377832d6da35500000000000000000000000016882950df7d48fa422aaa3e331aa0e51a50a8cf0000000000000000000000001688ba6566845bf58ead315388383d9b233a2c2600000000000000000000000016fea16b269a2881101925ae02b3de02a57ca51c0000000000000000000000001976670883faa5b410d0d52a497710d638a767a90000000000000000000000001cec0e93a91a478c3d42874685a06841e394226400000000000000000000000020238951e11ca2a2106f9a64616c16e901332aff000000000000000000000000268c896725e28763e124d6ac632700dcd31811ad0000000000000000000000002b22f035654a46b55c20d949a4367e596615a2db0000000000000000000000002cc80b16d40e5cd0b145b881d9d2141ddee39e500000000000000000000000002e4424a5b159fe12e36eaab42a47c06f048c37f70000000000000000000000002e90d82a507432825a51c0c5a494114af02c2da40000000000000000000000003157fc828ee5092dfaf25a02e797ddb090eabf1300000000000000000000000031f68db54cdce8f755eef1a853bf9b40ed6cbd8e000000000000000000000000323424062b11f9088acc7373a2cb495167e85b6300000000000000000000000032dd8d1205350bb2f4da76ecb55090a7f50b98370000000000000000000000003377c5233d202e30d52cf7f99bf4ef0846286f87000000000000000000000000344d1d621d09467783718f873a723f9d11fbfb8300000000000000000000000034f28d5c881a8302dd989e53d76a5ff36dc98df800000000000000000000000036ba9f13973a207dcc179b0644ef8d17f2d819280000000000000000000000003a4c44fc1e68ebd304b50813b7c04a7a95b698380000000000000000000000003ab0f184e04583fb6ff6f104668eed8601ebf7a00000000000000000000000003c93cd6411d1bb63e8cd4c71ec9420b6a2d6edca0000000000000000000000003ebe32c99fd838cd8228c99312ef6ef1c696b5800000000000000000000000003f9164f23253d3431e62cb1cda6bc4306cb4ad9c00000000000000000000000040c2733d0da192ed27f14b60dba78f4a81ace4ce00000000000000000000000042213d40e1bff4546ee6d7c29192464565cc1d3f000000000000000000000000436d6ee547a96b41693e5217c61ffea73c40588c000000000000000000000000439e9f6c705690dfe6ae5fb3285425e8f76fb5da00000000000000000000000046977fce718a374d255b498d29024075c5d1fb40000000000000000000000000476280c3f1c028e0534a8c6790f621f18c1a2e6400000000000000000000000048a2b4e894bda7fb763810cf67dfb0e0f44f7ff200000000000000000000000049a7241be933fa9935aae0cd4e5c007f4f9045820000000000000000000000004c0d4925f389b998546858d058b03b97f0e15a510000000000000000000000004e887bdf728143dba7efb7f23bee11224bdb7b60000000000000000000000000500d43958b01773b55d278c3a74a33360109a8e400000000000000000000000053dfa54425f10ef36b702a5725051c6d9c5d966d00000000000000000000000056c94d8a32542fbae6479bd78699fd682ff19798000000000000000000000000572bbfb2ec0786cadd3dde2f9026547dd1d2c01c00000000000000000000000059843a5a5264aa46cef4708bde3d7d786ca46e290000000000000000000000005b554a13f2fb465c76544766ea0e669ee35ce9800000000000000000000000005cf60bda5dbc2bfde177d8195d1d3dff294faa350000000000000000000000005d5a68652579dc34aed8124ed10fa182be914bba0000000000000000000000005e19d80f561ab226fa3466d810f5737823e3a96d0000000000000000000000005ef76184f391523e90841feaa707f7b33fae79040000000000000000000000005f07ac913b7754d7932c223def081621abf5c6cd000000000000000000000000602d06b4b88e6be9ff5287d71888860571e78d1300000000000000000000000060a0f1dafff652d727f1e418f0e0b2b99c08a966000000000000000000000000612af536c74351e698b234f5753019b426bc7bbf00000000000000000000000064df896a3d12f1582887ac455587e036225a6c1200000000000000000000000064ed0224b0cb74aa861a2af076dc53116448025b0000000000000000000000006658ce85230d77ef398b1b6cb75f1cdfda2e7ae2000000000000000000000000685452d2c323eea33bfc927c4181088eb7c79d9f0000000000000000000000006928743ca324783f79f9a793e2809b08c345e6d00000000000000000000000006f0ae0b921e13897855b390815c8e16bdabfe7b4000000000000000000000000700159f3f1a63dbb0b2d58d4d6e295cada709b7b000000000000000000000000701aa3536c418827ff016d5860db4fab7e40d52200000000000000000000000071ae619afb31c0d3c4d7e65e30cba9a995e023bb0000000000000000000000007249d482319b829cf67d370fa0e8a21079a01b9d000000000000000000000000733c2df45b9bd3590ff6262eb53edcf0879e4f610000000000000000000000007469caafc028662858fd2168864f41505820307b000000000000000000000000752d0d4a860da4bd395eba24c9204da7e6b55bf4000000000000000000000000793e169ab21a4a79c54f531d4e91036dfff9fbf900000000000000000000000079e67b0152747a0392085a797c78e9a5150e83d400000000000000000000000079eb0fbcb59bd6fb6aaf931205d7069250c3a3f00000000000000000000000007bd9eef6017a2819f8566558091524cc202e16110000000000000000000000007ddd060bd1e2f379019a4745ff073ce7477eb18c0000000000000000000000007f335f98919365b47aecaf52e277bd8b1060d167000000000000000000000000831057680177e3e22e08dffeb47635f54d6e930200000000000000000000000085213c668cae08cb1c098eb921a19838261c612300000000000000000000000088f710fd1caa3e264dab7a47cd8dcad62a550b770000000000000000000000008b229491ddbe453df8c282682a99c378484839710000000000000000000000008c6019f4e9519ce0e132e8f22c50f8837452241c0000000000000000000000008d27763146ad41a6c6417e9f8cfe15a269886d3f00000000000000000000000000000000000000000000000000000000000000550000000000000000000000000000000000000000000026805f9fa6f344a800000000000000000000000000000000000000000000000026805f9fa6f344a80000000000000000000000000000000000000000000000002e963951560b518000000000000000000000000000000000000000000000000108b2a2c2802909400000000000000000000000000000000000000000000000004360ae47bf838bd800000000000000000000000000000000000000000000000034f086f3b33b68400000000000000000000000000000000000000000000000027b46536c66c8e3000000000000000000000000000000000000000000000000006040ef0f21602ba400000000000000000000000000000000000000000000000422ca8b0a00a4250000000000000000000000000000000000000000000000000013402fcfd379a254000000000000000000000000000000000000000000000009195731e2ce35eb000000000000000000000000000000000000000000000000006040ef0f21602ba4000000000000000000000000000000000000000000000000152d02c7e14af68000000000000000000000000000000000000000000000000039c08f6f7a6ce6fc000000000000000000000000000000000000000000000000152d02c7e14af680000000000000000000000000000000000000000000000001a784379d99db42000000000000000000000000000000000000000000000000002a5a058fc295ed00000000000000000000000000000000000000000000000001e144c70d144828fc00000000000000000000000000000000000000000000000034f086f3b33b68400000000000000000000000000000000000000000000000003f870857a3e0e38000000000000000000000000000000000000000000000000069e10de76676d08000000000000000000000000000000000000000000000000026805f9fa6f344a800000000000000000000000000000000000000000000000069e10de76676d080000000000000000000000000000000000000000000000000152d02c7e14af6800000000000000000000000000000000000000000000000002c1dc12ad8759f14000000000000000000000000000000000000000000000000152d02c7e14af6800000000000000000000000000000000000000000000000003f870857a3e0e380000000000000000000000000000000000000000000000000065a4da25d3016c000000000000000000000000000000000000000000000000011a57db0fed7eaf40000000000000000000000000000000000000000000000007c0a62601004f17400000000000000000000000000000000000000000000000074778f4b571c4bc00000000000000000000000000000000000000000000000002a5a058fc295ed00000000000000000000000000000000000000000000000000fe1c215e8f838e0000000000000000000000000000000000000000000000000120c2db0e1ad42a5000000000000000000000000000000000000000000000000422ca8b0a00a42500000000000000000000000000000000000000000000000000178756e190b11bbc0000000000000000000000000000000000000000000000000a968163f0a57b400000000000000000000000000000000000000000000000002a5a058fc295ed0000000000000000000000000000000000000000000000000069e10de76676d080000000000000000000000000000000000000000000000000152d02c7e14af68000000000000000000000000000000000000000000000000008d2c5c8dac5c92c0000000000000000000000000000000000000000000000006398a3f08cdc80a80000000000000000000000000000000000000000000000084595161401484a0000000000000000000000000000000000000000000000000120c2db0e1ad42a50000000000000000000000000000000000000000000000000c081ebfef973feac0000000000000000000000000000000000000000000000084595161401484a000000000000000000000000000000000000000000000000002c1dc12ad8759f14000000000000000000000000000000000000000000000000fe1c215e8f838e000000000000000000000000000000000000000000000000001ce04ea8189047300000000000000000000000000000000000000000000000000a968163f0a57b400000000000000000000000000000000000000000000000003f870857a3e0e3800000000000000000000000000000000000000000000000001a784379d99db4200000000000000000000000000000000000000000000000003fbd3e2151a6c2200000000000000000000000000000000000000000000000003146ccfa7bf6c538000000000000000000000000000000000000000000000000152d02c7e14af6800000000000000000000000000000000000000000000000003ce167fea7b784b0000000000000000000000000000000000000000000000001a784379d99db42000000000000000000000000000000000000000000000000002a5a058fc295ed000000000000000000000000000000000000000000000000000bc3b26123b261900000000000000000000000000000000000000000000000006040ef0f21602ba4000000000000000000000000000000000000000000000000130ee8e717904440000000000000000000000000000000000000000000000000152d02c7e14af6800000000000000000000000000000000000000000000000024185c3fcec5bfc0400000000000000000000000000000000000000000000000034f086f3b33b68400000000000000000000000000000000000000000000000000bc3b26123b26190000000000000000000000000000000000000000000000003e34382b25cc3418000000000000000000000000000000000000000000000000013402fcfd379a25400000000000000000000000000000000000000000000000120c2db0e1ad42a5000000000000000000000000000000000000000000000000069e10de76676d0800000000000000000000000000000000000000000000000000bc3b26123b261900000000000000000000000000000000000000000000000000bc3b26123b261900000000000000000000000000000000000000000000000017ffd5bbe50ebf3f00000000000000000000000000000000000000000000000004d00bf3f4de6895000000000000000000000000000000000000000000000000073812cbfab8d755c000000000000000000000000000000000000000000000000070efc4d0e326fb400000000000000000000000000000000000000000000000026805f9fa6f344a800000000000000000000000000000000000000000000000013402fcfd379a254000000000000000000000000000000000000000000000000152d02c7e14af6800000000000000000000000000000000000000000000000003f870857a3e0e3800000000000000000000000000000000000000000000000073ce27351811f40c00000000000000000000000000000000000000000000000002a5a058fc295ed0000000000000000000000000000000000000000000000000069e10de76676d08000000000000000000000000000000000000000000000000000878678326eac9000000000000000000000000000000000000000000000000069e10de76676d08000000000000000000000000000000000000000000000000000878678326eac900000","EVMVersion":"Default","Library":"SafeMathLib:82d7630c5eb722557de6d76575c9a7b8de718500","LicenseType":"GNU GPLv3","Proxy":"0","Implementation":"","SwarmSource":"ipfs://cd836f2485640fc7fa2ed417fa9f076e6968a9c0f44bbcfde34f5a6feba6da61"}]}