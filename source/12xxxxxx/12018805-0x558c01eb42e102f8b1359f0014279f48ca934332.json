{"status":"1","message":"OK","result":[{"SourceCode":"// Copyright (C) 2020 Centrifuge\r\n// This program is free software: you can redistribute it and/or modify\r\n// it under the terms of the GNU Affero General Public License as published by\r\n// the Free Software Foundation, either version 3 of the License, or\r\n// (at your option) any later version.\r\n//\r\n// This program is distributed in the hope that it will be useful,\r\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n// GNU Affero General Public License for more details.\r\n//\r\n// You should have received a copy of the GNU Affero General Public License\r\n// along with this program.  If not, see <https://www.gnu.org/licenses/>.\r\npragma solidity >=0.5.15 <0.6.0;\r\n\r\ninterface TinlakeRootLike {\r\n    function relyContract(address, address) external;\r\n    function denyContract(address, address) external;\r\n}\r\n\r\ninterface CoordinatorLike {\r\n    function file(bytes32 name, uint value) external;\r\n    function minimumEpochTime() external returns(uint);\r\n}\r\n\r\ninterface NAVFeedLike {\r\n    function file(bytes32 name, uint value) external;\r\n    function file(bytes32 name, uint risk_, uint thresholdRatio_, uint ceilingRatio_, uint rate_, uint recoveryRatePD_) external;\r\n    function discountRate() external returns(uint);\r\n}\r\n\r\n// This spell fixes the permissions and risk groups of the FC1 pool\r\ncontract TinlakeSpell {\r\n\r\n    bool public done;\r\n    string constant public description = \"Tinlake Mainnet Spell\";\r\n\r\n    // FC1 root contracts\r\n    address constant public ROOT = 0x714D520CfAC2027834c8Af8ffc901855c3aD41Ec;\r\n    address constant public SENIOR_MEMBERLIST = 0xD0f425753437176923477F5b310bbd1a2e0A4253;\r\n    address constant public JUNIOR_MEMBERLIST = 0x0F8129ce11653ED7fb83B60d8580b86022Bf0aeF;\r\n    address constant public ASSESSOR = 0xab321CDc90b8882D19c2866b377b450284501219;\r\n    address constant public ASSESSOR_ADMIN = 0x1C422e1cf17CCDBb78A795EfeA637d569C830c1d;\r\n    address constant public FEED = 0x30E3f738f22f5a4671d1252793deB6e657e4b8AA;\r\n    address constant public COORDINATOR = 0x44E9868B37e93F560Deccd5d8d62b26bC62Dce2d;\r\n    address constant public PILE = 0x99D0333f97432fdEfA25B7634520d505e58B131B;\r\n   \r\n    // permissions to be set\r\n    address constant public ADMIN_TO_BE_REMOVED = 0x0A735602a357802f553113F5831FE2fbf2F0E2e0;\r\n    address constant public NEW_ADMIN1 = 0xcC7f213f835875175ec150c07AC774D57200f4d8;\r\n    address constant public NEW_ADMIN2 = 0x71d9f8CFdcCEF71B59DD81AB387e523E2834F2b8;\r\n    address constant public NEW_ADMIN3 = 0xa7Aa917b502d86CD5A23FFbD9Ee32E013015e069;\r\n    address constant public NEW_ADMIN4 = 0xfEADaD6b75e6C899132587b7Cb3FEd60c8554821;\r\n    address constant public NEW_ADMIN5 = 0xC3997Ef807A24af6Ca5Cb1d22c2fD87C6c3b79E8;\r\n    address constant public NEW_ADMIN6 = 0xd60f7CFC1E051d77031aC21D9DB2F66fE54AE312;\r\n    address constant public ORACLE = 0xCbd552356e4C2865387a4470D872265cD0FEFB34;\r\n\r\n    // new minEpochTime\r\n    uint constant public minEpochTime = 1 days - 10 minutes;\r\n\r\n    uint256 constant ONE = 10**27;\r\n\r\n    function cast() public {\r\n        require(!done, \"spell-already-cast\");\r\n        done = true;\r\n        execute();\r\n    }\r\n\r\n    function execute() internal {\r\n      TinlakeRootLike root = TinlakeRootLike(address(ROOT));\r\n      CoordinatorLike coordinator = CoordinatorLike(address(COORDINATOR));\r\n      NAVFeedLike navFeed = NAVFeedLike(address(FEED));\r\n\r\n      // Setup\r\n      root.relyContract(COORDINATOR, address(this)); // required to modify min epoch time\r\n      root.relyContract(FEED, address(this)); // required to file riskGroups\r\n\r\n      // Fix config\r\n      coordinator.file(\"minimumEpochTime\", minEpochTime);\r\n\r\n      // File risk groups\r\n      // risk group: 5, APR: 12.000%%\r\n      navFeed.file(\"riskGroup\", 5, ONE, 75 * 10 ** 25, uint(1000000003805175038051750380), 99.9589*10**25);\r\n\r\n      // Remove incorrect permissions\r\n      root.denyContract(SENIOR_MEMBERLIST, ADMIN_TO_BE_REMOVED);\r\n      root.denyContract(JUNIOR_MEMBERLIST, ADMIN_TO_BE_REMOVED);\r\n      root.denyContract(ASSESSOR, ADMIN_TO_BE_REMOVED);\r\n      root.denyContract(ASSESSOR_ADMIN, ADMIN_TO_BE_REMOVED);\r\n      root.denyContract(FEED, ADMIN_TO_BE_REMOVED);\r\n      root.denyContract(COORDINATOR, ADMIN_TO_BE_REMOVED);\r\n    \r\n      // Add correct permissions\r\n      root.relyContract(ASSESSOR_ADMIN, NEW_ADMIN1);\r\n      root.relyContract(ASSESSOR_ADMIN, NEW_ADMIN2);\r\n      root.relyContract(ASSESSOR_ADMIN, NEW_ADMIN3);\r\n      root.relyContract(ASSESSOR_ADMIN, NEW_ADMIN4);\r\n      root.relyContract(ASSESSOR_ADMIN, NEW_ADMIN5);\r\n      root.relyContract(ASSESSOR_ADMIN, NEW_ADMIN6);\r\n\r\n      root.relyContract(JUNIOR_MEMBERLIST, NEW_ADMIN1);\r\n      root.relyContract(JUNIOR_MEMBERLIST, NEW_ADMIN2);\r\n      root.relyContract(JUNIOR_MEMBERLIST, NEW_ADMIN3);\r\n      root.relyContract(JUNIOR_MEMBERLIST, NEW_ADMIN4);\r\n      root.relyContract(JUNIOR_MEMBERLIST, NEW_ADMIN5);\r\n      root.relyContract(JUNIOR_MEMBERLIST, NEW_ADMIN6);\r\n\r\n      root.relyContract(SENIOR_MEMBERLIST, NEW_ADMIN1);\r\n      root.relyContract(SENIOR_MEMBERLIST, NEW_ADMIN2);\r\n      root.relyContract(SENIOR_MEMBERLIST, NEW_ADMIN3);\r\n      root.relyContract(SENIOR_MEMBERLIST, NEW_ADMIN4);\r\n      root.relyContract(SENIOR_MEMBERLIST, NEW_ADMIN5);\r\n      root.relyContract(SENIOR_MEMBERLIST, NEW_ADMIN6);\r\n\r\n      root.relyContract(FEED, ORACLE);\r\n    }   \r\n}","ABI":"[{\"constant\":true,\"inputs\":[],\"name\":\"ADMIN_TO_BE_REMOVED\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"ASSESSOR\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"ASSESSOR_ADMIN\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"COORDINATOR\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"FEED\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"JUNIOR_MEMBERLIST\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"NEW_ADMIN1\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"NEW_ADMIN2\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"NEW_ADMIN3\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"NEW_ADMIN4\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"NEW_ADMIN5\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"NEW_ADMIN6\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"ORACLE\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"PILE\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"ROOT\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"SENIOR_MEMBERLIST\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[],\"name\":\"cast\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"description\",\"outputs\":[{\"internalType\":\"string\",\"name\":\"\",\"type\":\"string\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"done\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"minEpochTime\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"}]","ContractName":"TinlakeSpell","CompilerVersion":"v0.5.15+commit.6a57276f","OptimizationUsed":"0","Runs":"200","ConstructorArguments":"","EVMVersion":"Default","Library":"","LicenseType":"None","Proxy":"0","Implementation":"","SwarmSource":"bzzr://4a2b185fe0365ee4ce38cc9ed3dbc5ffb64152da56942e7b9c2af2fca22a72fd"}]}