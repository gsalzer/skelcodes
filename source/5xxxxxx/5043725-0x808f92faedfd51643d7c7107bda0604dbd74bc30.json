{"status":"1","message":"OK","result":[{"SourceCode":"pragma solidity ^0.4.19;\r\n \r\n \r\n \r\n contract Lottery {\r\n     \r\n     address owner;\r\n     string public constant name = \"BETA ETHEREUM LOTTERY\";\r\n     uint public tickets;\r\n     uint public round;\r\n     string public status;\r\n     string public constant about = \"Send exactly 0.05 ether directly to this contract address to buy a lottery ticket. Once 22 tickets are sold this contract will pick a random winner and pay the lucky winner 1 whole ether, and the lottery automatically restarts the next round with a new set of 22 tickets. 0.1 Ether (10%) is kept by the house which also covers gas costs.\";\r\n     uint public lastWiningTicketNumber;\r\n     address public lastWinner;\r\n     address ticket1;\r\n     address ticket2;\r\n     address ticket3;\r\n     address ticket4;\r\n     address ticket5;\r\n     address ticket6;\r\n     address ticket7;\r\n     address ticket8;\r\n     address ticket9;\r\n     address ticket10;\r\n     address ticket11;\r\n     address ticket12;\r\n     address ticket13;\r\n     address ticket14;\r\n     address ticket15;\r\n     address ticket16;\r\n     address ticket17;\r\n     address ticket18;\r\n     address ticket19;\r\n     address ticket20;\r\n     address ticket21;\r\n     address ticket22;\r\n     uint winner;\r\n     uint random_number = uint(block.blockhash(block.number-1))%22 + 1;\r\n     uint constant price = 0.05 ether; \r\n     uint constant amount = 1; \r\n     \r\n     \r\n     \r\n     function Lottery() {\r\n         \r\n         owner = msg.sender;\r\n         tickets = 22;\r\n         round = 1;\r\n         lastWinner = 0;\r\n         lastWiningTicketNumber = 0;\r\n         status = \"Running\";\r\n         ticket1 = 0;\r\n         ticket2 = 0;\r\n         ticket3 = 0;\r\n         ticket4 = 0;\r\n         ticket5 = 0;\r\n         ticket6 = 0;\r\n         ticket7 = 0;\r\n         ticket8 = 0;\r\n         ticket9 = 0;\r\n         ticket10 = 0;\r\n         ticket11 = 0;\r\n         ticket12 = 0;\r\n         ticket13 = 0;\r\n         ticket14 = 0;\r\n         ticket15 = 0;\r\n         ticket16 = 0;\r\n         ticket17 = 0;\r\n         ticket18 = 0;\r\n         ticket19 = 0;\r\n         ticket20 = 0;\r\n         ticket21 = 0;\r\n         ticket22 = 0;\r\n     }\r\n     \r\n     event purchasedTicket(address a); \r\n     event winningTicket(address a); \r\n     event winningTicketNumber(uint a); \r\n     \r\n     modifier onlyOwner {\r\n         \r\n         require(msg.sender == owner);\r\n         _;\r\n     }\r\n     \r\n     function changeStatus(string w) onlyOwner {\r\n         status = w;\r\n     }\r\n     \r\n     function () payable {\r\n         \r\n         buyTickets();\r\n     }\r\n     \r\n     function buyTickets() payable {\r\n         \r\n         if (msg.value != (price)) {\r\n             \r\n             throw;\r\n         }\r\n\r\n         \r\n         if (ticket1 == 0) {\r\n             ticket1 = msg.sender;\r\n\r\n         }\r\n         else if(ticket2 == 0) {\r\n             ticket2 = msg.sender;\r\n         }\r\n         else if(ticket3 == 0) {\r\n             ticket3 = msg.sender;\r\n         }\r\n         else if(ticket4 == 0) {\r\n             ticket4 = msg.sender;\r\n         }\r\n         else if(ticket5 == 0) {\r\n             ticket5 = msg.sender;\r\n         }\r\n         else if(ticket6 == 0) {\r\n             ticket6 = msg.sender;\r\n         }\r\n         else if(ticket7 == 0) {\r\n             ticket7 = msg.sender;\r\n         }\r\n         else if(ticket8 == 0) {\r\n             ticket8 = msg.sender;\r\n         }\r\n         else if(ticket9 == 0) {\r\n             ticket9 = msg.sender;\r\n         }\r\n         else if(ticket10 == 0) {\r\n             ticket10 = msg.sender;\r\n         }\r\n         else if(ticket11 == 0) {\r\n             ticket11 = msg.sender;\r\n         }\r\n         else if(ticket12 == 0) {\r\n             ticket12 = msg.sender;\r\n         }\r\n         else if(ticket13 == 0) {\r\n             ticket13 = msg.sender;\r\n         }\r\n         else if(ticket14 == 0) {\r\n             ticket14 = msg.sender;\r\n         }\r\n         else if(ticket15 == 0) {\r\n             ticket15 = msg.sender;\r\n         }\r\n         else if(ticket16 == 0) {\r\n             ticket16 = msg.sender;\r\n         }\r\n         else if(ticket17 == 0) {\r\n             ticket17 = msg.sender;\r\n         }\r\n         else if(ticket18 == 0) {\r\n             ticket18 = msg.sender;\r\n         }\r\n         else if(ticket19 == 0) {\r\n             ticket19 = msg.sender;\r\n         }\r\n         else if(ticket20 == 0) {\r\n             ticket20 = msg.sender;\r\n         }\r\n         else if(ticket21 == 0) {\r\n             ticket21 = msg.sender;\r\n         }\r\n         else if(ticket22 == 0) {\r\n             ticket22 = msg.sender;\r\n         }\r\n         \r\n         tickets -= amount;\r\n         \r\n         purchasedTicket(msg.sender); \r\n         \r\n         if (tickets == 0) {\r\n             \r\n\r\n             tickets = 22; \r\n             round += 1; \r\n             \r\n            \r\n            random_number = uint(block.blockhash(block.number-1))%22 + 1;\r\n            lastWiningTicketNumber = random_number; \r\n            winningTicketNumber(random_number); \r\n            \r\n            \r\n            if (random_number == 1) {\r\n                ticket1.transfer(price * 20); \r\n                winningTicket(ticket1); \r\n                lastWinner = ticket1; \r\n             }\r\n             else if(random_number == 2) {\r\n                 ticket2.transfer(price * 20); \r\n                 winningTicket(ticket2); \r\n                 lastWinner = ticket2; \r\n             }\r\n             else if(random_number == 3) {\r\n                 ticket3.transfer(price * 20); \r\n                 winningTicket(ticket3); \r\n                 lastWinner = ticket3; \r\n             }\r\n             else if(random_number == 4) {\r\n                 ticket4.transfer(price * 20); \r\n                 winningTicket(ticket4); \r\n                 lastWinner = ticket4; \r\n             }\r\n             else if(random_number == 5) {\r\n                 ticket5.transfer(price * 20); \r\n                 winningTicket(ticket5); \r\n                 lastWinner = ticket5; \r\n             }\r\n             else if(random_number == 6) {\r\n                 ticket6.transfer(price * 20); \r\n                 winningTicket(ticket6); \r\n                 lastWinner = ticket6; \r\n             }\r\n             else if(random_number == 7) {\r\n                 ticket7.transfer(price * 20);\r\n                 winningTicket(ticket7); \r\n                 lastWinner = ticket7; \r\n             }\r\n             else if(random_number == 8) {\r\n                 ticket8.transfer(price * 20); \r\n                 winningTicket(ticket8); \r\n                 lastWinner = ticket8; \r\n             }\r\n             else if(random_number == 9) {\r\n                 ticket9.transfer(price * 20); \r\n                 winningTicket(ticket9); \r\n                 lastWinner = ticket9; \r\n             }\r\n             else if(random_number == 10) {\r\n                 ticket10.transfer(price * 20); \r\n                 winningTicket(ticket10); \r\n                 lastWinner = ticket10; \r\n             }\r\n             else if(random_number == 11) {\r\n                 ticket11.transfer(price * 20); \r\n                 winningTicket(ticket11); \r\n                 lastWinner = ticket11; \r\n             }\r\n             else if(random_number == 12) {\r\n                 ticket12.transfer(price * 20); \r\n                 winningTicket(ticket12); \r\n                 lastWinner = ticket12; \r\n             }\r\n             else if(random_number == 13) {\r\n                 ticket13.transfer(price * 20); \r\n                 winningTicket(ticket13); \r\n                 lastWinner = ticket13; \r\n             }\r\n             else if(random_number == 14) {\r\n                 ticket14.transfer(price * 20); \r\n                 winningTicket(ticket14); \r\n                 lastWinner = ticket14; \r\n             }\r\n             else if(random_number == 15) {\r\n                 ticket15.transfer(price * 20); \r\n                 winningTicket(ticket15); \r\n                 lastWinner = ticket15; \r\n             }\r\n             else if(random_number == 16) {\r\n                 ticket16.transfer(price * 20); \r\n                 winningTicket(ticket16); \r\n                 lastWinner = ticket16; \r\n             }\r\n             else if(random_number == 17) {\r\n                 ticket17.transfer(price * 20);\r\n                 winningTicket(ticket17); \r\n                 lastWinner = ticket17; \r\n             }\r\n             else if(random_number == 18) {\r\n                 ticket18.transfer(price * 20); \r\n                 winningTicket(ticket18); \r\n                 lastWinner = ticket18; \r\n             }\r\n             else if(random_number == 19) {\r\n                 ticket19.transfer(price * 20); \r\n                 winningTicket(ticket19); \r\n                 lastWinner = ticket19; \r\n             }\r\n             else if(random_number == 20) {\r\n                 ticket20.transfer(price * 20); \r\n                 winningTicket(ticket20); \r\n                 lastWinner = ticket20; \r\n             }\r\n             else if(random_number == 21) {\r\n                 ticket21.transfer(price * 20); \r\n                 winningTicket(ticket21); \r\n                 lastWinner = ticket21; \r\n             }\r\n             else if(random_number == 22) {\r\n                 ticket22.transfer(price * 20); \r\n                 winningTicket(ticket22); \r\n                 lastWinner = ticket22; \r\n             }\r\n            \r\n            \r\n            owner.transfer(this.balance); \r\n            \r\n            \r\n            \r\n             ticket1 = 0;\r\n             ticket2 = 0;\r\n             ticket3 = 0;\r\n             ticket4 = 0;\r\n             ticket5 = 0;\r\n             ticket6 = 0;\r\n             ticket7 = 0;\r\n             ticket8 = 0;\r\n             ticket9 = 0;\r\n             ticket10 = 0;\r\n             ticket11 = 0;\r\n             ticket12 = 0;\r\n             ticket13 = 0;\r\n             ticket14 = 0;\r\n             ticket15 = 0;\r\n             ticket16 = 0;\r\n             ticket17 = 0;\r\n             ticket18 = 0;\r\n             ticket19 = 0;\r\n             ticket20 = 0;\r\n             ticket21 = 0;\r\n             ticket22 = 0;\r\n            \r\n            \r\n            if (keccak256(status) != keccak256(\"Running\")) {\r\n                \r\n                selfdestruct(owner);\r\n            }\r\n             \r\n         }\r\n     }\r\n     \r\n     \r\n }","ABI":"[{\"constant\":true,\"inputs\":[],\"name\":\"name\",\"outputs\":[{\"name\":\"\",\"type\":\"string\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"round\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"status\",\"outputs\":[{\"name\":\"\",\"type\":\"string\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"tickets\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"lastWiningTicketNumber\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"about\",\"outputs\":[{\"name\":\"\",\"type\":\"string\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"w\",\"type\":\"string\"}],\"name\":\"changeStatus\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[],\"name\":\"buyTickets\",\"outputs\":[],\"payable\":true,\"stateMutability\":\"payable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"lastWinner\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"payable\":true,\"stateMutability\":\"payable\",\"type\":\"fallback\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"name\":\"a\",\"type\":\"address\"}],\"name\":\"purchasedTicket\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"name\":\"a\",\"type\":\"address\"}],\"name\":\"winningTicket\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"name\":\"a\",\"type\":\"uint256\"}],\"name\":\"winningTicketNumber\",\"type\":\"event\"}]","ContractName":"Lottery","CompilerVersion":"v0.4.19+commit.c4cbbb05","OptimizationUsed":"1","Runs":"200","ConstructorArguments":"","Library":"","SwarmSource":"bzzr://478fdb0571ddfc728637b3ab0e80c38ae1ab6164d52bb168c2ea8e0c79220cad"}]}