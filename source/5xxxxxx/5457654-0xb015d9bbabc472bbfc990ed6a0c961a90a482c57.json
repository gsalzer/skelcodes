{"status":"1","message":"OK","result":[{"SourceCode":"pragma solidity ^0.4.19;\r\n\r\ncontract AppCoins {\r\n    mapping (address => mapping (address => uint256)) public allowance;\r\n    function balanceOf (address _owner) public constant returns (uint256);\r\n    function transferFrom(address _from, address _to, uint256 _value) public returns (uint);\r\n}\r\n\r\ncontract AppCoinsIABInterface {\r\n    function division(uint numerator, uint denominator) public constant returns (uint);\r\n    function buy(uint _amount, string _sku, address _addr_appc, address _dev, address _appstore, address _oem) public constant returns (bool);\r\n}\r\n\r\ncontract AppCoinsIAB is AppCoinsIABInterface {\r\n    uint public dev_share = 85;\r\n    uint public appstore_share = 10;\r\n    uint public oem_share = 5;\r\n\r\n    event Buy(uint _amount, string _sku, address _from, address _dev, address _appstore, address _oem);\r\n\r\n    function division(uint numerator, uint denominator) public constant returns (uint) {\r\n        uint _quotient = numerator / denominator;\r\n        return _quotient;\r\n    }\r\n\r\n    function buy(uint256 _amount, string _sku, address _addr_appc, address _dev, address _appstore, address _oem) public constant returns (bool) {\r\n        require(_addr_appc != 0x0);\r\n        require(_dev != 0x0);\r\n        require(_appstore != 0x0);\r\n        require(_oem != 0x0);\r\n\r\n        AppCoins appc = AppCoins(_addr_appc);\r\n        uint256 aux = appc.allowance(msg.sender, address(this));\r\n        require(aux >= _amount);\r\n\r\n        uint[] memory amounts = new uint[](3);\r\n        amounts[0] = division(_amount * dev_share, 100);\r\n        amounts[1] = division(_amount * appstore_share, 100);\r\n        amounts[2] = division(_amount * oem_share, 100);\r\n\r\n        appc.transferFrom(msg.sender, _dev, amounts[0]);\r\n        appc.transferFrom(msg.sender, _appstore, amounts[1]);\r\n        appc.transferFrom(msg.sender, _oem, amounts[2]);\r\n\r\n        Buy(_amount, _sku, msg.sender, _dev, _appstore, _oem);\r\n\r\n        return true;\r\n    }\r\n}","ABI":"[{\"constant\":true,\"inputs\":[],\"name\":\"dev_share\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"_amount\",\"type\":\"uint256\"},{\"name\":\"_sku\",\"type\":\"string\"},{\"name\":\"_addr_appc\",\"type\":\"address\"},{\"name\":\"_dev\",\"type\":\"address\"},{\"name\":\"_appstore\",\"type\":\"address\"},{\"name\":\"_oem\",\"type\":\"address\"}],\"name\":\"buy\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"numerator\",\"type\":\"uint256\"},{\"name\":\"denominator\",\"type\":\"uint256\"}],\"name\":\"division\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"oem_share\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"appstore_share\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"name\":\"_amount\",\"type\":\"uint256\"},{\"indexed\":false,\"name\":\"_sku\",\"type\":\"string\"},{\"indexed\":false,\"name\":\"_from\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"_dev\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"_appstore\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"_oem\",\"type\":\"address\"}],\"name\":\"Buy\",\"type\":\"event\"}]","ContractName":"AppCoinsIAB","CompilerVersion":"v0.4.21+commit.dfe3193c","OptimizationUsed":"0","Runs":"200","ConstructorArguments":"","Library":"","SwarmSource":"bzzr://d66c23ac2ffb1606d5a1fa3f54ee39b94717ba93ca97ab3f43ceff8dea66c5c0"}]}