{"status":"1","message":"OK","result":[{"SourceCode":"pragma solidity ^0.4.17;\r\n\r\ncontract TinyProxy {\r\n  address public receiver;\r\n  uint public gasBudget;\r\n\r\n  function TinyProxy(address toAddr, uint proxyGas) public {\r\n    receiver = toAddr;\r\n    gasBudget = proxyGas;\r\n  }\r\n\r\n  event FundsReceived(uint amount);\r\n  event FundsReleased(address to, uint amount);\r\n\r\n  function () payable public {\r\n    emit FundsReceived(msg.value);\r\n  }\r\n\r\n  function release() public {\r\n    uint balance = address(this).balance;\r\n    if(gasBudget > 0){\r\n      require(receiver.call.gas(gasBudget).value(balance)());\r\n    } else {\r\n      require(receiver.send(balance));\r\n    }\r\n    emit FundsReleased(receiver, balance);\r\n  }\r\n}\r\n\r\ncontract TinyProxyFactory {\r\n  mapping(address => mapping(uint => address)) public proxyFor;\r\n  mapping(address => address[]) public userProxies;\r\n\r\n  event ProxyDeployed(address to, uint gas);\r\n  function make(address to, uint gas, bool track) public returns(address proxy){\r\n    proxy = proxyFor[to][gas];\r\n    if(proxy == 0x0) {\r\n      proxy = new TinyProxy(to, gas);\r\n      proxyFor[to][gas] = proxy;\r\n      emit ProxyDeployed(to, gas);\r\n    }\r\n    if(track) {\r\n      userProxies[msg.sender].push(proxy);\r\n    }\r\n    return proxy;\r\n  }\r\n\r\n  function untrack(uint index) public {\r\n    uint lastProxy = userProxies[msg.sender].length - 1;\r\n    userProxies[msg.sender][index] = userProxies[msg.sender][lastProxy];\r\n    delete userProxies[msg.sender][lastProxy];\r\n  }\r\n}","ABI":"[{\"constant\":false,\"inputs\":[{\"name\":\"index\",\"type\":\"uint256\"}],\"name\":\"untrack\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"\",\"type\":\"address\"},{\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"userProxies\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"to\",\"type\":\"address\"},{\"name\":\"gas\",\"type\":\"uint256\"},{\"name\":\"track\",\"type\":\"bool\"}],\"name\":\"make\",\"outputs\":[{\"name\":\"proxy\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"\",\"type\":\"address\"},{\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"proxyFor\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"name\":\"to\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"gas\",\"type\":\"uint256\"}],\"name\":\"ProxyDeployed\",\"type\":\"event\"}]","ContractName":"TinyProxyFactory","CompilerVersion":"v0.4.21+commit.dfe3193c","OptimizationUsed":"0","Runs":"200","ConstructorArguments":"","Library":"","SwarmSource":"bzzr://d69112a1c834900d50d3ddcc1879ae17e03851272ef55469915093c106825d9c"}]}