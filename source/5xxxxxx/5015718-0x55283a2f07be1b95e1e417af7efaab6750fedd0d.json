{"status":"1","message":"OK","result":[{"SourceCode":"contract SatoshiDice {\r\n    struct Bet {\r\n        address user;\r\n        uint block;\r\n        uint cap;\r\n        uint amount; \r\n    }\r\n\r\n    uint public constant FEE_NUMERATOR = 1;\r\n    uint public constant FEE_DENOMINATOR = 100;\r\n    uint public constant MAXIMUM_CAP = 100000;\r\n    uint public constant MAXIMUM_BET_SIZE = 1e18;\r\n\r\n    address owner;\r\n    uint public counter = 0;\r\n    mapping(uint => Bet) public bets;\r\n\r\n    event BetPlaced(uint id, address user, uint cap, uint amount);\r\n    event Roll(uint id, uint rolled);\r\n\r\n    function SatoshiDice () public {\r\n        owner = msg.sender;\r\n    }\r\n\r\n    function wager (uint cap) public payable {\r\n        require(cap <= MAXIMUM_CAP);\r\n        require(msg.value <= MAXIMUM_BET_SIZE);\r\n\r\n        counter++;\r\n        bets[counter] = Bet(msg.sender, block.number + 3, cap, msg.value);\r\n        BetPlaced(counter, msg.sender, cap, msg.value);\r\n    }\r\n\r\n    function roll(uint id) public {\r\n        Bet storage bet = bets[id];\r\n        require(msg.sender == bet.user);\r\n        require(block.number >= bet.block);\r\n\r\n        bytes32 random = keccak256(block.blockhash(bet.block), id);\r\n        uint rolled = uint(random) % MAXIMUM_CAP;\r\n        if (rolled < bet.cap) {\r\n            uint payout = bet.amount * MAXIMUM_CAP / bet.cap;\r\n            uint fee = payout * FEE_NUMERATOR / FEE_DENOMINATOR;\r\n            payout -= fee;\r\n            msg.sender.transfer(payout);\r\n        }\r\n\r\n        Roll(id, rolled);\r\n        delete bets[id];\r\n    }\r\n\r\n    function fund () payable public {}\r\n\r\n    function kill () public {\r\n        require(msg.sender == owner);\r\n        selfdestruct(owner);\r\n    }\r\n}","ABI":"[{\"constant\":false,\"inputs\":[{\"name\":\"id\",\"type\":\"uint256\"}],\"name\":\"roll\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"bets\",\"outputs\":[{\"name\":\"user\",\"type\":\"address\"},{\"name\":\"block\",\"type\":\"uint256\"},{\"name\":\"cap\",\"type\":\"uint256\"},{\"name\":\"amount\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"MAXIMUM_CAP\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[],\"name\":\"kill\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"FEE_NUMERATOR\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"counter\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[],\"name\":\"fund\",\"outputs\":[],\"payable\":true,\"stateMutability\":\"payable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"cap\",\"type\":\"uint256\"}],\"name\":\"wager\",\"outputs\":[],\"payable\":true,\"stateMutability\":\"payable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"FEE_DENOMINATOR\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"MAXIMUM_BET_SIZE\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"name\":\"id\",\"type\":\"uint256\"},{\"indexed\":false,\"name\":\"user\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"cap\",\"type\":\"uint256\"},{\"indexed\":false,\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"BetPlaced\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"name\":\"id\",\"type\":\"uint256\"},{\"indexed\":false,\"name\":\"rolled\",\"type\":\"uint256\"}],\"name\":\"Roll\",\"type\":\"event\"}]","ContractName":"SatoshiDice","CompilerVersion":"v0.4.18+commit.9cf6e910","OptimizationUsed":"0","Runs":"200","ConstructorArguments":"","Library":"","SwarmSource":"bzzr://9323f6e3a90226f52d572e392c70e37e5c4731122c634d28184ea9a06c9318cd"}]}