{"status":"1","message":"OK","result":[{"SourceCode":"/*\r\n\r\n  Copyright 2017 ZeroEx Intl.\r\n  Modifications Copyright 2018 bZeroX, LLC\r\n\r\n  Licensed under the Apache License, Version 2.0 (the \"License\");\r\n  you may not use this file except in compliance with the License.\r\n  You may obtain a copy of the License at\r\n\r\n    http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n  Unless required by applicable law or agreed to in writing, software\r\n  distributed under the License is distributed on an \"AS IS\" BASIS,\r\n  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n  See the License for the specific language governing permissions and\r\n  limitations under the License.\r\n\r\n*/\r\n\r\npragma solidity 0.4.24;\r\n\r\n/**\r\n * @title Ownable\r\n * @dev The Ownable contract has an owner address, and provides basic authorization control\r\n * functions, this simplifies the implementation of \"user permissions\".\r\n */\r\ncontract Ownable {\r\n  address public owner;\r\n\r\n\r\n  event OwnershipRenounced(address indexed previousOwner);\r\n  event OwnershipTransferred(\r\n    address indexed previousOwner,\r\n    address indexed newOwner\r\n  );\r\n\r\n\r\n  /**\r\n   * @dev The Ownable constructor sets the original `owner` of the contract to the sender\r\n   * account.\r\n   */\r\n  constructor() public {\r\n    owner = msg.sender;\r\n  }\r\n\r\n  /**\r\n   * @dev Throws if called by any account other than the owner.\r\n   */\r\n  modifier onlyOwner() {\r\n    require(msg.sender == owner);\r\n    _;\r\n  }\r\n\r\n  /**\r\n   * @dev Allows the current owner to relinquish control of the contract.\r\n   */\r\n  function renounceOwnership() public onlyOwner {\r\n    emit OwnershipRenounced(owner);\r\n    owner = address(0);\r\n  }\r\n\r\n  /**\r\n   * @dev Allows the current owner to transfer control of the contract to a newOwner.\r\n   * @param _newOwner The address to transfer ownership to.\r\n   */\r\n  function transferOwnership(address _newOwner) public onlyOwner {\r\n    _transferOwnership(_newOwner);\r\n  }\r\n\r\n  /**\r\n   * @dev Transfers control of the contract to a newOwner.\r\n   * @param _newOwner The address to transfer ownership to.\r\n   */\r\n  function _transferOwnership(address _newOwner) internal {\r\n    require(_newOwner != address(0));\r\n    emit OwnershipTransferred(owner, _newOwner);\r\n    owner = _newOwner;\r\n  }\r\n}\r\n\r\ncontract TokenRegistry is Ownable {\r\n\r\n    event LogAddToken(\r\n        address indexed token,\r\n        string name,\r\n        string symbol,\r\n        uint8 decimals,\r\n        string url\r\n    );\r\n\r\n    event LogRemoveToken(\r\n        address indexed token,\r\n        string name,\r\n        string symbol,\r\n        uint8 decimals,\r\n        string url\r\n    );\r\n\r\n    event LogTokenNameChange(address indexed token, string oldName, string newName);\r\n    event LogTokenSymbolChange(address indexed token, string oldSymbol, string newSymbol);\r\n    event LogTokenURLChange(address indexed token, string oldURL, string newURL);\r\n\r\n    mapping (address => TokenMetadata) public tokens;\r\n    mapping (string => address) internal tokenBySymbol;\r\n    mapping (string => address) internal tokenByName;\r\n\r\n    address[] public tokenAddresses;\r\n\r\n    struct TokenMetadata {\r\n        address token;\r\n        string name;\r\n        string symbol;\r\n        uint8 decimals;\r\n        string url;\r\n    }\r\n\r\n    modifier tokenExists(address _token) {\r\n        require(tokens[_token].token != address(0), \"TokenRegistry::token doesn't exist\");\r\n        _;\r\n    }\r\n\r\n    modifier tokenDoesNotExist(address _token) {\r\n        require(tokens[_token].token == address(0), \"TokenRegistry::token exists\");\r\n        _;\r\n    }\r\n\r\n    modifier nameDoesNotExist(string _name) {\r\n        require(tokenByName[_name] == address(0), \"TokenRegistry::name exists\");\r\n        _;\r\n    }\r\n\r\n    modifier symbolDoesNotExist(string _symbol) {\r\n        require(tokenBySymbol[_symbol] == address(0), \"TokenRegistry::symbol exists\");\r\n        _;\r\n    }\r\n\r\n    modifier addressNotNull(address _address) {\r\n        require(_address != address(0), \"TokenRegistry::address is null\");\r\n        _;\r\n    }\r\n\r\n    /// @dev Allows owner to add a new token to the registry.\r\n    /// @param _token Address of new token.\r\n    /// @param _name Name of new token.\r\n    /// @param _symbol Symbol for new token.\r\n    /// @param _decimals Number of decimals, divisibility of new token.\r\n    /// @param _url URL of token icon.\r\n    function addToken(\r\n        address _token,\r\n        string _name,\r\n        string _symbol,\r\n        uint8 _decimals,\r\n        string _url)\r\n        public\r\n        onlyOwner\r\n        tokenDoesNotExist(_token)\r\n        addressNotNull(_token)\r\n        symbolDoesNotExist(_symbol)\r\n        nameDoesNotExist(_name)\r\n    {\r\n        tokens[_token] = TokenMetadata({\r\n            token: _token,\r\n            name: _name,\r\n            symbol: _symbol,\r\n            decimals: _decimals,\r\n            url: _url\r\n        });\r\n        tokenAddresses.push(_token);\r\n        tokenBySymbol[_symbol] = _token;\r\n        tokenByName[_name] = _token;\r\n        emit LogAddToken(\r\n            _token,\r\n            _name,\r\n            _symbol,\r\n            _decimals,\r\n            _url\r\n        );\r\n    }\r\n\r\n    /// @dev Allows owner to remove an existing token from the registry.\r\n    /// @param _token Address of existing token.\r\n    function removeToken(address _token, uint _index)\r\n        public\r\n        onlyOwner\r\n        tokenExists(_token)\r\n    {\r\n        require(tokenAddresses[_index] == _token, \"TokenRegistry::invalid index\");\r\n\r\n        tokenAddresses[_index] = tokenAddresses[tokenAddresses.length - 1];\r\n        tokenAddresses.length -= 1;\r\n\r\n        TokenMetadata storage token = tokens[_token];\r\n        emit LogRemoveToken(\r\n            token.token,\r\n            token.name,\r\n            token.symbol,\r\n            token.decimals,\r\n            token.url\r\n        );\r\n        delete tokenBySymbol[token.symbol];\r\n        delete tokenByName[token.name];\r\n        delete tokens[_token];\r\n    }\r\n\r\n    /// @dev Allows owner to modify an existing token's name.\r\n    /// @param _token Address of existing token.\r\n    /// @param _name New name.\r\n    function setTokenName(address _token, string _name)\r\n        public\r\n        onlyOwner\r\n        tokenExists(_token)\r\n        nameDoesNotExist(_name)\r\n    {\r\n        TokenMetadata storage token = tokens[_token];\r\n        emit LogTokenNameChange(_token, token.name, _name);\r\n        delete tokenByName[token.name];\r\n        tokenByName[_name] = _token;\r\n        token.name = _name;\r\n    }\r\n\r\n    /// @dev Allows owner to modify an existing token's symbol.\r\n    /// @param _token Address of existing token.\r\n    /// @param _symbol New symbol.\r\n    function setTokenSymbol(address _token, string _symbol)\r\n        public\r\n        onlyOwner\r\n        tokenExists(_token)\r\n        symbolDoesNotExist(_symbol)\r\n    {\r\n        TokenMetadata storage token = tokens[_token];\r\n        emit LogTokenSymbolChange(_token, token.symbol, _symbol);\r\n        delete tokenBySymbol[token.symbol];\r\n        tokenBySymbol[_symbol] = _token;\r\n        token.symbol = _symbol;\r\n    }\r\n\r\n    /// @dev Allows owner to modify an existing token's icon URL.\r\n    /// @param _token URL of token token.\r\n    /// @param _url New URL to token icon.\r\n    function setTokenURL(address _token, string _url)\r\n        public\r\n        onlyOwner\r\n        tokenExists(_token)\r\n    {\r\n        TokenMetadata storage token = tokens[_token];\r\n        emit LogTokenURLChange(_token, token.url, _url);\r\n        token.url = _url;\r\n    }\r\n\r\n    /*\r\n     * View functions\r\n     */\r\n    /// @dev Provides a registered token's address when given the token symbol.\r\n    /// @param _symbol Symbol of registered token.\r\n    /// @return Token's address.\r\n    function getTokenAddressBySymbol(string _symbol) \r\n        public\r\n        view \r\n        returns (address)\r\n    {\r\n        return tokenBySymbol[_symbol];\r\n    }\r\n\r\n    /// @dev Provides a registered token's address when given the token name.\r\n    /// @param _name Name of registered token.\r\n    /// @return Token's address.\r\n    function getTokenAddressByName(string _name) \r\n        public\r\n        view\r\n        returns (address)\r\n    {\r\n        return tokenByName[_name];\r\n    }\r\n\r\n    /// @dev Provides a registered token's metadata, looked up by address.\r\n    /// @param _token Address of registered token.\r\n    /// @return Token metadata.\r\n    function getTokenMetaData(address _token)\r\n        public\r\n        view\r\n        returns (\r\n            address,  //tokenAddress\r\n            string,   //name\r\n            string,   //symbol\r\n            uint8,    //decimals\r\n            string    //url\r\n        )\r\n    {\r\n        TokenMetadata memory token = tokens[_token];\r\n        return (\r\n            token.token,\r\n            token.name,\r\n            token.symbol,\r\n            token.decimals,\r\n            token.url\r\n        );\r\n    }\r\n\r\n    /// @dev Provides a registered token's metadata, looked up by name.\r\n    /// @param _name Name of registered token.\r\n    /// @return Token metadata.\r\n    function getTokenByName(string _name)\r\n        public\r\n        view\r\n        returns (\r\n            address,  //tokenAddress\r\n            string,   //name\r\n            string,   //symbol\r\n            uint8,    //decimals\r\n            string    //url\r\n        )\r\n    {\r\n        address _token = tokenByName[_name];\r\n        return getTokenMetaData(_token);\r\n    }\r\n\r\n    /// @dev Provides a registered token's metadata, looked up by symbol.\r\n    /// @param _symbol Symbol of registered token.\r\n    /// @return Token metadata.\r\n    function getTokenBySymbol(string _symbol)\r\n        public\r\n        view\r\n        returns (\r\n            address,  //tokenAddress\r\n            string,   //name\r\n            string,   //symbol\r\n            uint8,    //decimals\r\n            string    //url\r\n        )\r\n    {\r\n        address _token = tokenBySymbol[_symbol];\r\n        return getTokenMetaData(_token);\r\n    }\r\n\r\n    /// @dev Returns an array containing all token addresses.\r\n    /// @return Array of token addresses.\r\n    function getTokenAddresses()\r\n        public\r\n        view\r\n        returns (address[])\r\n    {\r\n        return tokenAddresses;\r\n    }\r\n}","ABI":"[{\"constant\":false,\"inputs\":[{\"name\":\"_token\",\"type\":\"address\"},{\"name\":\"_url\",\"type\":\"string\"}],\"name\":\"setTokenURL\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_token\",\"type\":\"address\"},{\"name\":\"_index\",\"type\":\"uint256\"}],\"name\":\"removeToken\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"_name\",\"type\":\"string\"}],\"name\":\"getTokenAddressByName\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"_symbol\",\"type\":\"string\"}],\"name\":\"getTokenAddressBySymbol\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[],\"name\":\"renounceOwnership\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"_token\",\"type\":\"address\"}],\"name\":\"getTokenMetaData\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"},{\"name\":\"\",\"type\":\"string\"},{\"name\":\"\",\"type\":\"string\"},{\"name\":\"\",\"type\":\"uint8\"},{\"name\":\"\",\"type\":\"string\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"owner\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_token\",\"type\":\"address\"},{\"name\":\"_name\",\"type\":\"string\"}],\"name\":\"setTokenName\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"\",\"type\":\"address\"}],\"name\":\"tokens\",\"outputs\":[{\"name\":\"token\",\"type\":\"address\"},{\"name\":\"name\",\"type\":\"string\"},{\"name\":\"symbol\",\"type\":\"string\"},{\"name\":\"decimals\",\"type\":\"uint8\"},{\"name\":\"url\",\"type\":\"string\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"tokenAddresses\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"_name\",\"type\":\"string\"}],\"name\":\"getTokenByName\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"},{\"name\":\"\",\"type\":\"string\"},{\"name\":\"\",\"type\":\"string\"},{\"name\":\"\",\"type\":\"uint8\"},{\"name\":\"\",\"type\":\"string\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"getTokenAddresses\",\"outputs\":[{\"name\":\"\",\"type\":\"address[]\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"_symbol\",\"type\":\"string\"}],\"name\":\"getTokenBySymbol\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"},{\"name\":\"\",\"type\":\"string\"},{\"name\":\"\",\"type\":\"string\"},{\"name\":\"\",\"type\":\"uint8\"},{\"name\":\"\",\"type\":\"string\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_token\",\"type\":\"address\"},{\"name\":\"_symbol\",\"type\":\"string\"}],\"name\":\"setTokenSymbol\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_newOwner\",\"type\":\"address\"}],\"name\":\"transferOwnership\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_token\",\"type\":\"address\"},{\"name\":\"_name\",\"type\":\"string\"},{\"name\":\"_symbol\",\"type\":\"string\"},{\"name\":\"_decimals\",\"type\":\"uint8\"},{\"name\":\"_url\",\"type\":\"string\"}],\"name\":\"addToken\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"name\":\"token\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"name\",\"type\":\"string\"},{\"indexed\":false,\"name\":\"symbol\",\"type\":\"string\"},{\"indexed\":false,\"name\":\"decimals\",\"type\":\"uint8\"},{\"indexed\":false,\"name\":\"url\",\"type\":\"string\"}],\"name\":\"LogAddToken\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"name\":\"token\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"name\",\"type\":\"string\"},{\"indexed\":false,\"name\":\"symbol\",\"type\":\"string\"},{\"indexed\":false,\"name\":\"decimals\",\"type\":\"uint8\"},{\"indexed\":false,\"name\":\"url\",\"type\":\"string\"}],\"name\":\"LogRemoveToken\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"name\":\"token\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"oldName\",\"type\":\"string\"},{\"indexed\":false,\"name\":\"newName\",\"type\":\"string\"}],\"name\":\"LogTokenNameChange\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"name\":\"token\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"oldSymbol\",\"type\":\"string\"},{\"indexed\":false,\"name\":\"newSymbol\",\"type\":\"string\"}],\"name\":\"LogTokenSymbolChange\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"name\":\"token\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"oldURL\",\"type\":\"string\"},{\"indexed\":false,\"name\":\"newURL\",\"type\":\"string\"}],\"name\":\"LogTokenURLChange\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"name\":\"previousOwner\",\"type\":\"address\"}],\"name\":\"OwnershipRenounced\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"name\":\"previousOwner\",\"type\":\"address\"},{\"indexed\":true,\"name\":\"newOwner\",\"type\":\"address\"}],\"name\":\"OwnershipTransferred\",\"type\":\"event\"}]","ContractName":"TokenRegistry","CompilerVersion":"v0.4.24+commit.e67f0147","OptimizationUsed":"1","Runs":"200","ConstructorArguments":"","Library":"","SwarmSource":"bzzr://5d1adc7816c48cdb283cff2a58aba736a070f6ae3e10d534577f6bc63d3d0881"}]}