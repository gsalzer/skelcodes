{"status":"1","message":"OK","result":[{"SourceCode":"pragma solidity 0.4.15;\r\n\r\ncontract Ambi2 {\r\n    function claimFor(address _address, address _owner) returns(bool);\r\n    function hasRole(address _from, bytes32 _role, address _to) constant returns(bool);\r\n    function isOwner(address _node, address _owner) constant returns(bool);\r\n}\r\n\r\ncontract Ambi2Enabled {\r\n    Ambi2 ambi2;\r\n\r\n    modifier onlyRole(bytes32 _role) {\r\n        if (address(ambi2) != 0x0 && ambi2.hasRole(this, _role, msg.sender)) {\r\n            _;\r\n        }\r\n    }\r\n\r\n    // Perform only after claiming the node, or claim in the same tx.\r\n    function setupAmbi2(Ambi2 _ambi2) returns(bool) {\r\n        if (address(ambi2) != 0x0) {\r\n            return false;\r\n        }\r\n\r\n        ambi2 = _ambi2;\r\n        return true;\r\n    }\r\n}\r\n\r\n\r\ncontract Ambi2EnabledFull is Ambi2Enabled {\r\n    // Setup and claim atomically.\r\n    function setupAmbi2(Ambi2 _ambi2) returns(bool) {\r\n        if (address(ambi2) != 0x0) {\r\n            return false;\r\n        }\r\n        if (!_ambi2.claimFor(this, msg.sender) && !_ambi2.isOwner(this, msg.sender)) {\r\n            return false;\r\n        }\r\n\r\n        ambi2 = _ambi2;\r\n        return true;\r\n    }\r\n}\r\n\r\ncontract AssetProxyInterface {\r\n    function transferFromWithReference(address _from, address _to, uint _value, string _reference) returns(bool);\r\n}\r\n\r\ncontract DeviceReputation is Ambi2EnabledFull {\r\n\r\n    mapping (address => mapping (bytes32 => bool)) public reputationProblems;\r\n\r\n    event ReputationProblems(address device, string description);\r\n    event ReputationClear(address device, string description);\r\n\r\n    function setReputationProblems(address _device, string _description)\r\n        onlyRole('admin')\r\n        returns(bool)\r\n    {\r\n        reputationProblems[_device][keccak256(_description)] = true;\r\n        ReputationProblems(_device, _description);\r\n        return true;\r\n    }\r\n\r\n    function reputationClear(address _device, string _description)\r\n        onlyRole('admin')\r\n        returns(bool)\r\n    {\r\n        reputationProblems[_device][keccak256(_description)] = false;\r\n        ReputationClear(_device, _description);\r\n        return true;\r\n    }\r\n\r\n    function getReputationProblems(address _device, string _description) public constant returns(bool) {\r\n        return reputationProblems[_device][keccak256(_description)];\r\n    }\r\n}","ABI":"[{\"constant\":true,\"inputs\":[{\"name\":\"_device\",\"type\":\"address\"},{\"name\":\"_description\",\"type\":\"string\"}],\"name\":\"getReputationProblems\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_device\",\"type\":\"address\"},{\"name\":\"_description\",\"type\":\"string\"}],\"name\":\"setReputationProblems\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_ambi2\",\"type\":\"address\"}],\"name\":\"setupAmbi2\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"\",\"type\":\"address\"},{\"name\":\"\",\"type\":\"bytes32\"}],\"name\":\"reputationProblems\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_device\",\"type\":\"address\"},{\"name\":\"_description\",\"type\":\"string\"}],\"name\":\"reputationClear\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"type\":\"function\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"name\":\"device\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"description\",\"type\":\"string\"}],\"name\":\"ReputationProblems\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"name\":\"device\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"description\",\"type\":\"string\"}],\"name\":\"ReputationClear\",\"type\":\"event\"}]","ContractName":"DeviceReputation","CompilerVersion":"v0.4.15+commit.bbb8e64f","OptimizationUsed":"1","Runs":"10000","ConstructorArguments":"","Library":"","SwarmSource":"bzzr://173bf79a2054b932084a06d29bc544d4acd10df761371a4a0388415a388659e4"}]}