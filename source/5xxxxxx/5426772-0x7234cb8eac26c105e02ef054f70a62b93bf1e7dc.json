{"status":"1","message":"OK","result":[{"SourceCode":"pragma solidity ^0.4.18;\r\n\r\ncontract DPOS {\r\n    uint256 public limit;\r\n    address public owner;\r\n    struct VoteItem {\r\n        string content;\r\n        uint agreeNum;\r\n        uint disagreeNum;\r\n    }\r\n    struct VoteRecord {\r\n        address voter;\r\n        bool choice;\r\n    }\r\n\r\n    mapping (uint => VoteItem) public voteItems;\r\n    mapping (uint => VoteRecord[]) public voteRecords;\r\n\r\n    event Create(uint indexed _id, string indexed _content);\r\n    event Vote(uint indexed _id, address indexed _voter, bool indexed _choice);\r\n\r\n    function DPOS() public {\r\n        owner = msg.sender;\r\n    }\r\n\r\n    modifier onlyOwner() {\r\n        require(msg.sender == owner);\r\n        _;\r\n    }\r\n    \r\n    function setLimit(uint256 _limit) public onlyOwner returns (bool) {\r\n        limit = _limit;\r\n        return true;\r\n    }\r\n    \r\n    function lengthOfRecord(uint256 _id) public view returns (uint length) {\r\n        return voteRecords[_id].length;\r\n    }\r\n\r\n    function create(uint _id, string _content) public onlyOwner returns (bool) {\r\n        VoteItem memory item = VoteItem({content: _content, agreeNum: 0, disagreeNum: 0});\r\n        voteItems[_id] = item;\r\n        Create(_id, _content);\r\n        return true;\r\n    }\r\n\r\n    function vote(uint _id, address _voter, bool _choice) public onlyOwner returns (bool) {\r\n        if (_choice) {\r\n            voteItems[_id].agreeNum += 1;\r\n        } else {\r\n            voteItems[_id].disagreeNum += 1;\r\n        }\r\n        VoteRecord memory record = VoteRecord({voter: _voter, choice: _choice});\r\n        voteRecords[_id].push(record);\r\n        Vote(_id, _voter, _choice);\r\n        return true;\r\n    }\r\n}","ABI":"[{\"constant\":false,\"inputs\":[{\"name\":\"_id\",\"type\":\"uint256\"},{\"name\":\"_content\",\"type\":\"string\"}],\"name\":\"create\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"_id\",\"type\":\"uint256\"}],\"name\":\"lengthOfRecord\",\"outputs\":[{\"name\":\"length\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_limit\",\"type\":\"uint256\"}],\"name\":\"setLimit\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"owner\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"limit\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"\",\"type\":\"uint256\"},{\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"voteRecords\",\"outputs\":[{\"name\":\"voter\",\"type\":\"address\"},{\"name\":\"choice\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"voteItems\",\"outputs\":[{\"name\":\"content\",\"type\":\"string\"},{\"name\":\"agreeNum\",\"type\":\"uint256\"},{\"name\":\"disagreeNum\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_id\",\"type\":\"uint256\"},{\"name\":\"_voter\",\"type\":\"address\"},{\"name\":\"_choice\",\"type\":\"bool\"}],\"name\":\"vote\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"name\":\"_id\",\"type\":\"uint256\"},{\"indexed\":true,\"name\":\"_content\",\"type\":\"string\"}],\"name\":\"Create\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"name\":\"_id\",\"type\":\"uint256\"},{\"indexed\":true,\"name\":\"_voter\",\"type\":\"address\"},{\"indexed\":true,\"name\":\"_choice\",\"type\":\"bool\"}],\"name\":\"Vote\",\"type\":\"event\"}]","ContractName":"DPOS","CompilerVersion":"v0.4.18+commit.9cf6e910","OptimizationUsed":"1","Runs":"200","ConstructorArguments":"","Library":"","SwarmSource":"bzzr://542bf3da56b8ad8490dfc69c93ed50c627c33c8fefc42177a366b626579e4f89"}]}