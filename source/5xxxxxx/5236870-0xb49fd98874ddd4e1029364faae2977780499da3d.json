{"status":"1","message":"OK","result":[{"SourceCode":"pragma solidity ^0.4.19;\r\n\r\ncontract BdpBaseData {\r\n\r\n\taddress public ownerAddress;\r\n\r\n\taddress public managerAddress;\r\n\r\n\taddress[16] public contracts;\r\n\r\n\tbool public paused = false;\r\n\r\n\tbool public setupComplete = false;\r\n\r\n\tbytes8 public version;\r\n\r\n}\r\nlibrary BdpContracts {\r\n\r\n\tfunction getBdpEntryPoint(address[16] _contracts) pure internal returns (address) {\r\n\t\treturn _contracts[0];\r\n\t}\r\n\r\n\tfunction getBdpController(address[16] _contracts) pure internal returns (address) {\r\n\t\treturn _contracts[1];\r\n\t}\r\n\r\n\tfunction getBdpControllerHelper(address[16] _contracts) pure internal returns (address) {\r\n\t\treturn _contracts[3];\r\n\t}\r\n\r\n\tfunction getBdpDataStorage(address[16] _contracts) pure internal returns (address) {\r\n\t\treturn _contracts[4];\r\n\t}\r\n\r\n\tfunction getBdpImageStorage(address[16] _contracts) pure internal returns (address) {\r\n\t\treturn _contracts[5];\r\n\t}\r\n\r\n\tfunction getBdpOwnershipStorage(address[16] _contracts) pure internal returns (address) {\r\n\t\treturn _contracts[6];\r\n\t}\r\n\r\n\tfunction getBdpPriceStorage(address[16] _contracts) pure internal returns (address) {\r\n\t\treturn _contracts[7];\r\n\t}\r\n\r\n}\r\n\r\ncontract BdpBase is BdpBaseData {\r\n\r\n\tmodifier onlyOwner() {\r\n\t\trequire(msg.sender == ownerAddress);\r\n\t\t_;\r\n\t}\r\n\r\n\tmodifier onlyAuthorized() {\r\n\t\trequire(msg.sender == ownerAddress || msg.sender == managerAddress);\r\n\t\t_;\r\n\t}\r\n\r\n\tmodifier whenContractActive() {\r\n\t\trequire(!paused && setupComplete);\r\n\t\t_;\r\n\t}\r\n\r\n\tmodifier storageAccessControl() {\r\n\t\trequire(\r\n\t\t\t(! setupComplete && (msg.sender == ownerAddress || msg.sender == managerAddress))\r\n\t\t\t|| (setupComplete && !paused && (msg.sender == BdpContracts.getBdpEntryPoint(contracts)))\r\n\t\t);\r\n\t\t_;\r\n\t}\r\n\r\n\tfunction setOwner(address _newOwner) external onlyOwner {\r\n\t\trequire(_newOwner != address(0));\r\n\t\townerAddress = _newOwner;\r\n\t}\r\n\r\n\tfunction setManager(address _newManager) external onlyOwner {\r\n\t\trequire(_newManager != address(0));\r\n\t\tmanagerAddress = _newManager;\r\n\t}\r\n\r\n\tfunction setContracts(address[16] _contracts) external onlyOwner {\r\n\t\tcontracts = _contracts;\r\n\t}\r\n\r\n\tfunction pause() external onlyAuthorized {\r\n\t\tpaused = true;\r\n\t}\r\n\r\n\tfunction unpause() external onlyOwner {\r\n\t\tpaused = false;\r\n\t}\r\n\r\n\tfunction setSetupComplete() external onlyOwner {\r\n\t\tsetupComplete = true;\r\n\t}\r\n\r\n\tfunction kill() public onlyOwner {\r\n\t\tselfdestruct(ownerAddress);\r\n\t}\r\n\r\n}\r\n\r\nlibrary SafeMath {\r\n\r\n  /**\r\n  * @dev Multiplies two numbers, throws on overflow.\r\n  */\r\n  function mul(uint256 a, uint256 b) internal pure returns (uint256) {\r\n    if (a == 0) {\r\n      return 0;\r\n    }\r\n    uint256 c = a * b;\r\n    assert(c / a == b);\r\n    return c;\r\n  }\r\n\r\n  /**\r\n  * @dev Integer division of two numbers, truncating the quotient.\r\n  */\r\n  function div(uint256 a, uint256 b) internal pure returns (uint256) {\r\n    // assert(b > 0); // Solidity automatically throws when dividing by 0\r\n    uint256 c = a / b;\r\n    // assert(a == b * c + a % b); // There is no case in which this doesn't hold\r\n    return c;\r\n  }\r\n\r\n  /**\r\n  * @dev Substracts two numbers, throws on overflow (i.e. if subtrahend is greater than minuend).\r\n  */\r\n  function sub(uint256 a, uint256 b) internal pure returns (uint256) {\r\n    assert(b <= a);\r\n    return a - b;\r\n  }\r\n\r\n  /**\r\n  * @dev Adds two numbers, throws on overflow.\r\n  */\r\n  function add(uint256 a, uint256 b) internal pure returns (uint256) {\r\n    uint256 c = a + b;\r\n    assert(c >= a);\r\n    return c;\r\n  }\r\n}\r\n\r\ncontract BdpDataStorage is BdpBase {\r\n\r\n\tusing SafeMath for uint256;\r\n\r\n\tstruct Region {\r\n\t\tuint256 x1;\r\n\t\tuint256 y1;\r\n\t\tuint256 x2;\r\n\t\tuint256 y2;\r\n\t\tuint256 currentImageId;\r\n\t\tuint256 nextImageId;\r\n\t\tuint8[128] url;\r\n\t\tuint256 currentPixelPrice;\r\n\t\tuint256 blockUpdatedAt;\r\n\t\tuint256 updatedAt;\r\n\t\tuint256 purchasedAt;\r\n\t\tuint256 purchasedPixelPrice;\r\n\t}\r\n\r\n\tuint256 public lastRegionId = 0;\r\n\r\n\tmapping (uint256 => Region) public data;\r\n\r\n\r\n\tfunction getLastRegionId() view public returns (uint256) {\r\n\t\treturn lastRegionId;\r\n\t}\r\n\r\n\tfunction getNextRegionId() public storageAccessControl returns (uint256) {\r\n\t\tlastRegionId = lastRegionId.add(1);\r\n\t\treturn lastRegionId;\r\n\t}\r\n\r\n\tfunction deleteRegionData(uint256 _id) public storageAccessControl {\r\n\t\tdelete data[_id];\r\n\t}\r\n\r\n\tfunction getRegionCoordinates(uint256 _id) view public returns (uint256, uint256, uint256, uint256) {\r\n\t\treturn (data[_id].x1, data[_id].y1, data[_id].x2, data[_id].y2);\r\n\t}\r\n\r\n\tfunction setRegionCoordinates(uint256 _id, uint256 _x1, uint256 _y1, uint256 _x2, uint256 _y2) public storageAccessControl {\r\n\t\tdata[_id].x1 = _x1;\r\n\t\tdata[_id].y1 = _y1;\r\n\t\tdata[_id].x2 = _x2;\r\n\t\tdata[_id].y2 = _y2;\r\n\t}\r\n\r\n\tfunction getRegionCurrentImageId(uint256 _id) view public returns (uint256) {\r\n\t\treturn data[_id].currentImageId;\r\n\t}\r\n\r\n\tfunction setRegionCurrentImageId(uint256 _id, uint256 _currentImageId) public storageAccessControl {\r\n\t\tdata[_id].currentImageId = _currentImageId;\r\n\t}\r\n\r\n\tfunction getRegionNextImageId(uint256 _id) view public returns (uint256) {\r\n\t\treturn data[_id].nextImageId;\r\n\t}\r\n\r\n\tfunction setRegionNextImageId(uint256 _id, uint256 _nextImageId) public storageAccessControl {\r\n\t\tdata[_id].nextImageId = _nextImageId;\r\n\t}\r\n\r\n\tfunction getRegionUrl(uint256 _id) view public returns (uint8[128]) {\r\n\t\treturn data[_id].url;\r\n\t}\r\n\r\n\tfunction setRegionUrl(uint256 _id, uint8[128] _url) public storageAccessControl {\r\n\t\tdata[_id].url = _url;\r\n\t}\r\n\r\n\tfunction getRegionCurrentPixelPrice(uint256 _id) view public returns (uint256) {\r\n\t\treturn data[_id].currentPixelPrice;\r\n\t}\r\n\r\n\tfunction setRegionCurrentPixelPrice(uint256 _id, uint256 _currentPixelPrice) public storageAccessControl {\r\n\t\tdata[_id].currentPixelPrice = _currentPixelPrice;\r\n\t}\r\n\r\n\tfunction getRegionBlockUpdatedAt(uint256 _id) view public returns (uint256) {\r\n\t\treturn data[_id].blockUpdatedAt;\r\n\t}\r\n\r\n\tfunction setRegionBlockUpdatedAt(uint256 _id, uint256 _blockUpdatedAt) public storageAccessControl {\r\n\t\tdata[_id].blockUpdatedAt = _blockUpdatedAt;\r\n\t}\r\n\r\n\tfunction getRegionUpdatedAt(uint256 _id) view public returns (uint256) {\r\n\t\treturn data[_id].updatedAt;\r\n\t}\r\n\r\n\tfunction setRegionUpdatedAt(uint256 _id, uint256 _updatedAt) public storageAccessControl {\r\n\t\tdata[_id].updatedAt = _updatedAt;\r\n\t}\r\n\r\n\tfunction getRegionPurchasedAt(uint256 _id) view public returns (uint256) {\r\n\t\treturn data[_id].purchasedAt;\r\n\t}\r\n\r\n\tfunction setRegionPurchasedAt(uint256 _id, uint256 _purchasedAt) public storageAccessControl {\r\n\t\tdata[_id].purchasedAt = _purchasedAt;\r\n\t}\r\n\r\n\tfunction getRegionUpdatedAtPurchasedAt(uint256 _id) view public returns (uint256 _updatedAt, uint256 _purchasedAt) {\r\n\t\treturn (data[_id].updatedAt, data[_id].purchasedAt);\r\n\t}\r\n\r\n\tfunction getRegionPurchasePixelPrice(uint256 _id) view public returns (uint256) {\r\n\t\treturn data[_id].purchasedPixelPrice;\r\n\t}\r\n\r\n\tfunction setRegionPurchasedPixelPrice(uint256 _id, uint256 _purchasedPixelPrice) public storageAccessControl {\r\n\t\tdata[_id].purchasedPixelPrice = _purchasedPixelPrice;\r\n\t}\r\n\r\n\tfunction BdpDataStorage(bytes8 _version) public {\r\n\t\townerAddress = msg.sender;\r\n\t\tmanagerAddress = msg.sender;\r\n\t\tversion = _version;\r\n\t}\r\n\r\n}","ABI":"[{\"constant\":true,\"inputs\":[{\"name\":\"_id\",\"type\":\"uint256\"}],\"name\":\"getRegionCurrentPixelPrice\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_newOwner\",\"type\":\"address\"}],\"name\":\"setOwner\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"_id\",\"type\":\"uint256\"}],\"name\":\"getRegionCurrentImageId\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_id\",\"type\":\"uint256\"},{\"name\":\"_nextImageId\",\"type\":\"uint256\"}],\"name\":\"setRegionNextImageId\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"_id\",\"type\":\"uint256\"}],\"name\":\"getRegionNextImageId\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_id\",\"type\":\"uint256\"},{\"name\":\"_x1\",\"type\":\"uint256\"},{\"name\":\"_y1\",\"type\":\"uint256\"},{\"name\":\"_x2\",\"type\":\"uint256\"},{\"name\":\"_y2\",\"type\":\"uint256\"}],\"name\":\"setRegionCoordinates\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[],\"name\":\"unpause\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[],\"name\":\"kill\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"_id\",\"type\":\"uint256\"}],\"name\":\"getRegionCoordinates\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"},{\"name\":\"\",\"type\":\"uint256\"},{\"name\":\"\",\"type\":\"uint256\"},{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"_id\",\"type\":\"uint256\"}],\"name\":\"getRegionUpdatedAt\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"contracts\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_id\",\"type\":\"uint256\"},{\"name\":\"_updatedAt\",\"type\":\"uint256\"}],\"name\":\"setRegionUpdatedAt\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"_id\",\"type\":\"uint256\"}],\"name\":\"getRegionPurchasePixelPrice\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_id\",\"type\":\"uint256\"},{\"name\":\"_currentPixelPrice\",\"type\":\"uint256\"}],\"name\":\"setRegionCurrentPixelPrice\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"version\",\"outputs\":[{\"name\":\"\",\"type\":\"bytes8\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_id\",\"type\":\"uint256\"},{\"name\":\"_currentImageId\",\"type\":\"uint256\"}],\"name\":\"setRegionCurrentImageId\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"paused\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"_id\",\"type\":\"uint256\"}],\"name\":\"getRegionUpdatedAtPurchasedAt\",\"outputs\":[{\"name\":\"_updatedAt\",\"type\":\"uint256\"},{\"name\":\"_purchasedAt\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"_id\",\"type\":\"uint256\"}],\"name\":\"getRegionBlockUpdatedAt\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_id\",\"type\":\"uint256\"},{\"name\":\"_purchasedPixelPrice\",\"type\":\"uint256\"}],\"name\":\"setRegionPurchasedPixelPrice\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[],\"name\":\"pause\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"ownerAddress\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[],\"name\":\"setSetupComplete\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"_id\",\"type\":\"uint256\"}],\"name\":\"getRegionUrl\",\"outputs\":[{\"name\":\"\",\"type\":\"uint8[128]\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"_id\",\"type\":\"uint256\"}],\"name\":\"getRegionPurchasedAt\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"setupComplete\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"lastRegionId\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_id\",\"type\":\"uint256\"},{\"name\":\"_blockUpdatedAt\",\"type\":\"uint256\"}],\"name\":\"setRegionBlockUpdatedAt\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"getLastRegionId\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"managerAddress\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_newManager\",\"type\":\"address\"}],\"name\":\"setManager\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_id\",\"type\":\"uint256\"},{\"name\":\"_url\",\"type\":\"uint8[128]\"}],\"name\":\"setRegionUrl\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[],\"name\":\"getNextRegionId\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_id\",\"type\":\"uint256\"},{\"name\":\"_purchasedAt\",\"type\":\"uint256\"}],\"name\":\"setRegionPurchasedAt\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_id\",\"type\":\"uint256\"}],\"name\":\"deleteRegionData\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"data\",\"outputs\":[{\"name\":\"x1\",\"type\":\"uint256\"},{\"name\":\"y1\",\"type\":\"uint256\"},{\"name\":\"x2\",\"type\":\"uint256\"},{\"name\":\"y2\",\"type\":\"uint256\"},{\"name\":\"currentImageId\",\"type\":\"uint256\"},{\"name\":\"nextImageId\",\"type\":\"uint256\"},{\"name\":\"currentPixelPrice\",\"type\":\"uint256\"},{\"name\":\"blockUpdatedAt\",\"type\":\"uint256\"},{\"name\":\"updatedAt\",\"type\":\"uint256\"},{\"name\":\"purchasedAt\",\"type\":\"uint256\"},{\"name\":\"purchasedPixelPrice\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_contracts\",\"type\":\"address[16]\"}],\"name\":\"setContracts\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"name\":\"_version\",\"type\":\"bytes8\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"}]","ContractName":"BdpDataStorage","CompilerVersion":"v0.4.19+commit.c4cbbb05","OptimizationUsed":"0","Runs":"200","ConstructorArguments":"3263343163626620000000000000000000000000000000000000000000000000","Library":"","SwarmSource":"bzzr://ff1c94843900d86d56309429b098f0c1f8a3855496f04f0c03d5da051211e33d"}]}