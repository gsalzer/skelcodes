{"status":"1","message":"OK","result":[{"SourceCode":"pragma solidity ^0.4.19;\r\n\r\nlibrary SafeMath {\r\n  function add(uint a, uint b) internal pure returns (uint c) {\r\n    c = a + b;\r\n    require(c >= a);\r\n  }\r\n  function sub(uint a, uint b) internal pure returns (uint c) {\r\n    require(b <= a);\r\n    c = a - b;\r\n  }\r\n  function mul(uint a, uint b) internal pure returns (uint c) {\r\n    c = a * b;\r\n    require(a == 0 || c / a == b);\r\n  }\r\n  function div(uint a, uint b) internal pure returns (uint c) {\r\n    require(b > 0);\r\n    c = a / b;\r\n  }\r\n}\r\n\r\ncontract ERC20Interface {\r\n  function totalSupply()\r\n    public\r\n    constant\r\n    returns(uint);\r\n  function balanceOf(\r\n    address tokenOwner)\r\n    public\r\n    constant\r\n    returns(uint balance);\r\n  function allowance(\r\n    address tokenOwner,\r\n    address spender)\r\n    public\r\n    constant\r\n    returns(uint approve);\r\n  function transfer(\r\n    address to,\r\n    uint tokens)\r\n    public\r\n    returns(bool success);\r\n  function approve(\r\n    address spender,\r\n    uint tokens)\r\n    public\r\n    returns(bool success);\r\n  function transferFrom(\r\n    address from,\r\n    address to,\r\n    uint tokens)\r\n    public\r\n    returns(bool success);\r\n\r\n  event Transfer(\r\n    address indexed from,\r\n    address indexed to,\r\n    uint tokens);\r\n  event Approval(\r\n    address indexed tokenOwner,\r\n    address indexed spender,\r\n    uint tokens);\r\n}\r\n\r\ncontract Owned {\r\n  address public owner;\r\n  address public newOwner;\r\n\r\n  event OwnershipTransferred(address indexed _from, address indexed _to);\r\n\r\n  function Owned() public {\r\n    owner = msg.sender;\r\n  }\r\n\r\n  modifier onlyOwner() {\r\n    require(msg.sender == owner);\r\n    _;\r\n  }\r\n\r\n  function transferOwnership(address _newOwner) public onlyOwner {\r\n    newOwner = _newOwner;\r\n  }\r\n\r\n  function acceptOwnership() public {\r\n    require(msg.sender == newOwner);\r\n    OwnershipTransferred(owner, newOwner);\r\n    owner = newOwner;\r\n    newOwner = address(0);\r\n  }\r\n}\r\n\r\ncontract ApproveAndCallFallBack {\r\n  function receiveApproval(\r\n    address from,\r\n    uint256 tokens,\r\n    address token,\r\n    bytes data) public;\r\n}\r\n\r\ncontract CryptopusToken is ERC20Interface, Owned {\r\n  using SafeMath for uint;\r\n\r\n  address public preSaleContract;\r\n\r\n  string public symbol;\r\n  string public name;\r\n  uint8 public decimals;\r\n  uint public _totalSupply;\r\n  uint public saleLimit;\r\n  uint public alreadySold;\r\n\r\n  uint public firstWavePrice;\r\n  uint public secondWavePrice;\r\n  uint public thirdWavePrice;\r\n\r\n  bool public saleOngoing;\r\n\r\n  mapping(address => uint8) approved;\r\n  mapping(address => uint) balances;\r\n  mapping(address => mapping(address => uint)) allowed;\r\n\r\n  function CryptopusToken() public {\r\n    symbol = \"CPP\";\r\n    name = \"Cryptopus Token\";\r\n    decimals = 18;\r\n    _totalSupply = 100000000 * 10**uint(decimals);\r\n    saleLimit = 40000000 * 10**uint(decimals);\r\n    alreadySold = 0;\r\n    balances[owner] = _totalSupply;\r\n    Transfer(address(0), owner, _totalSupply);\r\n    firstWavePrice = 0.0008 ether;\r\n    secondWavePrice = 0.0009 ether;\r\n    thirdWavePrice = 0.001 ether;\r\n    saleOngoing = false;\r\n  }\r\n\r\n  modifier onlyIfOngoing() {\r\n    require(saleOngoing);\r\n    _;\r\n  }\r\n\r\n  modifier onlyApproved(address _owner) {\r\n    require(approved[_owner] != 0);\r\n    _;\r\n  }\r\n\r\n  function setPrices(\r\n    uint _newPriceFirst,\r\n    uint _newPriceSecond,\r\n    uint _newPriceThird)\r\n    public\r\n    onlyOwner\r\n    returns(bool) {\r\n    firstWavePrice = _newPriceFirst;\r\n    secondWavePrice = _newPriceSecond;\r\n    thirdWavePrice = _newPriceThird;\r\n    return true;\r\n  }\r\n\r\n  function setPreSaleContract(\r\n    address _owner)\r\n    public\r\n    onlyOwner\r\n    returns(bool) {\r\n    preSaleContract = _owner;\r\n    return true;\r\n  }\r\n\r\n  function updateSaleStatus()\r\n    public\r\n    onlyOwner\r\n    returns(bool) {\r\n    saleOngoing = !saleOngoing;\r\n    return true;\r\n  }\r\n\r\n  function pushToApproved(\r\n    address _contributor,\r\n    uint8 waveNumber)\r\n    public\r\n    onlyOwner\r\n    returns(bool) {\r\n    approved[_contributor] = waveNumber;\r\n    return true;\r\n  }\r\n\r\n  function totalSupply()\r\n    public\r\n    constant\r\n    returns(uint) {\r\n    return _totalSupply - balances[address(0)];\r\n  }\r\n\r\n  function balanceOf(\r\n    address tokenOwner)\r\n    public\r\n    constant\r\n    returns(uint) {\r\n    return balances[tokenOwner];\r\n  }\r\n\r\n  function transfer(\r\n    address to,\r\n    uint tokens)\r\n    public\r\n    returns(bool) {\r\n    balances[msg.sender] = balances[msg.sender].sub(tokens);\r\n    balances[to] = balances[to].add(tokens);\r\n    Transfer(msg.sender, to, tokens);\r\n    return true;\r\n  }\r\n\r\n  function approve(\r\n    address spender,\r\n    uint tokens)\r\n    public\r\n    returns(bool) {\r\n    allowed[msg.sender][spender] = tokens;\r\n    Approval(msg.sender, spender, tokens);\r\n    return true;\r\n  }\r\n\r\n  function transferFrom(\r\n    address from,\r\n    address to,\r\n    uint tokens)\r\n    public\r\n    returns(bool) {\r\n    balances[from] = balances[from].sub(tokens);\r\n    allowed[from][msg.sender] = allowed[from][msg.sender].sub(tokens);\r\n    balances[to] = balances[to].add(tokens);\r\n    Transfer(from, to, tokens);\r\n    return true;\r\n  }\r\n\r\n  function allowance(\r\n    address tokenOwner,\r\n    address spender)\r\n    public\r\n    constant\r\n    returns(uint) {\r\n    return allowed[tokenOwner][spender];\r\n  }\r\n\r\n  function approveAndCall(\r\n    address spender,\r\n    uint tokens,\r\n    bytes data)\r\n    public\r\n    returns(bool) {\r\n    allowed[msg.sender][spender] = tokens;\r\n    Approval(msg.sender, spender, tokens);\r\n    ApproveAndCallFallBack(spender)\r\n      .receiveApproval(\r\n        msg.sender,\r\n        tokens,\r\n        this,\r\n        data);\r\n    return true;\r\n  }\r\n\r\n  function burnTokens(\r\n    uint tokens)\r\n    public\r\n    returns(bool) {\r\n    balances[msg.sender] = balances[msg.sender].sub(tokens);\r\n    balances[address(0)] = balances[address(0)].add(tokens);\r\n    Transfer(msg.sender, address(0), tokens);\r\n    return true;\r\n  }\r\n\r\n  function withdraw()\r\n    public\r\n    onlyOwner\r\n    returns(bool) {\r\n    owner.transfer(address(this).balance);\r\n    return true;\r\n  }\r\n\r\n  function exchangeTokens()\r\n    public\r\n    returns(bool) {\r\n    uint tokens = uint(\r\n      ERC20Interface(preSaleContract)\r\n        .allowance(msg.sender, this));\r\n    require(tokens > 0 &&\r\n            ERC20Interface(preSaleContract)\r\n              .balanceOf(msg.sender) == tokens);\r\n    ERC20Interface(preSaleContract)\r\n      .transferFrom(msg.sender, address(0), tokens);\r\n    balances[owner] = balances[owner].sub(tokens);\r\n    balances[msg.sender] = balances[msg.sender].add(tokens);\r\n    Transfer(owner, msg.sender, tokens);\r\n    return true;\r\n  }\r\n\r\n  function()\r\n    public\r\n    onlyIfOngoing\r\n    onlyApproved(msg.sender)\r\n    payable {\r\n    uint tokenPrice;\r\n    if(approved[msg.sender] == 1) {\r\n      tokenPrice = firstWavePrice;\r\n    } else if(approved[msg.sender] == 2) {\r\n      tokenPrice = secondWavePrice;\r\n    } else if(approved[msg.sender] == 3) {\r\n      tokenPrice = thirdWavePrice;\r\n    } else {\r\n      revert();\r\n    }\r\n    require(msg.value >= tokenPrice);\r\n    uint tokenAmount = (msg.value / tokenPrice) * 10 ** uint(decimals);\r\n    require(saleOngoing && alreadySold.add(tokenAmount) <= saleLimit);\r\n    balances[owner] = balances[owner].sub(tokenAmount);\r\n    balances[msg.sender] = balances[msg.sender].add(tokenAmount);\r\n    alreadySold = alreadySold.add(tokenAmount);\r\n    Transfer(owner, msg.sender, tokenAmount);\r\n  }\r\n}","ABI":"[{\"constant\":true,\"inputs\":[],\"name\":\"name\",\"outputs\":[{\"name\":\"\",\"type\":\"string\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"spender\",\"type\":\"address\"},{\"name\":\"tokens\",\"type\":\"uint256\"}],\"name\":\"approve\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_contributor\",\"type\":\"address\"},{\"name\":\"waveNumber\",\"type\":\"uint8\"}],\"name\":\"pushToApproved\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"totalSupply\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"from\",\"type\":\"address\"},{\"name\":\"to\",\"type\":\"address\"},{\"name\":\"tokens\",\"type\":\"uint256\"}],\"name\":\"transferFrom\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"secondWavePrice\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"decimals\",\"outputs\":[{\"name\":\"\",\"type\":\"uint8\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"saleOngoing\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[],\"name\":\"withdraw\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"_totalSupply\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"alreadySold\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"tokens\",\"type\":\"uint256\"}],\"name\":\"burnTokens\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"firstWavePrice\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"tokenOwner\",\"type\":\"address\"}],\"name\":\"balanceOf\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[],\"name\":\"acceptOwnership\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"saleLimit\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"thirdWavePrice\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"owner\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"symbol\",\"outputs\":[{\"name\":\"\",\"type\":\"string\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_newPriceFirst\",\"type\":\"uint256\"},{\"name\":\"_newPriceSecond\",\"type\":\"uint256\"},{\"name\":\"_newPriceThird\",\"type\":\"uint256\"}],\"name\":\"setPrices\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"to\",\"type\":\"address\"},{\"name\":\"tokens\",\"type\":\"uint256\"}],\"name\":\"transfer\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"preSaleContract\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_owner\",\"type\":\"address\"}],\"name\":\"setPreSaleContract\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[],\"name\":\"updateSaleStatus\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"spender\",\"type\":\"address\"},{\"name\":\"tokens\",\"type\":\"uint256\"},{\"name\":\"data\",\"type\":\"bytes\"}],\"name\":\"approveAndCall\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"newOwner\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"tokenOwner\",\"type\":\"address\"},{\"name\":\"spender\",\"type\":\"address\"}],\"name\":\"allowance\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[],\"name\":\"exchangeTokens\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_newOwner\",\"type\":\"address\"}],\"name\":\"transferOwnership\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"payable\":true,\"stateMutability\":\"payable\",\"type\":\"fallback\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"name\":\"_from\",\"type\":\"address\"},{\"indexed\":true,\"name\":\"_to\",\"type\":\"address\"}],\"name\":\"OwnershipTransferred\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"name\":\"from\",\"type\":\"address\"},{\"indexed\":true,\"name\":\"to\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"tokens\",\"type\":\"uint256\"}],\"name\":\"Transfer\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"name\":\"tokenOwner\",\"type\":\"address\"},{\"indexed\":true,\"name\":\"spender\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"tokens\",\"type\":\"uint256\"}],\"name\":\"Approval\",\"type\":\"event\"}]","ContractName":"CryptopusToken","CompilerVersion":"v0.4.21+commit.dfe3193c","OptimizationUsed":"0","Runs":"200","ConstructorArguments":"","Library":"","SwarmSource":"bzzr://7f2037faf87f6fc7cdca37d8bdc9914fd553f62eef98b791b54fd6e11ad1588b"}]}