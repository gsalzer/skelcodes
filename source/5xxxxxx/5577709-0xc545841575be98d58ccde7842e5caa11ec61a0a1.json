{"status":"1","message":"OK","result":[{"SourceCode":"pragma solidity ^0.4.16;\r\n\r\ninterface TrimpoToken {\r\n\r\n  function presaleAddr() constant returns (address);\r\n  function transferPresale(address _to, uint _value) public;\r\n\r\n}\r\n\r\ncontract Admins {\r\n  address public admin1;\r\n\r\n  address public admin2;\r\n\r\n  address public admin3;\r\n\r\n  function Admins(address a1, address a2, address a3) public {\r\n    admin1 = a1;\r\n    admin2 = a2;\r\n    admin3 = a3;\r\n  }\r\n\r\n  modifier onlyAdmins {\r\n    require(msg.sender == admin1 || msg.sender == admin2 || msg.sender == admin3);\r\n    _;\r\n  }\r\n\r\n  function setAdmin(address _adminAddress) onlyAdmins public {\r\n\r\n    require(_adminAddress != admin1);\r\n    require(_adminAddress != admin2);\r\n    require(_adminAddress != admin3);\r\n\r\n    if (admin1 == msg.sender) {\r\n      admin1 = _adminAddress;\r\n    }\r\n    else\r\n    if (admin2 == msg.sender) {\r\n      admin2 = _adminAddress;\r\n    }\r\n    else\r\n    if (admin3 == msg.sender) {\r\n      admin3 = _adminAddress;\r\n    }\r\n  }\r\n\r\n}\r\n\r\n\r\ncontract Presale is Admins {\r\n\r\n\r\n  uint public duration;\r\n\r\n  uint public period;\r\n\r\n  uint public periodAmount;\r\n\r\n  uint public hardCap;\r\n\r\n  uint public raised;\r\n\r\n  address public benefit;\r\n\r\n  uint public start;\r\n\r\n  TrimpoToken token;\r\n\r\n  address public tokenAddress;\r\n\r\n  uint public tokensPerEther;\r\n\r\n  mapping (address => uint) public balanceOf;\r\n\r\n  mapping (uint => uint) public periodBonuses;\r\n\r\n  struct amountBonusStruct {\r\n  uint value;\r\n  uint bonus;\r\n  }\r\n\r\n  mapping (uint => amountBonusStruct)  public amountBonuses;\r\n\r\n\r\n  modifier goodDate {\r\n    require(start > 0);\r\n    require(start <= now);\r\n    require((start+duration) > now);\r\n    _;\r\n  }\r\n\r\n  modifier belowHardCap {\r\n    require(raised < hardCap);\r\n    _;\r\n  }\r\n\r\n  event Investing(address investor, uint investedFunds, uint tokensWithoutBonus, uint periodBounus, uint amountBonus, uint tokens);\r\n  event Raise(address to, uint funds);\r\n\r\n\r\n  function Presale(\r\n  address _tokenAddress,\r\n  address a1,\r\n  address a2,\r\n  address a3\r\n  ) Admins(a1, a2, a3) public {\r\n\r\n    hardCap = 5000 ether;\r\n\r\n    period = 7 days;\r\n\r\n    periodAmount = 4;\r\n\r\n    periodBonuses[0] = 20;\r\n    periodBonuses[1] = 15;\r\n    periodBonuses[2] = 10;\r\n    periodBonuses[3] = 5;\r\n\r\n    duration = periodAmount * (period);\r\n\r\n    amountBonuses[0].value = 125 ether;\r\n    amountBonuses[0].bonus = 5;\r\n\r\n    amountBonuses[1].value = 250 ether;\r\n    amountBonuses[1].bonus = 10;\r\n\r\n    amountBonuses[2].value = 375 ether;\r\n    amountBonuses[2].bonus = 15;\r\n\r\n    amountBonuses[3].value = 500 ether;\r\n    amountBonuses[3].bonus = 20;\r\n\r\n    tokensPerEther = 400;\r\n\r\n    tokenAddress = _tokenAddress;\r\n\r\n    token = TrimpoToken(_tokenAddress);\r\n\r\n    start = 1526342400; //15 May UTC 00:00\r\n\r\n  }\r\n\r\n\r\n  function getPeriodBounus() public returns (uint bonus) {\r\n    if (start == 0) {return 0;}\r\n    else if (start + period > now) {\r\n      return periodBonuses[0];\r\n    } else if (start + period * 2 > now) {\r\n      return periodBonuses[1];\r\n    } else if (start + period * 3 > now) {\r\n      return periodBonuses[2];\r\n    } else if (start + period * 4 > now) {\r\n      return periodBonuses[3];\r\n    }\r\n    return 0;\r\n\r\n\r\n  }\r\n\r\n  function getAmountBounus(uint value) public returns (uint bonus) {\r\n    if (value >= amountBonuses[3].value) {\r\n      return amountBonuses[3].bonus;\r\n    } else if (value >= amountBonuses[2].value) {\r\n      return amountBonuses[2].bonus;\r\n    } else if (value >= amountBonuses[1].value) {\r\n      return amountBonuses[1].bonus;\r\n    } else if (value >= amountBonuses[0].value) {\r\n      return amountBonuses[0].bonus;\r\n    }\r\n    return 0;\r\n  }\r\n\r\n  function() payable public goodDate belowHardCap {\r\n\r\n    uint tokenAmountWithoutBonus = msg.value * tokensPerEther;\r\n\r\n    uint periodBonus = getPeriodBounus();\r\n\r\n    uint amountBonus = getAmountBounus(msg.value);\r\n\r\n    uint tokenAmount = tokenAmountWithoutBonus + (tokenAmountWithoutBonus * (periodBonus + amountBonus)/100);\r\n\r\n    token.transferPresale(msg.sender, tokenAmount);\r\n\r\n    raised+=msg.value;\r\n\r\n    balanceOf[msg.sender]+= msg.value;\r\n\r\n    Investing(msg.sender, msg.value, tokenAmountWithoutBonus, periodBonus, amountBonus, tokenAmount);\r\n\r\n  }\r\n\r\n  function setBenefit(address _benefit) public onlyAdmins {\r\n    benefit = _benefit;\r\n  }\r\n\r\n  function getFunds(uint amount) public onlyAdmins {\r\n    require(benefit != 0x0);\r\n    require(amount <= this.balance);\r\n    Raise(benefit, amount);\r\n    benefit.send(amount);\r\n  }\r\n\r\n\r\n\r\n\r\n}","ABI":"[{\"constant\":true,\"inputs\":[],\"name\":\"admin2\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"duration\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"admin1\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"admin3\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"benefit\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[],\"name\":\"getPeriodBounus\",\"outputs\":[{\"name\":\"bonus\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"getFunds\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"value\",\"type\":\"uint256\"}],\"name\":\"getAmountBounus\",\"outputs\":[{\"name\":\"bonus\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_adminAddress\",\"type\":\"address\"}],\"name\":\"setAdmin\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"\",\"type\":\"address\"}],\"name\":\"balanceOf\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"periodBonuses\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_benefit\",\"type\":\"address\"}],\"name\":\"setBenefit\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"tokenAddress\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"start\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"amountBonuses\",\"outputs\":[{\"name\":\"value\",\"type\":\"uint256\"},{\"name\":\"bonus\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"period\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"raised\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"periodAmount\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"tokensPerEther\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"hardCap\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"name\":\"_tokenAddress\",\"type\":\"address\"},{\"name\":\"a1\",\"type\":\"address\"},{\"name\":\"a2\",\"type\":\"address\"},{\"name\":\"a3\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"payable\":true,\"stateMutability\":\"payable\",\"type\":\"fallback\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"name\":\"investor\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"investedFunds\",\"type\":\"uint256\"},{\"indexed\":false,\"name\":\"tokensWithoutBonus\",\"type\":\"uint256\"},{\"indexed\":false,\"name\":\"periodBounus\",\"type\":\"uint256\"},{\"indexed\":false,\"name\":\"amountBonus\",\"type\":\"uint256\"},{\"indexed\":false,\"name\":\"tokens\",\"type\":\"uint256\"}],\"name\":\"Investing\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"name\":\"to\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"funds\",\"type\":\"uint256\"}],\"name\":\"Raise\",\"type\":\"event\"}]","ContractName":"Presale","CompilerVersion":"v0.4.23+commit.124ca40d","OptimizationUsed":"0","Runs":"200","ConstructorArguments":"000000000000000000000000387f21b7b513aa1b05275fa433bc19d0a006fe1800000000000000000000000023b3d7671b37ea2a270fbeba084f1668db3201f70000000000000000000000008f9a35e38af4a3856c9f096a52747a662d8f00cc00000000000000000000000005d3704372f0ed7b9e04c78746a95d8c1e150af4","Library":"","SwarmSource":"bzzr://3510ad056b6912c21c1763710e93f50142d5bf1f862a5c496b8746ee13c43395"}]}