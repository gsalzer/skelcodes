{"status":"1","message":"OK","result":[{"SourceCode":"pragma solidity ^0.4.19;\r\n\r\ncontract BdpBaseData {\r\n\r\n\taddress public ownerAddress;\r\n\r\n\taddress public managerAddress;\r\n\r\n\taddress[16] public contracts;\r\n\r\n\tbool public paused = false;\r\n\r\n\tbool public setupComplete = false;\r\n\r\n\tbytes8 public version;\r\n\r\n}\r\nlibrary BdpContracts {\r\n\r\n\tfunction getBdpEntryPoint(address[16] _contracts) pure internal returns (address) {\r\n\t\treturn _contracts[0];\r\n\t}\r\n\r\n\tfunction getBdpController(address[16] _contracts) pure internal returns (address) {\r\n\t\treturn _contracts[1];\r\n\t}\r\n\r\n\tfunction getBdpControllerHelper(address[16] _contracts) pure internal returns (address) {\r\n\t\treturn _contracts[3];\r\n\t}\r\n\r\n\tfunction getBdpDataStorage(address[16] _contracts) pure internal returns (address) {\r\n\t\treturn _contracts[4];\r\n\t}\r\n\r\n\tfunction getBdpImageStorage(address[16] _contracts) pure internal returns (address) {\r\n\t\treturn _contracts[5];\r\n\t}\r\n\r\n\tfunction getBdpOwnershipStorage(address[16] _contracts) pure internal returns (address) {\r\n\t\treturn _contracts[6];\r\n\t}\r\n\r\n\tfunction getBdpPriceStorage(address[16] _contracts) pure internal returns (address) {\r\n\t\treturn _contracts[7];\r\n\t}\r\n\r\n}\r\n\r\ncontract BdpBase is BdpBaseData {\r\n\r\n\tmodifier onlyOwner() {\r\n\t\trequire(msg.sender == ownerAddress);\r\n\t\t_;\r\n\t}\r\n\r\n\tmodifier onlyAuthorized() {\r\n\t\trequire(msg.sender == ownerAddress || msg.sender == managerAddress);\r\n\t\t_;\r\n\t}\r\n\r\n\tmodifier whenContractActive() {\r\n\t\trequire(!paused && setupComplete);\r\n\t\t_;\r\n\t}\r\n\r\n\tmodifier storageAccessControl() {\r\n\t\trequire(\r\n\t\t\t(! setupComplete && (msg.sender == ownerAddress || msg.sender == managerAddress))\r\n\t\t\t|| (setupComplete && !paused && (msg.sender == BdpContracts.getBdpEntryPoint(contracts)))\r\n\t\t);\r\n\t\t_;\r\n\t}\r\n\r\n\tfunction setOwner(address _newOwner) external onlyOwner {\r\n\t\trequire(_newOwner != address(0));\r\n\t\townerAddress = _newOwner;\r\n\t}\r\n\r\n\tfunction setManager(address _newManager) external onlyOwner {\r\n\t\trequire(_newManager != address(0));\r\n\t\tmanagerAddress = _newManager;\r\n\t}\r\n\r\n\tfunction setContracts(address[16] _contracts) external onlyOwner {\r\n\t\tcontracts = _contracts;\r\n\t}\r\n\r\n\tfunction pause() external onlyAuthorized {\r\n\t\tpaused = true;\r\n\t}\r\n\r\n\tfunction unpause() external onlyOwner {\r\n\t\tpaused = false;\r\n\t}\r\n\r\n\tfunction setSetupComplete() external onlyOwner {\r\n\t\tsetupComplete = true;\r\n\t}\r\n\r\n\tfunction kill() public onlyOwner {\r\n\t\tselfdestruct(ownerAddress);\r\n\t}\r\n\r\n}\r\n\r\nlibrary SafeMath {\r\n\r\n  /**\r\n  * @dev Multiplies two numbers, throws on overflow.\r\n  */\r\n  function mul(uint256 a, uint256 b) internal pure returns (uint256) {\r\n    if (a == 0) {\r\n      return 0;\r\n    }\r\n    uint256 c = a * b;\r\n    assert(c / a == b);\r\n    return c;\r\n  }\r\n\r\n  /**\r\n  * @dev Integer division of two numbers, truncating the quotient.\r\n  */\r\n  function div(uint256 a, uint256 b) internal pure returns (uint256) {\r\n    // assert(b > 0); // Solidity automatically throws when dividing by 0\r\n    uint256 c = a / b;\r\n    // assert(a == b * c + a % b); // There is no case in which this doesn't hold\r\n    return c;\r\n  }\r\n\r\n  /**\r\n  * @dev Substracts two numbers, throws on overflow (i.e. if subtrahend is greater than minuend).\r\n  */\r\n  function sub(uint256 a, uint256 b) internal pure returns (uint256) {\r\n    assert(b <= a);\r\n    return a - b;\r\n  }\r\n\r\n  /**\r\n  * @dev Adds two numbers, throws on overflow.\r\n  */\r\n  function add(uint256 a, uint256 b) internal pure returns (uint256) {\r\n    uint256 c = a + b;\r\n    assert(c >= a);\r\n    return c;\r\n  }\r\n}\r\n\r\n\r\ncontract BdpOwnershipStorage is BdpBase {\r\n\r\n\tusing SafeMath for uint256;\r\n\r\n\t// Mapping from token ID to owner\r\n\tmapping (uint256 => address) public tokenOwner;\r\n\r\n\t// Mapping from token ID to approved address\r\n\tmapping (uint256 => address) public tokenApprovals;\r\n\r\n\t// Mapping from owner to the sum of owned area\r\n\tmapping (address => uint256) public ownedArea;\r\n\r\n\t// Mapping from owner to list of owned token IDs\r\n\tmapping (address => uint256[]) public ownedTokens;\r\n\r\n\t// Mapping from token ID to index of the owner tokens list\r\n\tmapping(uint256 => uint256) public ownedTokensIndex;\r\n\r\n\t// All tokens list tokens ids\r\n\tuint256[] public tokenIds;\r\n\r\n\t// Mapping from tokenId to index of the tokens list\r\n\tmapping (uint256 => uint256) public tokenIdsIndex;\r\n\r\n\r\n\tfunction getTokenOwner(uint256 _tokenId) view public returns (address) {\r\n\t\treturn tokenOwner[_tokenId];\r\n\t}\r\n\r\n\tfunction setTokenOwner(uint256 _tokenId, address _owner) public storageAccessControl {\r\n\t\ttokenOwner[_tokenId] = _owner;\r\n\t}\r\n\r\n\tfunction getTokenApproval(uint256 _tokenId) view public returns (address) {\r\n\t\treturn tokenApprovals[_tokenId];\r\n\t}\r\n\r\n\tfunction setTokenApproval(uint256 _tokenId, address _to) public storageAccessControl {\r\n\t\ttokenApprovals[_tokenId] = _to;\r\n\t}\r\n\r\n\tfunction getOwnedArea(address _owner) view public returns (uint256) {\r\n\t\treturn ownedArea[_owner];\r\n\t}\r\n\r\n\tfunction setOwnedArea(address _owner, uint256 _area) public storageAccessControl {\r\n\t\townedArea[_owner] = _area;\r\n\t}\r\n\r\n\tfunction incrementOwnedArea(address _owner, uint256 _area) public storageAccessControl returns (uint256) {\r\n\t\townedArea[_owner] = ownedArea[_owner].add(_area);\r\n\t\treturn ownedArea[_owner];\r\n\t}\r\n\r\n\tfunction decrementOwnedArea(address _owner, uint256 _area) public storageAccessControl returns (uint256) {\r\n\t\townedArea[_owner] = ownedArea[_owner].sub(_area);\r\n\t\treturn ownedArea[_owner];\r\n\t}\r\n\r\n\tfunction getOwnedTokensLength(address _owner) view public returns (uint256) {\r\n\t\treturn ownedTokens[_owner].length;\r\n\t}\r\n\r\n\tfunction getOwnedToken(address _owner, uint256 _index) view public returns (uint256) {\r\n\t\treturn ownedTokens[_owner][_index];\r\n\t}\r\n\r\n\tfunction setOwnedToken(address _owner, uint256 _index, uint256 _tokenId) public storageAccessControl {\r\n\t\townedTokens[_owner][_index] = _tokenId;\r\n\t}\r\n\r\n\tfunction pushOwnedToken(address _owner, uint256 _tokenId) public storageAccessControl returns (uint256) {\r\n\t\townedTokens[_owner].push(_tokenId);\r\n\t\treturn ownedTokens[_owner].length;\r\n\t}\r\n\r\n\tfunction decrementOwnedTokensLength(address _owner) public storageAccessControl {\r\n\t\townedTokens[_owner].length--;\r\n\t}\r\n\r\n\tfunction getOwnedTokensIndex(uint256 _tokenId) view public returns (uint256) {\r\n\t\treturn ownedTokensIndex[_tokenId];\r\n\t}\r\n\r\n\tfunction setOwnedTokensIndex(uint256 _tokenId, uint256 _tokenIndex) public storageAccessControl {\r\n\t\townedTokensIndex[_tokenId] = _tokenIndex;\r\n\t}\r\n\r\n\tfunction getTokenIdsLength() view public returns (uint256) {\r\n\t\treturn tokenIds.length;\r\n\t}\r\n\r\n\tfunction getTokenIdByIndex(uint256 _index) view public returns (uint256) {\r\n\t\treturn tokenIds[_index];\r\n\t}\r\n\r\n\tfunction setTokenIdByIndex(uint256 _index, uint256 _tokenId) public storageAccessControl {\r\n\t\ttokenIds[_index] = _tokenId;\r\n\t}\r\n\r\n\tfunction pushTokenId(uint256 _tokenId) public storageAccessControl returns (uint256) {\r\n\t\ttokenIds.push(_tokenId);\r\n\t\treturn tokenIds.length;\r\n\t}\r\n\r\n\tfunction decrementTokenIdsLength() public storageAccessControl {\r\n\t\ttokenIds.length--;\r\n\t}\r\n\r\n\tfunction getTokenIdsIndex(uint256 _tokenId) view public returns (uint256) {\r\n\t\treturn tokenIdsIndex[_tokenId];\r\n\t}\r\n\r\n\tfunction setTokenIdsIndex(uint256 _tokenId, uint256 _tokenIdIndex) public storageAccessControl {\r\n\t\ttokenIdsIndex[_tokenId] = _tokenIdIndex;\r\n\t}\r\n\r\n\tfunction BdpOwnershipStorage(bytes8 _version) public {\r\n\t\townerAddress = msg.sender;\r\n\t\tmanagerAddress = msg.sender;\r\n\t\tversion = _version;\r\n\t}\r\n\r\n}","ABI":"[{\"constant\":true,\"inputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"tokenIdsIndex\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_tokenId\",\"type\":\"uint256\"}],\"name\":\"pushTokenId\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_newOwner\",\"type\":\"address\"}],\"name\":\"setOwner\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[],\"name\":\"decrementTokenIdsLength\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_owner\",\"type\":\"address\"},{\"name\":\"_index\",\"type\":\"uint256\"},{\"name\":\"_tokenId\",\"type\":\"uint256\"}],\"name\":\"setOwnedToken\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"tokenOwner\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_tokenId\",\"type\":\"uint256\"},{\"name\":\"_owner\",\"type\":\"address\"}],\"name\":\"setTokenOwner\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_owner\",\"type\":\"address\"},{\"name\":\"_area\",\"type\":\"uint256\"}],\"name\":\"decrementOwnedArea\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_tokenId\",\"type\":\"uint256\"},{\"name\":\"_tokenIndex\",\"type\":\"uint256\"}],\"name\":\"setOwnedTokensIndex\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[],\"name\":\"unpause\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[],\"name\":\"kill\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"_tokenId\",\"type\":\"uint256\"}],\"name\":\"getOwnedTokensIndex\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"contracts\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"_index\",\"type\":\"uint256\"}],\"name\":\"getTokenIdByIndex\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_index\",\"type\":\"uint256\"},{\"name\":\"_tokenId\",\"type\":\"uint256\"}],\"name\":\"setTokenIdByIndex\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"version\",\"outputs\":[{\"name\":\"\",\"type\":\"bytes8\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"paused\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"ownedTokensIndex\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_owner\",\"type\":\"address\"},{\"name\":\"_tokenId\",\"type\":\"uint256\"}],\"name\":\"pushOwnedToken\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_owner\",\"type\":\"address\"},{\"name\":\"_area\",\"type\":\"uint256\"}],\"name\":\"setOwnedArea\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_owner\",\"type\":\"address\"}],\"name\":\"decrementOwnedTokensLength\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[],\"name\":\"pause\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"ownerAddress\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"_owner\",\"type\":\"address\"}],\"name\":\"getOwnedTokensLength\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_tokenId\",\"type\":\"uint256\"},{\"name\":\"_tokenIdIndex\",\"type\":\"uint256\"}],\"name\":\"setTokenIdsIndex\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"_tokenId\",\"type\":\"uint256\"}],\"name\":\"getTokenOwner\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[],\"name\":\"setSetupComplete\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"tokenApprovals\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_owner\",\"type\":\"address\"},{\"name\":\"_area\",\"type\":\"uint256\"}],\"name\":\"incrementOwnedArea\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"setupComplete\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"_owner\",\"type\":\"address\"},{\"name\":\"_index\",\"type\":\"uint256\"}],\"name\":\"getOwnedToken\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"getTokenIdsLength\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"managerAddress\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_newManager\",\"type\":\"address\"}],\"name\":\"setManager\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"\",\"type\":\"address\"}],\"name\":\"ownedArea\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"tokenIds\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"\",\"type\":\"address\"},{\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"ownedTokens\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"_owner\",\"type\":\"address\"}],\"name\":\"getOwnedArea\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_tokenId\",\"type\":\"uint256\"},{\"name\":\"_to\",\"type\":\"address\"}],\"name\":\"setTokenApproval\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"_tokenId\",\"type\":\"uint256\"}],\"name\":\"getTokenIdsIndex\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_contracts\",\"type\":\"address[16]\"}],\"name\":\"setContracts\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"_tokenId\",\"type\":\"uint256\"}],\"name\":\"getTokenApproval\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"name\":\"_version\",\"type\":\"bytes8\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"}]","ContractName":"BdpOwnershipStorage","CompilerVersion":"v0.4.19+commit.c4cbbb05","OptimizationUsed":"0","Runs":"200","ConstructorArguments":"3263343163626620000000000000000000000000000000000000000000000000","Library":"","SwarmSource":"bzzr://ac9e0abf37cc44856370ec4efea318c8e210cad17de479924beba9f0dabb7fb1"}]}