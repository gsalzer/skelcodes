{"status":"1","message":"OK","result":[{"SourceCode":"pragma solidity ^0.4.0;\r\ncontract RegistroBlockchain {\r\n\r\n    struct Registro {\r\n        bool existe;\r\n        uint block_number;\r\n    }\r\n\r\n    mapping(bytes32 => Registro) public registros;\r\n    address public admin;\r\n\r\n    function RegistroBlockchain() public {\r\n        admin = msg.sender;\r\n    }\r\n    \r\n    function TrocarAdmin(address _admin) public {\r\n        require(msg.sender == admin);\r\n        admin = _admin;\r\n    }\r\n\r\n    function GuardaRegistro(string _hash) public {\r\n        require(msg.sender == admin);\r\n        bytes32 hash = sha256(_hash);\r\n        require(!registros[hash].existe);\r\n        registros[hash].existe = true;\r\n        registros[hash].block_number = block.number;\r\n    }\r\n\r\n    function ConsultaRegistro(string _hash) public constant returns (uint) {\r\n        bytes32 hash = sha256(_hash);\r\n        require(registros[hash].existe);\r\n        return (registros[hash].block_number);\r\n    }\r\n}","ABI":"[{\"constant\":true,\"inputs\":[{\"name\":\"_hash\",\"type\":\"string\"}],\"name\":\"ConsultaRegistro\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"\",\"type\":\"bytes32\"}],\"name\":\"registros\",\"outputs\":[{\"name\":\"existe\",\"type\":\"bool\"},{\"name\":\"block_number\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_admin\",\"type\":\"address\"}],\"name\":\"TrocarAdmin\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_hash\",\"type\":\"string\"}],\"name\":\"GuardaRegistro\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"admin\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"}]","ContractName":"RegistroBlockchain","CompilerVersion":"v0.4.21+commit.dfe3193c","OptimizationUsed":"0","Runs":"200","ConstructorArguments":"","Library":"","SwarmSource":"bzzr://36881e5b3106ef9cb476754cfb466e91aff92467c8806dcbeb24af0140d4c76c"}]}