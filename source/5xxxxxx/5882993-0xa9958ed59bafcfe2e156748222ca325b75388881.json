{"status":"1","message":"OK","result":[{"SourceCode":"pragma solidity ^0.4.21;\r\n/**\r\n * Changes by https://www.docademic.com/\r\n */\r\n\r\n/**\r\n * @title SafeMath\r\n * @dev Math operations with safety checks that throw on error\r\n */\r\nlibrary SafeMath {\r\n\tfunction mul(uint256 a, uint256 b) internal pure returns (uint256) {\r\n\t\tif (a == 0) {\r\n\t\t\treturn 0;\r\n\t\t}\r\n\t\tuint256 c = a * b;\r\n\t\tassert(c / a == b);\r\n\t\treturn c;\r\n\t}\r\n\t\r\n\tfunction div(uint256 a, uint256 b) internal pure returns (uint256) {\r\n\t\t// assert(b > 0); // Solidity automatically throws when dividing by 0\r\n\t\tuint256 c = a / b;\r\n\t\t// assert(a == b * c + a % b); // There is no case in which this doesn't hold\r\n\t\treturn c;\r\n\t}\r\n\t\r\n\tfunction sub(uint256 a, uint256 b) internal pure returns (uint256) {\r\n\t\tassert(b <= a);\r\n\t\treturn a - b;\r\n\t}\r\n\t\r\n\tfunction add(uint256 a, uint256 b) internal pure returns (uint256) {\r\n\t\tuint256 c = a + b;\r\n\t\tassert(c >= a);\r\n\t\treturn c;\r\n\t}\r\n}\r\n\r\n/**\r\n * Changes by https://www.docademic.com/\r\n */\r\n\r\n/**\r\n * @title Ownable\r\n * @dev The Ownable contract has an owner address, and provides basic authorization control\r\n * functions, this simplifies the implementation of \"user permissions\".\r\n */\r\ncontract Ownable {\r\n\taddress public owner;\r\n\t\r\n\tevent OwnershipTransferred(address indexed previousOwner, address indexed newOwner);\r\n\t\r\n\t/**\r\n\t * @dev The Ownable constructor sets the original `owner` of the contract to the sender\r\n\t * account.\r\n\t */\r\n\tfunction Ownable() public {\r\n\t\towner = msg.sender;\r\n\t}\r\n\t\r\n\t/**\r\n\t * @dev Throws if called by any account other than the owner.\r\n\t */\r\n\tmodifier onlyOwner() {\r\n\t\trequire(msg.sender == owner);\r\n\t\t_;\r\n\t}\r\n\t\r\n\t/**\r\n\t * @dev Allows the current owner to transfer control of the contract to a newOwner.\r\n\t * @param _newOwner The address to transfer ownership to.\r\n\t */\r\n\tfunction transferOwnership(address _newOwner) public onlyOwner {\r\n\t\trequire(_newOwner != address(0));\r\n\t\temit OwnershipTransferred(owner, _newOwner);\r\n\t\towner = _newOwner;\r\n\t}\r\n}\r\n\r\ncontract Destroyable is Ownable {\r\n\t/**\r\n\t * @notice Allows to destroy the contract and return the tokens to the owner.\r\n\t */\r\n\tfunction destroy() public onlyOwner {\r\n\t\tselfdestruct(owner);\r\n\t}\r\n}\r\n\r\ninterface Token {\r\n\tfunction balanceOf(address who) view external returns (uint256);\r\n\t\r\n\tfunction allowance(address _owner, address _spender) view external returns (uint256);\r\n\t\r\n\tfunction transfer(address _to, uint256 _value) external returns (bool);\r\n\t\r\n\tfunction approve(address _spender, uint256 _value) external returns (bool);\r\n\t\r\n\tfunction increaseApproval(address _spender, uint256 _addedValue) external returns (bool);\r\n\t\r\n\tfunction decreaseApproval(address _spender, uint256 _subtractedValue) external returns (bool);\r\n}\r\n\r\ncontract TokenPool is Ownable, Destroyable {\r\n\tusing SafeMath for uint256;\r\n\t\r\n\tToken public token;\r\n\taddress public spender;\r\n\t\r\n\tevent AllowanceChanged(uint256 _previousAllowance, uint256 _allowed);\r\n\tevent SpenderChanged(address _previousSpender, address _spender);\r\n\t\r\n\t\r\n\t/**\r\n\t * @dev Constructor.\r\n\t * @param _token The token address\r\n\t * @param _spender The spender address\r\n\t */\r\n\tfunction TokenPool(address _token, address _spender) public{\r\n\t\trequire(_token != address(0) && _spender != address(0));\r\n\t\ttoken = Token(_token);\r\n\t\tspender = _spender;\r\n\t}\r\n\t\r\n\t/**\r\n\t * @dev Get the token balance of the contract.\r\n\t * @return _balance The token balance of this contract in wei\r\n\t */\r\n\tfunction Balance() view public returns (uint256 _balance) {\r\n\t\treturn token.balanceOf(address(this));\r\n\t}\r\n\t\r\n\t/**\r\n\t * @dev Get the token allowance of the contract to the spender.\r\n\t * @return _balance The token allowed to the spender in wei\r\n\t */\r\n\tfunction Allowance() view public returns (uint256 _balance) {\r\n\t\treturn token.allowance(address(this), spender);\r\n\t}\r\n\t\r\n\t/**\r\n\t * @dev Allows the owner to set up the allowance to the spender.\r\n\t */\r\n\tfunction setUpAllowance() public onlyOwner {\r\n\t\temit AllowanceChanged(token.allowance(address(this), spender), token.balanceOf(address(this)));\r\n\t\ttoken.approve(spender, token.balanceOf(address(this)));\r\n\t}\r\n\t\r\n\t/**\r\n\t * @dev Allows the owner to update the allowance of the spender.\r\n\t */\r\n\tfunction updateAllowance() public onlyOwner {\r\n\t\tuint256 balance = token.balanceOf(address(this));\r\n\t\tuint256 allowance = token.allowance(address(this), spender);\r\n\t\tuint256 difference = balance.sub(allowance);\r\n\t\ttoken.increaseApproval(spender, difference);\r\n\t\temit AllowanceChanged(allowance, allowance.add(difference));\r\n\t}\r\n\t\r\n\t/**\r\n\t * @dev Allows the owner to destroy the contract and return the tokens to the owner.\r\n\t */\r\n\tfunction destroy() public onlyOwner {\r\n\t\ttoken.transfer(owner, token.balanceOf(address(this)));\r\n\t\tselfdestruct(owner);\r\n\t}\r\n\t\r\n\t/**\r\n\t * @dev Allows the owner to change the spender.\r\n\t * @param _spender The new spender address\r\n\t */\r\n\tfunction changeSpender(address _spender) public onlyOwner {\r\n\t\trequire(_spender != address(0));\r\n\t\temit SpenderChanged(spender, _spender);\r\n\t\ttoken.approve(spender, 0);\r\n\t\tspender = _spender;\r\n\t\tsetUpAllowance();\r\n\t}\r\n\t\r\n}","ABI":"[{\"constant\":true,\"inputs\":[],\"name\":\"Balance\",\"outputs\":[{\"name\":\"_balance\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[],\"name\":\"setUpAllowance\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_spender\",\"type\":\"address\"}],\"name\":\"changeSpender\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"Allowance\",\"outputs\":[{\"name\":\"_balance\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[],\"name\":\"destroy\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"owner\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"spender\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_newOwner\",\"type\":\"address\"}],\"name\":\"transferOwnership\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[],\"name\":\"updateAllowance\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"token\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"name\":\"_token\",\"type\":\"address\"},{\"name\":\"_spender\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"name\":\"_previousAllowance\",\"type\":\"uint256\"},{\"indexed\":false,\"name\":\"_allowed\",\"type\":\"uint256\"}],\"name\":\"AllowanceChanged\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"name\":\"_previousSpender\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"_spender\",\"type\":\"address\"}],\"name\":\"SpenderChanged\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"name\":\"previousOwner\",\"type\":\"address\"},{\"indexed\":true,\"name\":\"newOwner\",\"type\":\"address\"}],\"name\":\"OwnershipTransferred\",\"type\":\"event\"}]","ContractName":"TokenPool","CompilerVersion":"v0.4.21+commit.dfe3193c","OptimizationUsed":"1","Runs":"200","ConstructorArguments":"000000000000000000000000905e337c6c8645263d3521205aa37bf4d034e7450000000000000000000000004129c45b929cdb787deaae3d0e27ba5b5cd3e3ca","Library":"","SwarmSource":"bzzr://3129564fbc3f7953e87cb435af6ba7ddf9211e9bac386c8d73e2742571332297"}]}