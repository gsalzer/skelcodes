{"status":"1","message":"OK","result":[{"SourceCode":"pragma solidity ^0.4.23;\r\n\r\ncontract SmartContractWorkshop {\r\n\t\r\n\tstruct Person {\r\n\t\tstring name;\r\n\t\tstring email;\r\n\t\tbool attendsInPerson;\r\n\t\tbool purchased;\r\n\t}\r\n\r\n\tuint256 baseprice = 0.03 ether;\r\n\tuint256 priceIncrease = 0.002 ether;\r\n\tuint256 maxPrice = 0.07 ether;\r\n\taddress owner;\r\n\tuint256 faceToFaceLimit = 24;\r\n\tuint256 public ticketsSold;\r\n\tuint256 public ticketsFaceToFaceSold;\r\n\r\n\tstring public eventWebsite;\r\n\r\n\tmapping(address=>Person) public attendants;\r\n\r\n\taddress[] allAttendants;\r\n\taddress[] faceToFaceAttendants;\r\n\r\n\tfunction SmartContractWorkshop (string _eventWebsite) {\r\n\t\towner = msg.sender;\r\n\t\teventWebsite = _eventWebsite;\r\n\t}\r\n\t\r\n\r\n\tfunction register(string _name, string _email, bool _attendsInPerson) payable {\r\n\r\n\t\trequire (msg.value == currentPrice() && attendants[msg.sender].purchased == false);\r\n\r\n\t\tif(_attendsInPerson == true ) {\r\n\t\t\tticketsFaceToFaceSold++;\r\n\t\t\trequire (ticketsFaceToFaceSold <= faceToFaceLimit);\r\n\r\n\t\t\taddAttendantAndTransfer(_name, _email, _attendsInPerson);\r\n\t\t\tfaceToFaceAttendants.push(msg.sender);\r\n\t\t} else {\r\n\t\t\taddAttendantAndTransfer(_name, _email, _attendsInPerson);\r\n\t\t}\r\n\t\tallAttendants.push(msg.sender);\r\n\t}\r\n\r\n\tfunction addAttendantAndTransfer(string _name, string _email, bool _attendsInPerson) internal {\r\n\t\t\t\tattendants[msg.sender] = Person({\r\n\t\t\t\tname: _name,\r\n\t\t\t\temail: _email,\r\n\t\t\t\tattendsInPerson: _attendsInPerson,\r\n\t\t\t\tpurchased: true\r\n\t\t});\r\n\t\tticketsSold++;\r\n\t\towner.transfer(this.balance);\r\n\t}\r\n\r\n\tfunction listAllAttendants() external view returns(address[]){\r\n        return allAttendants;\r\n    }\r\n\r\n    function listFaceToFaceAttendants() external view returns(address[]){\r\n        return faceToFaceAttendants;\r\n    }\r\n\r\n    function hasPurchased() public view returns (bool) {\r\n    \treturn attendants[msg.sender].purchased;\r\n    }\r\n\r\n\tfunction currentPrice() public view returns (uint256) {\r\n\t\tif(baseprice + (ticketsSold * priceIncrease) >= maxPrice) {\r\n\t\t\treturn maxPrice;\r\n\t\t} else {\r\n\t\t\treturn baseprice + (ticketsSold * priceIncrease);\r\n\t\t}\r\n    }\r\n\r\n    modifier onlyOwner() {\r\n\t\tif(owner != msg.sender) {\r\n\t\t\trevert();\r\n\t\t} else {\r\n\t\t\t_;\r\n\t\t}\r\n\t}\r\n}","ABI":"[{\"constant\":true,\"inputs\":[],\"name\":\"eventWebsite\",\"outputs\":[{\"name\":\"\",\"type\":\"string\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"ticketsFaceToFaceSold\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"ticketsSold\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"hasPurchased\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"currentPrice\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"listFaceToFaceAttendants\",\"outputs\":[{\"name\":\"\",\"type\":\"address[]\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"listAllAttendants\",\"outputs\":[{\"name\":\"\",\"type\":\"address[]\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_name\",\"type\":\"string\"},{\"name\":\"_email\",\"type\":\"string\"},{\"name\":\"_attendsInPerson\",\"type\":\"bool\"}],\"name\":\"register\",\"outputs\":[],\"payable\":true,\"stateMutability\":\"payable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"\",\"type\":\"address\"}],\"name\":\"attendants\",\"outputs\":[{\"name\":\"name\",\"type\":\"string\"},{\"name\":\"email\",\"type\":\"string\"},{\"name\":\"attendsInPerson\",\"type\":\"bool\"},{\"name\":\"purchased\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"name\":\"_eventWebsite\",\"type\":\"string\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"}]","ContractName":"SmartContractWorkshop","CompilerVersion":"v0.4.24+commit.e67f0147","OptimizationUsed":"0","Runs":"200","ConstructorArguments":"0000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000000000000000003c687474703a2f2f7777772e6d61676f6e69636f6c61732e636c2f776f726b73686f702d657468657265756d2d736d6172742d636f6e7472616374732f00000000","Library":"","SwarmSource":"bzzr://b93c26b2d9ff97571e5a2659404736c12ae8f952b9254f5be6401094b6c340ed"}]}