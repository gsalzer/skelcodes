{"status":"1","message":"OK","result":[{"SourceCode":"pragma solidity ^0.4.13;\r\n\r\ncontract Owned {\r\n    address public owner;\r\n    \r\n    modifier onlyOwner() {\r\n        require(isOwner(msg.sender));\r\n        _;\r\n    }\r\n\r\n    function Owned() public {\r\n        owner = msg.sender;\r\n    }\r\n\r\n    function isOwner(address addr) view public returns(bool) {\r\n        return addr == owner;\r\n    }\r\n\r\n    function transferOwnership(address newOwner) public onlyOwner {\r\n        if (newOwner != address(this)) {\r\n            owner = newOwner;\r\n        }\r\n    }\r\n}\r\n\r\ncontract docStore is Owned {\r\n    \r\n    uint public indice;\r\n    \r\n    mapping(string => Documento) private storeByString;\r\n    mapping(bytes32 => Documento) private storeByTitle;\r\n    mapping(uint => Documento) private storeById;\r\n    mapping(bytes32 => Documento) private storeByHash;\r\n    \r\n    struct Documento {\r\n        string ipfsLink;\r\n        bytes32 titulo;\r\n        uint timestamp;\r\n        address walletAddress;\r\n        bytes32 fileHash;\r\n        uint Id;\r\n    }\r\n    \r\n    function docStore() public {\r\n        indice = 0;\r\n    }\r\n    \r\n    function guardarDocumento(string _ipfsLink, bytes32 _titulo, bytes32 _fileHash) onlyOwner external {\r\n        require(storeByString[_ipfsLink].titulo == 0x0);\r\n        require(storeByTitle[_titulo].titulo == 0x0);\r\n        indice += 1;\r\n        Documento memory _documento = Documento(_ipfsLink, _titulo, now, msg.sender, _fileHash, indice); \r\n        storeByTitle[_titulo] = _documento;\r\n        storeByString[_ipfsLink] = _documento;\r\n        storeById[indice] = _documento;\r\n        storeByHash[_fileHash] = _documento;\r\n    }\r\n    \r\n    function buscarDocumentoPorQM (string _ipfsLink) view external returns (string, bytes32, uint, address, bytes32, uint){\r\n        Documento memory _documento = storeByString[_ipfsLink];\r\n        return (_documento.ipfsLink, _documento.titulo, _documento.timestamp, _documento.walletAddress, _documento.fileHash, _documento.Id);\r\n    }\r\n    \r\n    function buscarDocumentoPorTitulo (bytes32 _titulo) view external returns (string, bytes32, uint, address, bytes32, uint){\r\n        Documento memory _documento = storeByTitle[_titulo];\r\n        return (_documento.ipfsLink, _documento.titulo, _documento.timestamp, _documento.walletAddress, _documento.fileHash, _documento.Id);\r\n    }\r\n    \r\n    function buscarDocumentoPorId (uint _index) view external returns (string, bytes32, uint, address, bytes32, uint){\r\n        Documento memory _documento = storeById[_index];\r\n        return (_documento.ipfsLink, _documento.titulo, _documento.timestamp, _documento.walletAddress, _documento.fileHash, _documento.Id);\r\n    }\r\n\r\n    function buscarDocumentoPorHash (bytes32 _index) view external returns (string, bytes32, uint, address, bytes32, uint){\r\n        Documento memory _documento = storeByHash[_index];\r\n        return (_documento.ipfsLink, _documento.titulo, _documento.timestamp, _documento.walletAddress, _documento.fileHash, _documento.Id);\r\n    }\r\n    \r\n}","ABI":"[{\"constant\":false,\"inputs\":[{\"name\":\"_ipfsLink\",\"type\":\"string\"},{\"name\":\"_titulo\",\"type\":\"bytes32\"},{\"name\":\"_fileHash\",\"type\":\"bytes32\"}],\"name\":\"guardarDocumento\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"addr\",\"type\":\"address\"}],\"name\":\"isOwner\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"_titulo\",\"type\":\"bytes32\"}],\"name\":\"buscarDocumentoPorTitulo\",\"outputs\":[{\"name\":\"\",\"type\":\"string\"},{\"name\":\"\",\"type\":\"bytes32\"},{\"name\":\"\",\"type\":\"uint256\"},{\"name\":\"\",\"type\":\"address\"},{\"name\":\"\",\"type\":\"bytes32\"},{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"_index\",\"type\":\"bytes32\"}],\"name\":\"buscarDocumentoPorHash\",\"outputs\":[{\"name\":\"\",\"type\":\"string\"},{\"name\":\"\",\"type\":\"bytes32\"},{\"name\":\"\",\"type\":\"uint256\"},{\"name\":\"\",\"type\":\"address\"},{\"name\":\"\",\"type\":\"bytes32\"},{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"indice\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"owner\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"_index\",\"type\":\"uint256\"}],\"name\":\"buscarDocumentoPorId\",\"outputs\":[{\"name\":\"\",\"type\":\"string\"},{\"name\":\"\",\"type\":\"bytes32\"},{\"name\":\"\",\"type\":\"uint256\"},{\"name\":\"\",\"type\":\"address\"},{\"name\":\"\",\"type\":\"bytes32\"},{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"newOwner\",\"type\":\"address\"}],\"name\":\"transferOwnership\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"_ipfsLink\",\"type\":\"string\"}],\"name\":\"buscarDocumentoPorQM\",\"outputs\":[{\"name\":\"\",\"type\":\"string\"},{\"name\":\"\",\"type\":\"bytes32\"},{\"name\":\"\",\"type\":\"uint256\"},{\"name\":\"\",\"type\":\"address\"},{\"name\":\"\",\"type\":\"bytes32\"},{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"}]","ContractName":"docStore","CompilerVersion":"v0.4.19+commit.c4cbbb05","OptimizationUsed":"0","Runs":"200","ConstructorArguments":"","Library":"","SwarmSource":"bzzr://9e65b5bbac68ce6ab3abdd577613a9ccb241aea1830da1b8571159ab91de8187"}]}