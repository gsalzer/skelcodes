{"status":"1","message":"OK","result":[{"SourceCode":"pragma solidity ^0.4.18;\r\n\r\nlibrary SafeMath {\r\n    function mul(uint256 a, uint256 b) internal pure returns (uint256) {\r\n        uint256 c = a * b;\r\n        assert(a == 0 || c / a == b);\r\n        return c;\r\n    }\r\n\r\n    function div(uint256 a, uint256 b) internal pure returns (uint256) {\r\n        assert(b != 0);\r\n        uint256 c = a / b;\r\n        return c;\r\n    }\r\n\r\n    function sub(uint256 a, uint256 b) internal pure returns (uint256) {\r\n        assert(b <= a);\r\n        return a - b;\r\n    }\r\n\r\n    function add(uint256 a, uint256 b) internal pure returns (uint256) {\r\n        uint256 c = a + b;\r\n        assert(c >= a);\r\n        return c;\r\n    }\r\n}\r\n\r\ncontract ERC20Base {\r\n\tevent Approval(address indexed owner, address indexed spender, uint256 value);\r\n\tevent Transfer(address indexed from, address indexed to, uint256 value);\r\n\r\n\tstring public name;\r\n\tstring public symbol;\r\n\tuint8 public decimals;\r\n\r\n\tfunction totalSupply() public view returns (uint256);\r\n\tfunction transfer(address to, uint256 value) public returns (bool);\r\n\tfunction transferFrom(address from, address to, uint256 value) public returns (bool);\r\n\tfunction approve(address spender, uint256 value) public returns (bool);\r\n\tfunction balanceOf(address who) public view returns (uint256);\r\n\tfunction allowance(address owner, address spender) public view returns (uint256);\r\n}\r\n\r\ncontract SimpleICO {\r\n\tusing SafeMath for uint256;\r\n\t\r\n\taddress internal owner;\r\n\tuint256 public startTime;\r\n\tuint256 public endTime;\r\n\t\r\n\t//0 - Initial State\r\n\t//1 - Contribution State\r\n\t//2 - Final State\r\n\tuint256 public state;\r\n\r\n\tmapping (address => bool) internal contributionKYC;\r\n\r\n\tmapping (address => uint256) internal originalContributed;\r\n\tmapping (address => uint256) internal adjustedContributed;\r\n\tuint256 public amountRaised; //Value strictly increases and tracks total raised.\r\n\tuint256 public adjustedRaised;\r\n\tuint256 public currentRate;\r\n\r\n\tuint256 public amountRemaining; //Amount that can be withdrawn.\r\n\tuint256 public nextCheckpoint; //Next blocktime that funds can be released.\r\n\tuint256 public tenthTotal;\r\n\r\n\tevent KYCApproved(address indexed who, address indexed admin);\r\n\tevent KYCRemoved(address indexed who, address indexed admin);\r\n\r\n\tevent RateDecreased(uint256 indexed when, uint256 newRate);\r\n\tevent ContributionReceived(address indexed from, uint256 amount, uint256 soFar);\r\n\r\n\tevent EtherReleased(uint256 time, uint256 amount);\r\n\tevent EtherWithdrawn(address indexed by, uint256 amount, uint256 remaining);\r\n\r\n\tfunction SimpleICO() public {\r\n\t\towner = msg.sender;\r\n\t\tstartTime = 0;\r\n\t\tendTime = 0;\r\n\t\tstate = 0;\r\n\r\n\t\tamountRaised = 0 ether;\r\n\t\tadjustedRaised = 0 ether;\r\n\t\tcurrentRate = 4;\r\n\r\n\t\tamountRemaining = 0 ether;\r\n\t\tnextCheckpoint = 0;\r\n\t\ttenthTotal = 0 ether;\r\n\r\n\t}\r\n\r\n\tmodifier onlyOwner() {\r\n\t\trequire(msg.sender == owner);\r\n\t\t_;\r\n\t}\r\n\t\r\n\tmodifier stillRunning() {\r\n\t\trequire(state == 1);\r\n\t\trequire(now <= endTime);\r\n\t\t_;\r\n\t}\r\n\t\r\n\tmodifier canEnd() {\r\n\t\trequire(state == 1);\r\n\t\trequire(now > endTime || amountRaised >= 500 ether);\r\n\t\t_;\r\n\t}\r\n\r\n\tmodifier allowKYC(address addr) {\r\n\t\tif (!contributionKYC[addr]) {\r\n\t\t\tuint256 total = originalContributed[msg.sender].add(msg.value);\r\n\t\t\trequire(total < .1 ether);\r\n\t\t}\r\n\t\r\n\t\t_;\r\n\t}\r\n\t\r\n\tfunction isApproved(address addr) external view returns (bool) {\r\n\t\treturn contributionKYC[addr];\r\n\t}\r\n\t\r\n\tfunction approveKYC(address addr) external onlyOwner {\r\n\t\trequire(!contributionKYC[addr]);\r\n\t\tcontributionKYC[addr] = true;\r\n\t\r\n\t\temit KYCApproved(addr, msg.sender);\r\n\t}\r\n\t\r\n\tfunction removeKYC(address addr) external onlyOwner {\r\n\t\trequire(contributionKYC[addr]);\r\n\t\trequire(originalContributed[addr] < .1 ether);\r\n\t\tcontributionKYC[addr] = false;\r\n\t\r\n\t\temit KYCRemoved(addr, msg.sender);\r\n\t}\r\n\r\n\tfunction contribute() external allowKYC(msg.sender) stillRunning payable {\r\n\t\tuint256 total = originalContributed[msg.sender].add(msg.value);\r\n\t\tuint256 adjusted = msg.value.mul(currentRate);\r\n\t\tuint256 adjustedTotal = adjustedContributed[msg.sender].add(adjusted);\r\n\t\r\n\t\toriginalContributed[msg.sender] = total;\r\n\t\tadjustedContributed[msg.sender] = adjustedTotal;\r\n\t\r\n\t\tamountRaised = amountRaised.add(msg.value);\r\n\t\tadjustedRaised = adjustedRaised.add(adjusted);\r\n\t\temit ContributionReceived(msg.sender, msg.value, total);\r\n\t\r\n\t\tif (currentRate == 4 && now > (startTime.add(2 weeks))) {\r\n\t\t\tcurrentRate = 2;\r\n\t\t\temit RateDecreased(now, currentRate);\r\n\t\t}\r\n\t}\r\n\t\r\n\tfunction getAmountContributed(address addr) external view returns (uint256 amount) {\r\n\t\treturn originalContributed[addr];\r\n\t}\r\n\t\r\n\tfunction getAdjustedContribution(address addr) external view returns (uint256 amount) {\r\n\t\treturn adjustedContributed[addr];\r\n\t}\r\n\r\n\tfunction startContribution() external onlyOwner {\r\n\t\trequire(state == 0);\r\n\t\tstate = 1;\r\n\t\tstartTime = now;\r\n\t\tendTime = now + 4 weeks;\r\n\t}\r\n\t\r\n\tfunction endContribution() external canEnd onlyOwner { //Require state 1 is in canEnd\r\n\t\ttenthTotal = amountRaised.div(10);\r\n\t\tamountRemaining = tenthTotal.mul(5);\r\n\t\tnextCheckpoint = now + 1 weeks;\r\n\t\r\n\t\tstate = 2;\r\n\t\temit EtherReleased(now, tenthTotal.mul(5));\r\n\t}\r\n\t\r\n\tfunction withdrawToWallet(uint256 amount) external onlyOwner {\r\n\t\trequire(state == 2);\r\n\t\trequire(amount <= amountRemaining);\r\n\t\r\n\t\tif (now > nextCheckpoint) {\r\n\t\t\tamountRemaining = amountRemaining.add(tenthTotal);\r\n\t\t\tnextCheckpoint = now + 1 weeks;\r\n\t\r\n\t\t\temit EtherReleased(now, tenthTotal);\r\n\t\t}\r\n\t\r\n\t\tamountRemaining = amountRemaining.sub(amount);\r\n\t\tmsg.sender.transfer(amount);\r\n\t\temit EtherWithdrawn(msg.sender, amount, amountRemaining);\r\n\t}\r\n\t\r\n\tfunction retrieveAssets(address which) external onlyOwner {\r\n\t\trequire(which != address(this));\r\n\t\r\n\t\tERC20Base token = ERC20Base(which);\r\n\t\tuint256 amount = token.balanceOf(address(this));\r\n\t\trequire(token.transfer(msg.sender, amount));\r\n\t}\r\n\r\n}","ABI":"[{\"constant\":false,\"inputs\":[{\"name\":\"addr\",\"type\":\"address\"}],\"name\":\"approveKYC\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"addr\",\"type\":\"address\"}],\"name\":\"getAdjustedContribution\",\"outputs\":[{\"name\":\"amount\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"addr\",\"type\":\"address\"}],\"name\":\"removeKYC\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"endTime\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"adjustedRaised\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"which\",\"type\":\"address\"}],\"name\":\"retrieveAssets\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"addr\",\"type\":\"address\"}],\"name\":\"isApproved\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[],\"name\":\"endContribution\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"startTime\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"amountRaised\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[],\"name\":\"startContribution\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"tenthTotal\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"addr\",\"type\":\"address\"}],\"name\":\"getAmountContributed\",\"outputs\":[{\"name\":\"amount\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"state\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[],\"name\":\"contribute\",\"outputs\":[],\"payable\":true,\"stateMutability\":\"payable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"nextCheckpoint\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"amountRemaining\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"withdrawToWallet\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"currentRate\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"name\":\"who\",\"type\":\"address\"},{\"indexed\":true,\"name\":\"admin\",\"type\":\"address\"}],\"name\":\"KYCApproved\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"name\":\"who\",\"type\":\"address\"},{\"indexed\":true,\"name\":\"admin\",\"type\":\"address\"}],\"name\":\"KYCRemoved\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"name\":\"when\",\"type\":\"uint256\"},{\"indexed\":false,\"name\":\"newRate\",\"type\":\"uint256\"}],\"name\":\"RateDecreased\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"name\":\"from\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"amount\",\"type\":\"uint256\"},{\"indexed\":false,\"name\":\"soFar\",\"type\":\"uint256\"}],\"name\":\"ContributionReceived\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"name\":\"time\",\"type\":\"uint256\"},{\"indexed\":false,\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"EtherReleased\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"name\":\"by\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"amount\",\"type\":\"uint256\"},{\"indexed\":false,\"name\":\"remaining\",\"type\":\"uint256\"}],\"name\":\"EtherWithdrawn\",\"type\":\"event\"}]","ContractName":"SimpleICO","CompilerVersion":"v0.4.21+commit.dfe3193c","OptimizationUsed":"0","Runs":"200","ConstructorArguments":"","Library":"","SwarmSource":"bzzr://2943b49e253526c0730735d4bbecb98219c736d23b133d1bde1f15727d7b522e"}]}