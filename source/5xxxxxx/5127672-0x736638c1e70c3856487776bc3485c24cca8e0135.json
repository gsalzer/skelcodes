{"status":"1","message":"OK","result":[{"SourceCode":"pragma solidity ^0.4.18;\r\n\r\n/// rare.claims\r\n\r\ncontract RareClaim {\r\n  /*** CONSTANTS ***/\r\n  uint256 private fiveHoursInSeconds = 18000; // 18000;\r\n  string public constant NAME = \"RareClaims\";\r\n  string public constant SYMBOL = \"RareClaim\";\r\n\r\n  /*** STORAGE ***/\r\n  mapping (address => uint256) private ownerCount;\r\n\r\n  address public ceoAddress;\r\n  address public cooAddress;\r\n\r\n  struct Rare {\r\n    address owner;\r\n    uint256 price;\r\n    uint256 last_transaction;\r\n    address approve_transfer_to;\r\n  }\r\n  uint rare_count;\r\n  mapping (string => Rare) rares;\r\n\r\n  /*** ACCESS MODIFIERS ***/\r\n  modifier onlyCEO() { require(msg.sender == ceoAddress); _; }\r\n  modifier onlyCOO() { require(msg.sender == cooAddress); _; }\r\n  modifier onlyCXX() { require(msg.sender == ceoAddress || msg.sender == cooAddress); _; }\r\n\r\n  /*** ACCESS MODIFIES ***/\r\n  function setCEO(address _newCEO) public onlyCEO {\r\n    require(_newCEO != address(0));\r\n    ceoAddress = _newCEO;\r\n  }\r\n  function setCOO(address _newCOO) public onlyCEO {\r\n    require(_newCOO != address(0));\r\n    cooAddress = _newCOO;\r\n  }\r\n\r\n  /*** DEFAULT METHODS ***/\r\n  function symbol() public pure returns (string) { return SYMBOL; }\r\n  function name() public pure returns (string) { return NAME; }\r\n  function implementsERC721() public pure returns (bool) { return true; }\r\n\r\n  /*** CONSTRUCTOR ***/\r\n  function RareClaim() public {\r\n    ceoAddress = msg.sender;\r\n    cooAddress = msg.sender;\r\n  }\r\n\r\n  /*** INTERFACE METHODS ***/\r\n  function createRare(string _rare_id, uint256 _price) public onlyCXX {\r\n    require(msg.sender != address(0));\r\n    _create_rare(_rare_id, address(this), _price);\r\n  }\r\n\r\n  function totalSupply() public view returns (uint256 total) {\r\n    return rare_count;\r\n  }\r\n\r\n  function balanceOf(address _owner) public view returns (uint256 balance) {\r\n    return ownerCount[_owner];\r\n  }\r\n  function priceOf(string _rare_id) public view returns (uint256 price) {\r\n    return rares[_rare_id].price;\r\n  }\r\n\r\n  function getRare(string _rare_id) public view returns (\r\n    string id,\r\n    address owner,\r\n    uint256 price,\r\n    uint256 last_transaction\r\n  ) {\r\n    id = _rare_id;\r\n    owner = rares[_rare_id].owner;\r\n    price = rares[_rare_id].price;\r\n    last_transaction = rares[_rare_id].last_transaction;\r\n  }\r\n\r\n  function purchase(string _rare_id) public payable {\r\n    Rare storage rare = rares[_rare_id];\r\n\r\n    require(rare.owner != msg.sender);\r\n    require(msg.sender != address(0));\r\n\r\n    uint256 time_diff = (block.timestamp - rare.last_transaction);\r\n    while(time_diff >= fiveHoursInSeconds){\r\n        time_diff = (time_diff - fiveHoursInSeconds);\r\n        rare.price = SafeMath.mul(SafeMath.div(rare.price, 100), 75);\r\n    }\r\n    if(rare.price < 1000000000000000){ rare.price = 1000000000000000; }\r\n    require(msg.value >= rare.price);\r\n\r\n    uint256 excess = SafeMath.sub(msg.value, rare.price);\r\n\r\n    if(rare.owner == address(this)){\r\n      ceoAddress.transfer(rare.price);\r\n    } else {\r\n      ceoAddress.transfer(uint256(SafeMath.mul(SafeMath.div(rare.price, 100), 7)));\r\n      rare.owner.transfer(uint256(SafeMath.mul(SafeMath.div(rare.price, 100), 93)));\r\n    }\r\n\r\n    rare.price = SafeMath.mul(SafeMath.div(rare.price, 100), 150);\r\n    rare.owner = msg.sender;\r\n    rare.last_transaction = block.timestamp;\r\n\r\n    msg.sender.transfer(excess);\r\n  }\r\n\r\n  function payout() public onlyCEO {\r\n    ceoAddress.transfer(this.balance);\r\n  }\r\n\r\n  /*** PRIVATE METHODS ***/\r\n\r\n  function _create_rare(string _rare_id, address _owner, uint256 _price) private {\r\n    rare_count++;\r\n    rares[_rare_id] = Rare({\r\n      owner: _owner,\r\n      price: _price,\r\n      last_transaction: block.timestamp,\r\n      approve_transfer_to: address(0)\r\n    });\r\n  }\r\n\r\n  function _transfer(address _from, address _to, string _rare_id) private {\r\n    rares[_rare_id].owner = _to;\r\n    rares[_rare_id].approve_transfer_to = address(0);\r\n    ownerCount[_from] -= 1;\r\n    ownerCount[_to] += 1;\r\n  }\r\n}\r\n\r\nlibrary SafeMath {\r\n  function mul(uint256 a, uint256 b) internal pure returns (uint256) {\r\n    if (a == 0) {\r\n      return 0;\r\n    }\r\n    uint256 c = a * b;\r\n    assert(c / a == b);\r\n    return c;\r\n  }\r\n  function div(uint256 a, uint256 b) internal pure returns (uint256) {\r\n    uint256 c = a / b;\r\n    return c;\r\n  }\r\n  function sub(uint256 a, uint256 b) internal pure returns (uint256) {\r\n    assert(b <= a);\r\n    return a - b;\r\n  }\r\n  function add(uint256 a, uint256 b) internal pure returns (uint256) {\r\n    uint256 c = a + b;\r\n    assert(c >= a);\r\n    return c;\r\n  }\r\n}","ABI":"[{\"constant\":true,\"inputs\":[],\"name\":\"name\",\"outputs\":[{\"name\":\"\",\"type\":\"string\"}],\"payable\":false,\"stateMutability\":\"pure\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"ceoAddress\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"implementsERC721\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"pure\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"totalSupply\",\"outputs\":[{\"name\":\"total\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_newCEO\",\"type\":\"address\"}],\"name\":\"setCEO\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_newCOO\",\"type\":\"address\"}],\"name\":\"setCOO\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"_rare_id\",\"type\":\"string\"}],\"name\":\"getRare\",\"outputs\":[{\"name\":\"id\",\"type\":\"string\"},{\"name\":\"owner\",\"type\":\"address\"},{\"name\":\"price\",\"type\":\"uint256\"},{\"name\":\"last_transaction\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_rare_id\",\"type\":\"string\"}],\"name\":\"purchase\",\"outputs\":[],\"payable\":true,\"stateMutability\":\"payable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[],\"name\":\"payout\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_rare_id\",\"type\":\"string\"},{\"name\":\"_price\",\"type\":\"uint256\"}],\"name\":\"createRare\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"_owner\",\"type\":\"address\"}],\"name\":\"balanceOf\",\"outputs\":[{\"name\":\"balance\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"symbol\",\"outputs\":[{\"name\":\"\",\"type\":\"string\"}],\"payable\":false,\"stateMutability\":\"pure\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"NAME\",\"outputs\":[{\"name\":\"\",\"type\":\"string\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"_rare_id\",\"type\":\"string\"}],\"name\":\"priceOf\",\"outputs\":[{\"name\":\"price\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"cooAddress\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"SYMBOL\",\"outputs\":[{\"name\":\"\",\"type\":\"string\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"}]","ContractName":"RareClaim","CompilerVersion":"v0.4.18+commit.9cf6e910","OptimizationUsed":"1","Runs":"200","ConstructorArguments":"","Library":"","SwarmSource":"bzzr://2c17665005132775784e3923ba9def33de30ee8c3e26145de1992036da615c1b"}]}