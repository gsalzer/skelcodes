{"status":"1","message":"OK","result":[{"SourceCode":"pragma solidity ^0.4.24;\r\n\r\n/// @title DigixDAO's 2nd Carbon Voting contracts\r\n/// @author Digix Holdings\r\n\r\n/// @notice NumberCarbonVoting contract, generalized carbon voting contract\r\ncontract NumberCarbonVoting {\r\n    uint256 public start;\r\n    uint256 public end;\r\n    struct VoteItem {\r\n        bytes32 title;\r\n        uint256 minValue;\r\n        uint256 maxValue;\r\n        mapping (address => uint256) votes;\r\n    }\r\n\r\n    mapping(uint256 => VoteItem) public voteItems;\r\n    uint256 public itemCount;\r\n\r\n    mapping(address => bool) public voted;\r\n    address[] public voters;\r\n\r\n    constructor (\r\n        uint256 _itemCount,\r\n        bytes32[] _titles,\r\n        uint256[] _minValues,\r\n        uint256[] _maxValues,\r\n        uint256 _start,\r\n        uint256 _end\r\n    )\r\n        public\r\n    {\r\n        itemCount = _itemCount;\r\n        for (uint256 i=0;i<itemCount;i++) {\r\n            voteItems[i].title = _titles[i];\r\n            voteItems[i].minValue = _minValues[i];\r\n            voteItems[i].maxValue = _maxValues[i];\r\n        }\r\n        start = _start;\r\n        end = _end;\r\n    }\r\n\r\n    function vote(uint256[] _votes) public {\r\n        require(_votes.length == itemCount);\r\n        require(now >= start && now < end);\r\n\r\n        address voter = msg.sender;\r\n        if (!voted[voter]) {\r\n            voted[voter] = true;\r\n            voters.push(voter);\r\n        }\r\n\r\n        for (uint256 i=0;i<itemCount;i++) {\r\n            require(_votes[i] >= voteItems[i].minValue && _votes[i] <= voteItems[i].maxValue);\r\n            voteItems[i].votes[voter] = _votes[i];\r\n        }\r\n    }\r\n\r\n    function getAllVoters() public view\r\n        returns (address[] _voters)\r\n    {\r\n        _voters = voters;\r\n    }\r\n\r\n    function getVotesForItem(uint256 _itemIndex) public view\r\n        returns (address[] _voters, uint256[] _votes)\r\n    {\r\n        return getVotesForItemFromVoterIndex(_itemIndex, 0, voters.length);\r\n    }\r\n\r\n\r\n    /// @dev get votes for a subset of _count voters, from _voterIndex\r\n    function getVotesForItemFromVoterIndex(uint256 _itemIndex, uint256 _voterIndex, uint256 _count) public view\r\n        returns (address[] _voters, uint256[] _votes)\r\n    {\r\n        require(_itemIndex < itemCount);\r\n        require(_voterIndex < voters.length);\r\n\r\n        _count = min(voters.length - _voterIndex, _count);\r\n        _voters = new address[](_count);\r\n        _votes = new uint256[](_count);\r\n        for (uint256 i=0;i<_count;i++) {\r\n            _voters[i] = voters[_voterIndex + i];\r\n            _votes[i] = voteItems[_itemIndex].votes[_voters[i]];\r\n        }\r\n    }\r\n\r\n    function min(uint256 _a, uint256 _b) returns (uint256 _min) {\r\n        _min = _a;\r\n        if (_b < _a) {\r\n            _min = _b;\r\n        }\r\n    }\r\n\r\n    function getVoteItemDetails(uint256 _itemIndex) public view\r\n        returns (bytes32 _title, uint256 _minValue, uint256 _maxValue)\r\n    {\r\n        _title = voteItems[_itemIndex].title;\r\n        _minValue = voteItems[_itemIndex].minValue;\r\n        _maxValue = voteItems[_itemIndex].maxValue;\r\n    }\r\n\r\n    function getUserVote(address _voter) public view\r\n        returns (uint256[] _votes, bool _voted)\r\n    {\r\n        _voted = voted[_voter];\r\n        _votes = new uint256[](itemCount);\r\n        for (uint256 i=0;i<itemCount;i++) {\r\n            _votes[i] = voteItems[i].votes[_voter];\r\n        }\r\n    }\r\n}\r\n\r\n/// @notice the actual carbon voting contract, specific to DigixDAO's 2nd carbon voting: DigixDAO's first proposal\r\ncontract DigixDaoFirstProposal is NumberCarbonVoting {\r\n    constructor (\r\n        uint256 _itemCount,\r\n        bytes32[] _titles,\r\n        uint256[] _minValues,\r\n        uint256[] _maxValues,\r\n        uint256 _start,\r\n        uint256 _end\r\n    ) public NumberCarbonVoting(\r\n        _itemCount,\r\n        _titles,\r\n        _minValues,\r\n        _maxValues,\r\n        _start,\r\n        _end\r\n    ) {\r\n    }\r\n}","ABI":"[{\"constant\":true,\"inputs\":[{\"name\":\"_itemIndex\",\"type\":\"uint256\"}],\"name\":\"getVotesForItem\",\"outputs\":[{\"name\":\"_voters\",\"type\":\"address[]\"},{\"name\":\"_votes\",\"type\":\"uint256[]\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"_itemIndex\",\"type\":\"uint256\"}],\"name\":\"getVoteItemDetails\",\"outputs\":[{\"name\":\"_title\",\"type\":\"bytes32\"},{\"name\":\"_minValue\",\"type\":\"uint256\"},{\"name\":\"_maxValue\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"getAllVoters\",\"outputs\":[{\"name\":\"_voters\",\"type\":\"address[]\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"_itemIndex\",\"type\":\"uint256\"},{\"name\":\"_voterIndex\",\"type\":\"uint256\"},{\"name\":\"_count\",\"type\":\"uint256\"}],\"name\":\"getVotesForItemFromVoterIndex\",\"outputs\":[{\"name\":\"_voters\",\"type\":\"address[]\"},{\"name\":\"_votes\",\"type\":\"uint256[]\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"itemCount\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_a\",\"type\":\"uint256\"},{\"name\":\"_b\",\"type\":\"uint256\"}],\"name\":\"min\",\"outputs\":[{\"name\":\"_min\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"\",\"type\":\"address\"}],\"name\":\"voted\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"start\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"voteItems\",\"outputs\":[{\"name\":\"title\",\"type\":\"bytes32\"},{\"name\":\"minValue\",\"type\":\"uint256\"},{\"name\":\"maxValue\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_votes\",\"type\":\"uint256[]\"}],\"name\":\"vote\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"_voter\",\"type\":\"address\"}],\"name\":\"getUserVote\",\"outputs\":[{\"name\":\"_votes\",\"type\":\"uint256[]\"},{\"name\":\"_voted\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"voters\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"end\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"name\":\"_itemCount\",\"type\":\"uint256\"},{\"name\":\"_titles\",\"type\":\"bytes32[]\"},{\"name\":\"_minValues\",\"type\":\"uint256[]\"},{\"name\":\"_maxValues\",\"type\":\"uint256[]\"},{\"name\":\"_start\",\"type\":\"uint256\"},{\"name\":\"_end\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"}]","ContractName":"DigixDaoFirstProposal","CompilerVersion":"v0.4.24+commit.e67f0147","OptimizationUsed":"0","Runs":"200","ConstructorArguments":"000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000c000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000140000000000000000000000000000000000000000000000000000000005b7a3cc0000000000000000000000000000000000000000000000000000000005b8e03400000000000000000000000000000000000000000000000000000000000000001446967697844616f466972737450726f706f73616c00000000000000000000000000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000001","Library":"","SwarmSource":"bzzr://f9796d877144d695121f111109927368bf233479f870fea4ea8545b6cc234d92"}]}