{"status":"1","message":"OK","result":[{"SourceCode":"pragma solidity ^0.4.0;\r\n\r\ncontract IProperty {\r\n    event RegistrationCreated(address indexed registrant, bytes32 indexed hash, uint blockNumber, string description);\r\n    event RegistrationUpdated(address indexed registrant, bytes32 indexed hash, uint blockNumber, string description);\r\n\r\n    struct Registration {\r\n        address registrant;\r\n        bytes32 hash;\r\n        uint blockNumber;\r\n        string description;\r\n    }\r\n\r\n    mapping(bytes32 => Registration) registrations;\r\n\r\n    function register(bytes32 hash, string description) public {\r\n\r\n        Registration storage registration = registrations[hash];\r\n\r\n        if (registration.registrant == address(0)) {         // this is the first registration of this hash\r\n            registration.registrant = msg.sender;\r\n            registration.hash = hash;\r\n            registration.blockNumber = block.number;\r\n            registration.description = description;\r\n\r\n            emit RegistrationCreated(msg.sender, hash, block.number, description);\r\n        }\r\n        else if (registration.registrant == msg.sender) {    // this is an update coming from the first owner\r\n            registration.description = description;\r\n\r\n            emit RegistrationUpdated(msg.sender, hash, registration.blockNumber, description);\r\n        }\r\n        else\r\n            revert(\"only owner can change his registration\");\r\n\r\n    }\r\n\r\n    function retrieve(bytes32 hash) public view returns (address, bytes32, uint, string) {\r\n\r\n        Registration storage registration = registrations[hash];\r\n\r\n        return (registration.registrant, registration.hash, registration.blockNumber, registration.description);\r\n\r\n    }\r\n}","ABI":"[{\"constant\":false,\"inputs\":[{\"name\":\"hash\",\"type\":\"bytes32\"},{\"name\":\"description\",\"type\":\"string\"}],\"name\":\"register\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"hash\",\"type\":\"bytes32\"}],\"name\":\"retrieve\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"},{\"name\":\"\",\"type\":\"bytes32\"},{\"name\":\"\",\"type\":\"uint256\"},{\"name\":\"\",\"type\":\"string\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"name\":\"registrant\",\"type\":\"address\"},{\"indexed\":true,\"name\":\"hash\",\"type\":\"bytes32\"},{\"indexed\":false,\"name\":\"blockNumber\",\"type\":\"uint256\"},{\"indexed\":false,\"name\":\"description\",\"type\":\"string\"}],\"name\":\"RegistrationCreated\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"name\":\"registrant\",\"type\":\"address\"},{\"indexed\":true,\"name\":\"hash\",\"type\":\"bytes32\"},{\"indexed\":false,\"name\":\"blockNumber\",\"type\":\"uint256\"},{\"indexed\":false,\"name\":\"description\",\"type\":\"string\"}],\"name\":\"RegistrationUpdated\",\"type\":\"event\"}]","ContractName":"IProperty","CompilerVersion":"v0.4.24+commit.e67f0147","OptimizationUsed":"0","Runs":"200","ConstructorArguments":"","Library":"","SwarmSource":"bzzr://639854a801358da1208d5a748e221fcfba6d182c552d61e3cc816651d1a56f5d"}]}