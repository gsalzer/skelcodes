{"status":"1","message":"OK","result":[{"SourceCode":"pragma solidity ^0.4.25;\r\n\r\ncontract owned {\r\n    address public owner;\r\n    \r\n    event Log(string s);\r\n    \r\n    constructor() public payable{\r\n        owner = msg.sender;\r\n    }\r\n\r\n    modifier onlyOwner {\r\n        require(msg.sender == owner);\r\n        _;\r\n    }\r\n    function transferOwnership(address newOwner) onlyOwner public {\r\n        owner = newOwner;\r\n    }\r\n    function isOwner()public{\r\n        if(msg.sender==owner)emit Log(\"Owner\");\r\n        else{\r\n            emit Log(\"Not Owner\");\r\n        }\r\n    }\r\n}\r\n\r\ninterface EPLAY {function balanceOf(address tokenOwner) public view returns (uint balance);}\r\n\r\ncontract BuyBack is owned{\r\n    \r\n    EPLAY public eplay;\r\n    uint256 public sellPrice; //100000000000000\r\n    uint256 max = 47900000000;\r\n    \r\n    address[7] blocked = [0x01D95406787463b7c6E8091bfe6324556aCf1Ad8,0xA450877812d120315f343aEc62B5CF1ad39e8468,0xE4b0aCa9D6043400b3fCbd17B0d253403aa096dB,0xBF1e01f61EE33A6113875502eE23BaD06dcCE52c,0x8071db89A3660C4d11a7B845BFc6A9E0597CF76f,0xF14228fbD920145d9f4d4d5e38760D9410e99775,0x02082526872Ac686196BA39BBe3C816bF370BA94];\r\n    mapping(address => bool) unblocked;\r\n    event Transfer(address reciever, uint256 amount);\r\n    \r\n    modifier isValid {\r\n        require(msg.value <= max);\r\n        require(!checkBlocked(msg.sender));\r\n        _;\r\n    }\r\n\r\n    constructor(address eplayAddress) public payable{\r\n        setEplay(eplayAddress);\r\n        setPrice(480000000);\r\n        deposit();\r\n    }\r\n    \r\n    function checkBlocked(address sender) public view returns (bool) {\r\n        bool out = false;\r\n        if(!unblocked[sender]){\r\n            for(uint i = 0; i < blocked.length; i++){\r\n                out = out || sender == blocked[i];\r\n            }\r\n        }\r\n        return out;  \r\n    }\r\n    \r\n    function unblock(address sender) public onlyOwner {\r\n        unblocked[sender] = true;    \r\n    }\r\n    \r\n    function buyback() public payable isValid {\r\n        address reciever = msg.sender;\r\n        uint256 balance = eplay.balanceOf(reciever);\r\n        if(balance <= 0) {\r\n            revert();\r\n        }else {\r\n            emit Transfer(reciever,balance*sellPrice);\r\n            reciever.transfer(balance*sellPrice);\r\n        }\r\n    }\r\n    \r\n    function setEplay(address eplayAddress) public onlyOwner {\r\n        eplay = EPLAY(eplayAddress);\r\n    }\r\n    \r\n    function setPrice(uint256 newPrice) public onlyOwner {\r\n        sellPrice = newPrice;\r\n    }\r\n    \r\n    function deposit() public payable {\r\n        address(this).transfer(msg.value);\r\n    }\r\n    \r\n    function close() public payable onlyOwner {\r\n        owner.transfer(address(this).balance);\r\n    }\r\n    function getBalance(address addr) public view returns (uint256 bal) {\r\n        bal = eplay.balanceOf(addr);\r\n        return bal;\r\n    }\r\n    \r\n    function getSenderBalance() public view returns (uint256 bal) {\r\n        return getBalance(msg.sender);\r\n    }\r\n    \r\n    function getOwed() public view returns (uint256 val) {\r\n        val = getSenderBalance()*sellPrice;\r\n    }\r\n}","ABI":"[{\"constant\":false,\"inputs\":[],\"name\":\"close\",\"outputs\":[],\"payable\":true,\"stateMutability\":\"payable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"getOwed\",\"outputs\":[{\"name\":\"val\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"sellPrice\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"sender\",\"type\":\"address\"}],\"name\":\"unblock\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"sender\",\"type\":\"address\"}],\"name\":\"checkBlocked\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"owner\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[],\"name\":\"isOwner\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"eplay\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"newPrice\",\"type\":\"uint256\"}],\"name\":\"setPrice\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[],\"name\":\"deposit\",\"outputs\":[],\"payable\":true,\"stateMutability\":\"payable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"newOwner\",\"type\":\"address\"}],\"name\":\"transferOwnership\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"addr\",\"type\":\"address\"}],\"name\":\"getBalance\",\"outputs\":[{\"name\":\"bal\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[],\"name\":\"buyback\",\"outputs\":[],\"payable\":true,\"stateMutability\":\"payable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"eplayAddress\",\"type\":\"address\"}],\"name\":\"setEplay\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"getSenderBalance\",\"outputs\":[{\"name\":\"bal\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"name\":\"eplayAddress\",\"type\":\"address\"}],\"payable\":true,\"stateMutability\":\"payable\",\"type\":\"constructor\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"name\":\"reciever\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"Transfer\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"name\":\"s\",\"type\":\"string\"}],\"name\":\"Log\",\"type\":\"event\"}]","ContractName":"BuyBack","CompilerVersion":"v0.4.25+commit.59dbf8f1","OptimizationUsed":"1","Runs":"200","ConstructorArguments":"","Library":"","SwarmSource":"bzzr://7b80ec78022136040f562640bd6e4ac587ea354ad53f81611feb52af546b16d4"}]}