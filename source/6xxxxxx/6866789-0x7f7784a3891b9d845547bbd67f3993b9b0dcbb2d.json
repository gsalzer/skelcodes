{"status":"1","message":"OK","result":[{"SourceCode":"pragma solidity ^0.4.23;\r\n\r\ncontract DrewsReviews {\r\n    \r\n    uint public reviewIndex;\r\n    uint public userReviewIndex;\r\n    address public owner = 0x7753233bfe961eC770602e3F80900E26A5357F36;\r\n    \r\n    mapping (uint => Review) reviewList;\r\n    mapping (uint => userReview) userReviewList;\r\n\r\n\r\n\tstruct Review {\r\n\t\tstring name;\r\n\t\tstring review;\r\n\t\tuint reviewDate;\r\n\t\tuint score;\r\n\t\tstring imageSource;\r\n\t\tuint deleted;\r\n\t}\r\n\r\n\tstruct userReview {\r\n\t\tuint filmId;\r\n\t\tstring userName;\r\n\t\tstring review;\r\n\t\tuint score;\r\n\t\tuint deleted;\r\n\t}\r\n\t\r\nconstructor () public {\r\n    reviewIndex = 0;\r\n    userReviewIndex = 0;\r\n}\r\n\r\nevent newReview(uint _filmId, string _name, string _review, string _imageSource, uint _score);\r\n\r\nevent editedReview(uint _filmId, string _name, string _review, string _imageSource, uint _score, uint _deleted);\r\n\r\nevent newUserReview(uint _filmId, uint _userReviewId, string _userName, string _review, uint _score);\r\n\r\nevent editedUserReview(uint _filmId, uint _userReviewId, string _userName, string _review, uint _score, uint _deleted);\r\n\r\nfunction addReview(string _name, string _review, uint _reviewdate, uint _score, string _imageSource) public {\r\n\tassert(msg.sender == owner);\r\n\r\n    reviewIndex += 1;\r\n    Review memory review = Review (_name, _review, _reviewdate, _score, _imageSource, 0 );\r\n    reviewList[reviewIndex] = review;\r\n    emit newReview(reviewIndex, _name, _review, _imageSource, _score);\r\n}\r\n\r\nfunction editReview(uint _filmId, string _name, string _review, uint _reviewdate, uint _score, string _imageSource, uint _deleted) public {\r\n\tassert(msg.sender == owner);\r\n    \r\n    Review memory review = Review (_name, _review, _reviewdate, _score, _imageSource, _deleted );\r\n\r\n    reviewList[_filmId] = review;\r\n    emit editedReview(_filmId, _name, _review, _imageSource, _score, _deleted);\r\n}\r\n\r\nfunction deleteUserReview(uint _userReviewId) public {\r\n\tassert(msg.sender == owner);\r\n\r\n\tuserReview memory _originalReview = userReviewList[_userReviewId];\r\n    \r\n    userReview memory _userReview = userReview ( _originalReview.filmId, _originalReview.userName, _originalReview.review, _originalReview.score, 1);\r\n    userReviewList[_userReviewId] = _userReview;\r\n    emit editedUserReview(_originalReview.filmId, _userReviewId, _originalReview.userName, _originalReview.review, _originalReview.score, 1);\r\n}\r\n\r\nfunction addUserReview(uint _filmId, string _username, string _review, uint _score) public {\r\n    userReviewIndex += 1;\r\n    \r\n    userReview memory _userReview = userReview (_filmId, _username, _review, _score, 0);\r\n    userReviewList[userReviewIndex] = _userReview;\r\n    emit newUserReview(_filmId, userReviewIndex, _username, _review, _score);\r\n}\r\n\r\nfunction getReview(uint _filmId) view public returns (string, string, uint, uint, string, uint) {\r\n\tReview memory review = reviewList[_filmId];\r\n\treturn (review.name, review.review, review.reviewDate, review.score, review.imageSource, review.deleted);\r\n}\r\n\r\nfunction getUserReview(uint _userReviewId) view public returns (uint, string, string, uint, uint) {\r\n\tuserReview memory _userReview = userReviewList[_userReviewId];\r\n\treturn (_userReview.filmId, _userReview.userName, _userReview.review, _userReview.score, _userReview.deleted);\r\n}\r\n\r\n}","ABI":"[{\"constant\":false,\"inputs\":[{\"name\":\"_filmId\",\"type\":\"uint256\"},{\"name\":\"_username\",\"type\":\"string\"},{\"name\":\"_review\",\"type\":\"string\"},{\"name\":\"_score\",\"type\":\"uint256\"}],\"name\":\"addUserReview\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_name\",\"type\":\"string\"},{\"name\":\"_review\",\"type\":\"string\"},{\"name\":\"_reviewdate\",\"type\":\"uint256\"},{\"name\":\"_score\",\"type\":\"uint256\"},{\"name\":\"_imageSource\",\"type\":\"string\"}],\"name\":\"addReview\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"_userReviewId\",\"type\":\"uint256\"}],\"name\":\"getUserReview\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"},{\"name\":\"\",\"type\":\"string\"},{\"name\":\"\",\"type\":\"string\"},{\"name\":\"\",\"type\":\"uint256\"},{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"owner\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_filmId\",\"type\":\"uint256\"},{\"name\":\"_name\",\"type\":\"string\"},{\"name\":\"_review\",\"type\":\"string\"},{\"name\":\"_reviewdate\",\"type\":\"uint256\"},{\"name\":\"_score\",\"type\":\"uint256\"},{\"name\":\"_imageSource\",\"type\":\"string\"},{\"name\":\"_deleted\",\"type\":\"uint256\"}],\"name\":\"editReview\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"_filmId\",\"type\":\"uint256\"}],\"name\":\"getReview\",\"outputs\":[{\"name\":\"\",\"type\":\"string\"},{\"name\":\"\",\"type\":\"string\"},{\"name\":\"\",\"type\":\"uint256\"},{\"name\":\"\",\"type\":\"uint256\"},{\"name\":\"\",\"type\":\"string\"},{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_userReviewId\",\"type\":\"uint256\"}],\"name\":\"deleteUserReview\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"userReviewIndex\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"reviewIndex\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"name\":\"_filmId\",\"type\":\"uint256\"},{\"indexed\":false,\"name\":\"_name\",\"type\":\"string\"},{\"indexed\":false,\"name\":\"_review\",\"type\":\"string\"},{\"indexed\":false,\"name\":\"_imageSource\",\"type\":\"string\"},{\"indexed\":false,\"name\":\"_score\",\"type\":\"uint256\"}],\"name\":\"newReview\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"name\":\"_filmId\",\"type\":\"uint256\"},{\"indexed\":false,\"name\":\"_name\",\"type\":\"string\"},{\"indexed\":false,\"name\":\"_review\",\"type\":\"string\"},{\"indexed\":false,\"name\":\"_imageSource\",\"type\":\"string\"},{\"indexed\":false,\"name\":\"_score\",\"type\":\"uint256\"},{\"indexed\":false,\"name\":\"_deleted\",\"type\":\"uint256\"}],\"name\":\"editedReview\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"name\":\"_filmId\",\"type\":\"uint256\"},{\"indexed\":false,\"name\":\"_userReviewId\",\"type\":\"uint256\"},{\"indexed\":false,\"name\":\"_userName\",\"type\":\"string\"},{\"indexed\":false,\"name\":\"_review\",\"type\":\"string\"},{\"indexed\":false,\"name\":\"_score\",\"type\":\"uint256\"}],\"name\":\"newUserReview\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"name\":\"_filmId\",\"type\":\"uint256\"},{\"indexed\":false,\"name\":\"_userReviewId\",\"type\":\"uint256\"},{\"indexed\":false,\"name\":\"_userName\",\"type\":\"string\"},{\"indexed\":false,\"name\":\"_review\",\"type\":\"string\"},{\"indexed\":false,\"name\":\"_score\",\"type\":\"uint256\"},{\"indexed\":false,\"name\":\"_deleted\",\"type\":\"uint256\"}],\"name\":\"editedUserReview\",\"type\":\"event\"}]","ContractName":"DrewsReviews","CompilerVersion":"v0.4.23+commit.124ca40d","OptimizationUsed":"0","Runs":"200","ConstructorArguments":"","Library":"","SwarmSource":"bzzr://7c4b09b19a070b632787699bdd22097a869b5110cb0a0903acf50b8fb00a97b7"}]}