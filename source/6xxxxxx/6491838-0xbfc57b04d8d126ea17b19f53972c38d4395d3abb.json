{"status":"1","message":"OK","result":[{"SourceCode":"pragma solidity ^0.4.25;\r\n\r\ncontract DmDesignContract  {    \r\n\r\n    string public constant name = \"https://dm-design.pl\"; \r\n    string public constant facebook = \"https://www.facebook.com/DmDesignPoland/\"; \r\n    string public description = \"Indywidualność, to coś co nas wyróżnia!\";\r\n    \r\n    address public owner_;\r\n    mapping (address => ProductItem) public product;\r\n    uint public totalProducts = 0;\r\n\r\n    struct ProductItem {\r\n        uint confirm;\r\n        uint productNr;\r\n        uint addTime;\r\n        address owner;\r\n        string description;\r\n        string signature;\r\n        string productCode;\r\n    }\r\n    \r\n    constructor() public {\r\n        owner_ = msg.sender;\r\n    }\r\n    \r\n    modifier onlyOwner() {\r\n        require(msg.sender == owner_, \"Not contract owner\");\r\n        _;\r\n    }\r\n    \r\n    function updateDescription(string text) public onlyOwner returns (bool){\r\n        description = text;\r\n        return true;\r\n    }\r\n    \r\n    function changeContractOwner(address newOwner) public onlyOwner returns (bool){\r\n        owner_ = newOwner;\r\n        return true;\r\n    }    \r\n\r\n    function addProduct(address productOwner, uint productNr, string productDescripion, string productCode, string signature) public onlyOwner returns (bool){\r\n        require(product[productOwner].owner == 0x0, \"product already has owner\");\r\n\r\n        product[productOwner].owner = productOwner;\r\n        product[productOwner].confirm = 0;\r\n        product[productOwner].productNr = productNr;\r\n        product[productOwner].description = productDescripion;\r\n        product[productOwner].productCode = productCode;\r\n        product[productOwner].signature = signature;\r\n        product[productOwner].addTime = block.timestamp;\r\n        totalProducts++;\r\n    }\r\n\r\n    function confirmProduct(uint confirmNr) public returns (bool){\r\n        product[msg.sender].confirm = confirmNr;\r\n    }\r\n\r\n    function signProduct(string signatureOwner) public returns (bool){\r\n        require(product[msg.sender].owner != 0x0, \"No produt for this address\");\r\n\r\n        product[msg.sender].signature = signatureOwner;        \r\n    }\r\n\r\n    function resell(address buyer, string signature) public returns (bool){\r\n        require(product[buyer].owner == 0x0, \"buyer already has other product use other address\");\r\n        require(product[msg.sender].owner != 0x0, \"seller has no product\");\r\n\r\n        product[buyer].owner = buyer;\r\n        product[buyer].confirm = 0;\r\n        product[buyer].productNr = product[msg.sender].productNr;\r\n        product[buyer].description = product[msg.sender].description;\r\n        product[buyer].productCode = product[msg.sender].productCode;\r\n        product[buyer].addTime = product[msg.sender].addTime;\r\n        product[buyer].signature = signature;\r\n        \r\n        product[msg.sender].owner = 0x0;        \r\n        product[msg.sender].signature = \"\";     \r\n        product[msg.sender].productNr = 0;   \r\n        product[msg.sender].description = \"\";\r\n        product[msg.sender].productCode = \"\";\r\n        product[msg.sender].confirm = 0;\r\n        product[msg.sender].addTime = 0;\r\n    }\r\n}","ABI":"[{\"constant\":true,\"inputs\":[],\"name\":\"name\",\"outputs\":[{\"name\":\"\",\"type\":\"string\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"\",\"type\":\"address\"}],\"name\":\"product\",\"outputs\":[{\"name\":\"confirm\",\"type\":\"uint256\"},{\"name\":\"productNr\",\"type\":\"uint256\"},{\"name\":\"addTime\",\"type\":\"uint256\"},{\"name\":\"owner\",\"type\":\"address\"},{\"name\":\"description\",\"type\":\"string\"},{\"name\":\"signature\",\"type\":\"string\"},{\"name\":\"productCode\",\"type\":\"string\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"buyer\",\"type\":\"address\"},{\"name\":\"signature\",\"type\":\"string\"}],\"name\":\"resell\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"newOwner\",\"type\":\"address\"}],\"name\":\"changeContractOwner\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"description\",\"outputs\":[{\"name\":\"\",\"type\":\"string\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"confirmNr\",\"type\":\"uint256\"}],\"name\":\"confirmProduct\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"totalProducts\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"productOwner\",\"type\":\"address\"},{\"name\":\"productNr\",\"type\":\"uint256\"},{\"name\":\"productDescripion\",\"type\":\"string\"},{\"name\":\"productCode\",\"type\":\"string\"},{\"name\":\"signature\",\"type\":\"string\"}],\"name\":\"addProduct\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"signatureOwner\",\"type\":\"string\"}],\"name\":\"signProduct\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"facebook\",\"outputs\":[{\"name\":\"\",\"type\":\"string\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"text\",\"type\":\"string\"}],\"name\":\"updateDescription\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"owner_\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"}]","ContractName":"DmDesignContract","CompilerVersion":"v0.4.25+commit.59dbf8f1","OptimizationUsed":"1","Runs":"200","ConstructorArguments":"","Library":"","SwarmSource":"bzzr://a97330e8b6e6d1ccd6423143fd7bc7c872eb0094065add6604556b6c13f5c23e"}]}