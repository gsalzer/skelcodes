{"status":"1","message":"OK","result":[{"SourceCode":"pragma solidity ^0.4.24;\r\n\r\ncontract Whiskey {\r\n    \r\n   event Selling(\r\n        address seller,\r\n        address buyer,\r\n        uint price\r\n    );\r\n\r\n    uint public totalSupply = 201;\r\n    bool private initedCopper = false;\r\n    bool private initedBronze = false;\r\n    bool private initedSilver = false;\r\n    bool private initedGold = false;\r\n    bool private initedPlatinum = false;\r\n    \r\n    struct Bottle {\r\n        uint    id;\r\n        uint    price;\r\n        uint    sellPrice;\r\n        address owner;\r\n        string  name;\r\n        string  info;\r\n        bool    infoLocked;\r\n        bool    saleLocked;\r\n    }\r\n    \r\n    Bottle[202] public bottle;\r\n    \r\n    constructor() public {\r\n            bottle[1].id = 1;\r\n            bottle[1].price = 1 ether;\r\n            bottle[1].sellPrice = 1 ether;\r\n            bottle[1].owner = msg.sender;\r\n            bottle[1].infoLocked = false;\r\n            bottle[1].saleLocked = false;\r\n            bottle[201].id = 201;\r\n            bottle[201].price = 50000 ether;\r\n            bottle[201].sellPrice = 5000 ether;\r\n            bottle[201].owner = msg.sender;\r\n            bottle[201].infoLocked = false;\r\n            bottle[201].saleLocked = false;\r\n    }\r\n    \r\n    function initCopper() public {\r\n        if (initedCopper == false){\r\n            for (uint i = 2; i < 31; i++) {\r\n                bottle[i].id = i;\r\n                bottle[i].price = 15 ether;\r\n                bottle[i].sellPrice = 15 ether;\r\n                bottle[i].owner = msg.sender;\r\n                bottle[i].infoLocked = false;\r\n                bottle[i].saleLocked = false;\r\n            }\r\n            initedCopper = true;\r\n        }\r\n    }\r\n    \r\n    function initBronze() public {\r\n        if (initedBronze == false) {\r\n            for (uint i = 31; i < 71; i++) {\r\n                bottle[i].id = i;\r\n                bottle[i].price = 35 ether;\r\n                bottle[i].sellPrice = 35 ether;\r\n                bottle[i].owner = msg.sender;\r\n                bottle[i].infoLocked = false;\r\n                bottle[i].saleLocked = false;\r\n            }\r\n            initedBronze = true;\r\n        }\r\n    }\r\n    \r\n    function initSilver() public {\r\n         if (initedSilver == false) {\r\n             for (uint i = 71; i < 131; i++) {\r\n                bottle[i].id = i;\r\n                bottle[i].price = 50 ether;\r\n                bottle[i].sellPrice = 50 ether;\r\n                bottle[i].owner = msg.sender;\r\n                bottle[i].infoLocked = false;\r\n                bottle[i].saleLocked = false;\r\n            }\r\n            initedSilver = true;\r\n         }\r\n    }\r\n    \r\n    function initGold() public {\r\n         if (initedGold == false) {\r\n             for (uint i = 131; i < 171; i++) {\r\n                bottle[i].id = i;\r\n                bottle[i].price = 65 ether;\r\n                bottle[i].sellPrice = 65 ether;\r\n                bottle[i].owner = msg.sender;\r\n                bottle[i].infoLocked = false;\r\n                bottle[i].saleLocked = false;\r\n            }\r\n            initedGold = true;    \r\n        }\r\n    }\r\n    \r\n    function initPlatinum() public {\r\n        if (initedPlatinum == false) {\r\n            for (uint i = 171; i < 201; i++) {\r\n                bottle[i].id = i;\r\n                bottle[i].price = 85 ether;\r\n                bottle[i].sellPrice = 85 ether;\r\n                bottle[i].owner = msg.sender;\r\n                bottle[i].infoLocked = false;\r\n                bottle[i].saleLocked = false;\r\n            }\r\n            initedPlatinum = true;\r\n        }\r\n    }\r\n    \r\n    function sell(uint price, uint id) public {\r\n        if (bottle[id].owner == msg.sender && price > bottle[id].price){\r\n            bottle[id].sellPrice = price;\r\n            bottle[id].saleLocked = false;\r\n        }\r\n    }\r\n    \r\n    function cancelSell (uint id) public {\r\n        if (bottle[id].owner == msg.sender) {\r\n            bottle[id].sellPrice = 0;\r\n            bottle[id].saleLocked = true;\r\n        }\r\n    }\r\n    \r\n    function buy(uint id) public payable {\r\n        if(bottle[id].sellPrice != msg.value || bottle[id].saleLocked == true) {\r\n        \trevert();\r\n        }\r\n        address seller = bottle[id].owner;\r\n        bottle[id].owner.transfer(msg.value);     \r\n        bottle[id].owner = msg.sender;\r\n        bottle[id].price = msg.value;\r\n        bottle[id].infoLocked = false;\r\n        bottle[id].saleLocked = true;\r\n        emit Selling(seller, msg.sender, msg.value);\r\n        \r\n    }\r\n    \r\n    function changeInfo(uint id, string name, string info) public {\r\n\r\n        if(bottle[id].owner == msg.sender) {\r\n            bottle[id].name = name;\r\n            bottle[id].info = info;\r\n            bottle[id].infoLocked = true;    \r\n        }\r\n    }\r\n    \r\n    function gift(uint id, address newOwner) public {\r\n        if(bottle[id].owner == msg.sender) {\r\n            bottle[id].owner = newOwner;\r\n            bottle[id].infoLocked = false;\r\n        }\r\n    }\r\n}","ABI":"[{\"constant\":false,\"inputs\":[{\"name\":\"id\",\"type\":\"uint256\"}],\"name\":\"cancelSell\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"totalSupply\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[],\"name\":\"initBronze\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"id\",\"type\":\"uint256\"},{\"name\":\"newOwner\",\"type\":\"address\"}],\"name\":\"gift\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[],\"name\":\"initPlatinum\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[],\"name\":\"initGold\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"bottle\",\"outputs\":[{\"name\":\"id\",\"type\":\"uint256\"},{\"name\":\"price\",\"type\":\"uint256\"},{\"name\":\"sellPrice\",\"type\":\"uint256\"},{\"name\":\"owner\",\"type\":\"address\"},{\"name\":\"name\",\"type\":\"string\"},{\"name\":\"info\",\"type\":\"string\"},{\"name\":\"infoLocked\",\"type\":\"bool\"},{\"name\":\"saleLocked\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"id\",\"type\":\"uint256\"},{\"name\":\"name\",\"type\":\"string\"},{\"name\":\"info\",\"type\":\"string\"}],\"name\":\"changeInfo\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"price\",\"type\":\"uint256\"},{\"name\":\"id\",\"type\":\"uint256\"}],\"name\":\"sell\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"id\",\"type\":\"uint256\"}],\"name\":\"buy\",\"outputs\":[],\"payable\":true,\"stateMutability\":\"payable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[],\"name\":\"initCopper\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[],\"name\":\"initSilver\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"name\":\"seller\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"buyer\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"price\",\"type\":\"uint256\"}],\"name\":\"Selling\",\"type\":\"event\"}]","ContractName":"Whiskey","CompilerVersion":"v0.4.24+commit.e67f0147","OptimizationUsed":"1","Runs":"200","ConstructorArguments":"","Library":"","SwarmSource":"bzzr://7f0a50e3da4d9d25d97eeb930257284ccf924f7bb70b27eb7967c8e247ccb235"}]}