{"status":"1","message":"OK","result":[{"SourceCode":"pragma solidity ^0.4.13;\r\n\r\ncontract Database\r\n{\r\n    address public m_Owner;\r\n    address public m_Owner2;\r\n    address public m_Creator;\r\n    AbstractRandom m_RandomGen = AbstractRandom(0x3936fba4dc8cf1e2746423a04f5c6b4ade033e81);\r\n    BitGuildToken public tokenContract = BitGuildToken(0x7E43581b19ab509BCF9397a2eFd1ab10233f27dE); // Predefined PLAT token address\r\n    mapping(address => mapping(uint256 => mapping(uint256 => bytes32))) public m_Data;\r\n    mapping(address => bool)  public trustedContracts;\r\n\r\n    modifier OnlyOwnerAndContracts()\r\n    {\r\n        require(msg.sender == m_Owner || msg.sender == m_Owner2 || msg.sender== m_Creator || trustedContracts[msg.sender]);\r\n        _;\r\n    }\r\n\r\n    function ChangeRandomGen(address rg) public OnlyOwnerAndContracts(){\r\n        m_RandomGen = AbstractRandom(rg);\r\n    }\r\n\r\n    function() public payable\r\n    {\r\n\r\n    }\r\n\r\n    function Database() public\r\n    {\r\n        m_Owner = address(0);\r\n        m_Owner2 = address(0);\r\n        m_Creator = msg.sender;\r\n    }\r\n\r\n    function ChangeOwner(address new_owner) OnlyOwnerAndContracts() public\r\n    {\r\n        require(msg.sender == m_Owner || msg.sender == m_Creator || msg.sender == m_Owner2);\r\n\r\n        m_Owner = new_owner;\r\n    }\r\n\r\n    function ChangeOwner2(address new_owner2) OnlyOwnerAndContracts() public\r\n    {\r\n        require(msg.sender == m_Owner || msg.sender == m_Creator || msg.sender == m_Owner2);\r\n\r\n        m_Owner2 = new_owner2;\r\n    }\r\n\r\n    function ChangeAddressTrust(address contract_address,bool trust_flag) public OnlyOwnerAndContracts()\r\n    {\r\n        trustedContracts[contract_address] = trust_flag;\r\n    }\r\n\r\n    function Store(address user, uint256 category, uint256 index, bytes32 data) public OnlyOwnerAndContracts()\r\n    {\r\n        m_Data[user][category][index] = data;\r\n    }\r\n\r\n    function Load(address user, uint256 category, uint256 index) public view returns (bytes32)\r\n    {\r\n        return m_Data[user][category][index];\r\n    }\r\n\r\n    function TransferFunds(address target, uint256 transfer_amount) public OnlyOwnerAndContracts()\r\n    {\r\n        tokenContract.transfer(target,transfer_amount);\r\n    }\r\n\r\n    function getRandom(uint256 _upper, uint8 _seed) public OnlyOwnerAndContracts() returns (uint256 number){\r\n        number = m_RandomGen.random(_upper,_seed);\r\n\r\n        return number;\r\n    }\r\n \r\n    \r\n\r\n}\r\ncontract BitGuildToken{\r\n    function transfer(address _to, uint256 _value) public;\r\n}\r\ncontract AbstractRandom\r\n{\r\n    function random(uint256 upper, uint8 seed) public returns (uint256 number);\r\n}","ABI":"[{\"constant\":true,\"inputs\":[],\"name\":\"m_Creator\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"user\",\"type\":\"address\"},{\"name\":\"category\",\"type\":\"uint256\"},{\"name\":\"index\",\"type\":\"uint256\"},{\"name\":\"data\",\"type\":\"bytes32\"}],\"name\":\"Store\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"user\",\"type\":\"address\"},{\"name\":\"category\",\"type\":\"uint256\"},{\"name\":\"index\",\"type\":\"uint256\"}],\"name\":\"Load\",\"outputs\":[{\"name\":\"\",\"type\":\"bytes32\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"new_owner2\",\"type\":\"address\"}],\"name\":\"ChangeOwner2\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_upper\",\"type\":\"uint256\"},{\"name\":\"_seed\",\"type\":\"uint8\"}],\"name\":\"getRandom\",\"outputs\":[{\"name\":\"number\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"rg\",\"type\":\"address\"}],\"name\":\"ChangeRandomGen\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"m_Owner2\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"tokenContract\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"\",\"type\":\"address\"},{\"name\":\"\",\"type\":\"uint256\"},{\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"m_Data\",\"outputs\":[{\"name\":\"\",\"type\":\"bytes32\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"target\",\"type\":\"address\"},{\"name\":\"transfer_amount\",\"type\":\"uint256\"}],\"name\":\"TransferFunds\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"m_Owner\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"contract_address\",\"type\":\"address\"},{\"name\":\"trust_flag\",\"type\":\"bool\"}],\"name\":\"ChangeAddressTrust\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"\",\"type\":\"address\"}],\"name\":\"trustedContracts\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"new_owner\",\"type\":\"address\"}],\"name\":\"ChangeOwner\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"payable\":true,\"stateMutability\":\"payable\",\"type\":\"fallback\"}]","ContractName":"Database","CompilerVersion":"v0.4.24+commit.e67f0147","OptimizationUsed":"1","Runs":"200","ConstructorArguments":"","Library":"","SwarmSource":"bzzr://a2535f5428eaa16fc6665c508540171ca89d4afd9bd80cc667e4b01464081a85"}]}