{"status":"1","message":"OK","result":[{"SourceCode":"pragma solidity 0.4.24;\r\npragma experimental \"v0.5.0\";\r\n\r\n/*\r\n\r\n    Copyright 2018 dYdX Trading Inc.\r\n\r\n    Licensed under the Apache License, Version 2.0 (the \"License\");\r\n    you may not use this file except in compliance with the License.\r\n    You may obtain a copy of the License at\r\n\r\n    http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n    Unless required by applicable law or agreed to in writing, software\r\n    distributed under the License is distributed on an \"AS IS\" BASIS,\r\n    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n    See the License for the specific language governing permissions and\r\n    limitations under the License.\r\n\r\n*/\r\n\r\n// File: canonical-weth/contracts/WETH9.sol\r\n\r\ncontract WETH9 {\r\n    string public name     = \"Wrapped Ether\";\r\n    string public symbol   = \"WETH\";\r\n    uint8  public decimals = 18;\r\n\r\n    event  Approval(address indexed src, address indexed guy, uint wad);\r\n    event  Transfer(address indexed src, address indexed dst, uint wad);\r\n    event  Deposit(address indexed dst, uint wad);\r\n    event  Withdrawal(address indexed src, uint wad);\r\n\r\n    mapping (address => uint)                       public  balanceOf;\r\n    mapping (address => mapping (address => uint))  public  allowance;\r\n\r\n    function() external payable {\r\n        deposit();\r\n    }\r\n    function deposit() public payable {\r\n        balanceOf[msg.sender] += msg.value;\r\n        emit Deposit(msg.sender, msg.value);\r\n    }\r\n    function withdraw(uint wad) public {\r\n        require(balanceOf[msg.sender] >= wad);\r\n        balanceOf[msg.sender] -= wad;\r\n        msg.sender.transfer(wad);\r\n        emit Withdrawal(msg.sender, wad);\r\n    }\r\n\r\n    function totalSupply() public view returns (uint) {\r\n        return address(this).balance;\r\n    }\r\n\r\n    function approve(address guy, uint wad) public returns (bool) {\r\n        allowance[msg.sender][guy] = wad;\r\n        emit Approval(msg.sender, guy, wad);\r\n        return true;\r\n    }\r\n\r\n    function transfer(address dst, uint wad) public returns (bool) {\r\n        return transferFrom(msg.sender, dst, wad);\r\n    }\r\n\r\n    function transferFrom(address src, address dst, uint wad)\r\n        public\r\n        returns (bool)\r\n    {\r\n        require(balanceOf[src] >= wad);\r\n\r\n        if (src != msg.sender && allowance[src][msg.sender] != uint(-1)) {\r\n            require(allowance[src][msg.sender] >= wad);\r\n            allowance[src][msg.sender] -= wad;\r\n        }\r\n\r\n        balanceOf[src] -= wad;\r\n        balanceOf[dst] += wad;\r\n\r\n        emit Transfer(src, dst, wad);\r\n\r\n        return true;\r\n    }\r\n}\r\n\r\n// File: contracts/margin/interfaces/PayoutRecipient.sol\r\n\r\n/**\r\n * @title PayoutRecipient\r\n * @author dYdX\r\n *\r\n * Interface that smart contracts must implement in order to be the payoutRecipient in a\r\n * closePosition transaction.\r\n *\r\n * NOTE: Any contract implementing this interface should also use OnlyMargin to control access\r\n *       to these functions\r\n */\r\ninterface PayoutRecipient {\r\n\r\n    // ============ Public Interface functions ============\r\n\r\n    /**\r\n     * Function a contract must implement in order to receive payout from being the payoutRecipient\r\n     * in a closePosition transaction. May redistribute any payout as necessary. Throws on error.\r\n     *\r\n     * @param  positionId         Unique ID of the position\r\n     * @param  closeAmount        Amount of the position that was closed\r\n     * @param  closer             Address of the account or contract that closed the position\r\n     * @param  positionOwner      Address of the owner of the position\r\n     * @param  heldToken          Address of the ERC20 heldToken\r\n     * @param  payout             Number of tokens received from the payout\r\n     * @param  totalHeldToken     Total amount of heldToken removed from vault during close\r\n     * @param  payoutInHeldToken  True if payout is in heldToken, false if in owedToken\r\n     * @return                    True if approved by the receiver\r\n     */\r\n    function receiveClosePositionPayout(\r\n        bytes32 positionId,\r\n        uint256 closeAmount,\r\n        address closer,\r\n        address positionOwner,\r\n        address heldToken,\r\n        uint256 payout,\r\n        uint256 totalHeldToken,\r\n        bool    payoutInHeldToken\r\n    )\r\n        external\r\n        /* onlyMargin */\r\n        returns (bool);\r\n}\r\n\r\n// File: contracts/margin/external/payoutrecipients/WethPayoutRecipient.sol\r\n\r\n/**\r\n * @title WethPayoutRecipient\r\n * @author dYdX\r\n *\r\n * Contract that allows a closer to payout W-ETH to this contract, which will unwrap it and send it\r\n * to the closer.\r\n */\r\ncontract WethPayoutRecipient is\r\n    PayoutRecipient\r\n{\r\n    // ============ Constants ============\r\n\r\n    address public WETH;\r\n\r\n    // ============ Constructor ============\r\n\r\n    constructor(\r\n        address weth\r\n    )\r\n        public\r\n    {\r\n        WETH = weth;\r\n    }\r\n\r\n    // ============ Public Functions ============\r\n\r\n    /**\r\n     * Fallback function. Disallows ether to be sent to this contract without data except when\r\n     * unwrapping WETH.\r\n     */\r\n    function ()\r\n        external\r\n        payable\r\n    {\r\n        require( // coverage-disable-line\r\n            msg.sender == WETH,\r\n            \"WethPayoutRecipient#fallback: Cannot recieve ETH directly unless unwrapping WETH\"\r\n        );\r\n    }\r\n\r\n    /**\r\n     * Function to implement the PayoutRecipient interface.\r\n     */\r\n    function receiveClosePositionPayout(\r\n        bytes32 /* positionId */ ,\r\n        uint256 /* closeAmount */,\r\n        address closer,\r\n        address /* positionOwner */,\r\n        address /* heldToken */,\r\n        uint256 payout,\r\n        uint256 /* totalHeldToken */,\r\n        bool    /* payoutInHeldToken */\r\n    )\r\n        external\r\n        returns (bool)\r\n    {\r\n        WETH9(WETH).withdraw(payout);\r\n        closer.transfer(payout);\r\n\r\n        return true;\r\n    }\r\n}","ABI":"[{\"constant\":false,\"inputs\":[{\"name\":\"\",\"type\":\"bytes32\"},{\"name\":\"\",\"type\":\"uint256\"},{\"name\":\"closer\",\"type\":\"address\"},{\"name\":\"\",\"type\":\"address\"},{\"name\":\"\",\"type\":\"address\"},{\"name\":\"payout\",\"type\":\"uint256\"},{\"name\":\"\",\"type\":\"uint256\"},{\"name\":\"\",\"type\":\"bool\"}],\"name\":\"receiveClosePositionPayout\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"WETH\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"name\":\"weth\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"payable\":true,\"stateMutability\":\"payable\",\"type\":\"fallback\"}]","ContractName":"WethPayoutRecipient","CompilerVersion":"v0.4.24+commit.e67f0147","OptimizationUsed":"1","Runs":"10000","ConstructorArguments":"000000000000000000000000c02aaa39b223fe8d0a0e5c4f27ead9083c756cc2","Library":"","SwarmSource":"bzzr://24025e8077d6e3b9a1b6984bff67e4cb2d85f374b3f03e710d2b1ca5f664145a"}]}