{"status":"1","message":"OK","result":[{"SourceCode":"pragma solidity ^0.4.25;\r\n\r\n/*\r\n*   EBIC2019 smart contract\r\n*   Created by DAPCAR ( https://dapcar.io/ )\r\n*   Copyright Â© European Blockchain Investment Congress 2019. All rights reserved.\r\n*   http://ebic2019.com/\r\n*/\r\n\r\ninterface IERC20 {\r\n    function totalSupply() public constant returns (uint256);\r\n    function balanceOf(address _owner) public constant returns (uint256 balance);\r\n    function allowance(address _owner, address _spender) public constant returns (uint256 remaining);\r\n    function transfer(address _to, uint256 _value) public returns (bool success);\r\n    function approve(address _spender, uint256 _value) public returns (bool success);\r\n    function transferFrom(address _from, address _to, uint256 _value) public returns (bool success);\r\n\r\n    event Transfer(address indexed from, address indexed to, uint256 value);\r\n    event Approval(address indexed owner, address indexed spender, uint256 value);\r\n}\r\n\r\ncontract EBIC2019 {\r\n    \r\n    event PackageSent(address indexed sender, address indexed wallet, uint256 packageIndex, uint256 time);\r\n    event Withdraw(address indexed sender, address indexed wallet, uint256 amount);\r\n    event WithdrawTokens(address indexed sender, address indexed wallet, address indexed token, uint256 amount);\r\n    event DappPurpose(address indexed dappAddress);\r\n    event Suicide();\r\n    \r\n    address public owner;\r\n    address public dapp;\r\n    \r\n    struct Package {\r\n        Token[] tokens;\r\n        bool enabled;\r\n    }\r\n    \r\n    struct Token {\r\n        address smartAddress;\r\n        uint256 amount;\r\n    }\r\n    \r\n    Package[] packages;\r\n    uint256 public packageCount;\r\n    \r\n    mapping (address => uint256) public packageSent;\r\n    uint256 public packageSentCount;\r\n    \r\n    constructor() \r\n    {\r\n        owner = msg.sender;\r\n        \r\n        packages.length++;\r\n    }\r\n    \r\n    function () \r\n    external \r\n    payable \r\n    {\r\n\t}\r\n\t\r\n\tfunction packageCreate()\r\n\tpublic\r\n\treturns (uint256 _index)\r\n\t{\r\n\t    require(msg.sender == owner);\r\n\t    \r\n\t    uint256 index = packages.length++;\r\n\t    _index = index--;\r\n\t    Package storage package = packages[_index];\r\n\t    package.enabled = true;\r\n\t    packageCount++;\r\n\t}\r\n\t\r\n\tfunction packageTokenCreate(uint256 _packageIndex, address _token, uint256 _amount)\r\n\tpublic\r\n\treturns (bool _success)\r\n\t{\r\n\t    _success = false;\r\n\t    \r\n\t    require(msg.sender == owner);\r\n\t    require(_packageIndex > 0 && _packageIndex <= packageCount);\r\n\t    require(_token != address(0));\r\n\t    require(_amount > 0);\r\n\t    \r\n\t    Token memory token = Token({\r\n\t        smartAddress: _token,\r\n\t        amount: _amount\r\n\t    });\r\n\t    \r\n\t    Package storage package = packages[_packageIndex];\r\n\t    package.tokens.push(token);\r\n\t    \r\n\t    _success = true;\r\n\t}\r\n\t\r\n\tfunction packageEnabled(uint256 _packageIndex, bool _enabled)\r\n\tpublic\r\n\treturns (bool _success)\r\n\t{\r\n\t    _success = false;\r\n\t    require(msg.sender == owner);\r\n\t    require(_packageIndex > 0 && _packageIndex <= packageCount);\r\n\t    \r\n\t    Package storage package = packages[_packageIndex];\r\n\t    package.enabled = _enabled;\r\n\t    \r\n\t    _success = true;\r\n\t}\r\n\t\r\n\tfunction packageView(uint256 _packageIndex)\r\n\tview\r\n\tpublic\r\n\treturns (uint256 _tokensCount, bool _enabled)\r\n\t{\r\n\t    require(_packageIndex > 0 && _packageIndex <= packageCount);\r\n\t    \r\n\t    Package memory package = packages[_packageIndex];\r\n\t    \r\n\t    _tokensCount = package.tokens.length;\r\n\t    _enabled = package.enabled;\r\n\t}\r\n\t\r\n\tfunction packageTokenView(uint256 _packageIndex, uint256 _tokenIndex)\r\n\tview\r\n\tpublic\r\n\treturns (address _token, uint256 _amount)\r\n\t{\r\n\t    require(_packageIndex > 0 && _packageIndex <= packageCount);\r\n\t    \r\n\t    Package memory package = packages[_packageIndex];\r\n\t    \r\n\t    require(_tokenIndex < package.tokens.length);\r\n\t    \r\n\t    Token memory token = package.tokens[_tokenIndex];\r\n\t    _token = token.smartAddress;\r\n\t    _amount = token.amount;\r\n\t}\r\n\t\r\n\tfunction packageSend(address _wallet, uint256 _packageIndex)\r\n\tpublic\r\n\treturns (bool _success)\r\n\t{\r\n\t    _success = false;\r\n\t    \r\n\t    require(msg.sender == owner || msg.sender == dapp);\r\n\t    require(_wallet != address(0));\r\n\t    require(_packageIndex > 0);\r\n\t    require(packageSent[_wallet] != _packageIndex);\r\n\t    \r\n\t    Package memory package = packages[_packageIndex];\r\n\t    require(package.enabled);\r\n\t    \r\n\t    for(uint256 index = 0; index < package.tokens.length; index++){\r\n\t        require(IERC20(package.tokens[index].smartAddress).transfer(_wallet, package.tokens[index].amount));\r\n\t    }\r\n\t    \r\n\t    packageSent[_wallet] = _packageIndex;\r\n\t    packageSentCount++;\r\n\t    \r\n\t    emit PackageSent(msg.sender, _wallet, _packageIndex, now);\r\n\t    \r\n\t    _success = true;\r\n\t}\r\n\t\r\n\tfunction dappPurpose(address _dappAddress)\r\n\tpublic\r\n\treturns (bool _success) \r\n\t{\r\n\t    _success = false;\r\n\t    \r\n\t    require(msg.sender == owner);\r\n\t    \r\n        dapp = _dappAddress;\r\n        emit DappPurpose(dapp);\r\n\t    \r\n\t    _success = true;\r\n\t}\r\n\t\r\n\tfunction balanceOfTokens(address _token)\r\n    public \r\n    constant\r\n    returns (uint256 _amount) \r\n    {\r\n        require(_token != address(0));\r\n        \r\n        return IERC20(_token).balanceOf(address(this));\r\n    }\r\n    \r\n    function withdrawTokens(address _token, uint256 _amount)\r\n    public \r\n    returns (bool _success) \r\n    {\r\n        require(msg.sender == owner);\r\n        require(_token != address(0));\r\n\r\n        bool result = IERC20(_token).transfer(owner, _amount);\r\n        if (result) {\r\n            emit WithdrawTokens(msg.sender, owner, _token, _amount);\r\n        }\r\n        return result;\r\n    }\r\n    \r\n    function withdraw()\r\n    public \r\n    returns (bool success)\r\n    {\r\n        require(msg.sender == owner);\r\n\r\n        emit Withdraw(msg.sender, owner, address(this).balance);\r\n        owner.transfer(address(this).balance);\r\n        return true;\r\n    }\r\n    \r\n    function suicide()\r\n    public\r\n    {\r\n        require(msg.sender == owner);\r\n        \r\n        emit Suicide();\r\n        selfdestruct(owner);\r\n    }\r\n    \r\n    \r\n    \r\n}","ABI":"[{\"constant\":false,\"inputs\":[{\"name\":\"_token\",\"type\":\"address\"},{\"name\":\"_amount\",\"type\":\"uint256\"}],\"name\":\"withdrawTokens\",\"outputs\":[{\"name\":\"_success\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_packageIndex\",\"type\":\"uint256\"},{\"name\":\"_enabled\",\"type\":\"bool\"}],\"name\":\"packageEnabled\",\"outputs\":[{\"name\":\"_success\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"packageSentCount\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"_packageIndex\",\"type\":\"uint256\"}],\"name\":\"packageView\",\"outputs\":[{\"name\":\"_tokensCount\",\"type\":\"uint256\"},{\"name\":\"_enabled\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_packageIndex\",\"type\":\"uint256\"},{\"name\":\"_token\",\"type\":\"address\"},{\"name\":\"_amount\",\"type\":\"uint256\"}],\"name\":\"packageTokenCreate\",\"outputs\":[{\"name\":\"_success\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_dappAddress\",\"type\":\"address\"}],\"name\":\"dappPurpose\",\"outputs\":[{\"name\":\"_success\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"_token\",\"type\":\"address\"}],\"name\":\"balanceOfTokens\",\"outputs\":[{\"name\":\"_amount\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[],\"name\":\"packageCreate\",\"outputs\":[{\"name\":\"_index\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[],\"name\":\"withdraw\",\"outputs\":[{\"name\":\"success\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_wallet\",\"type\":\"address\"},{\"name\":\"_packageIndex\",\"type\":\"uint256\"}],\"name\":\"packageSend\",\"outputs\":[{\"name\":\"_success\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"_packageIndex\",\"type\":\"uint256\"},{\"name\":\"_tokenIndex\",\"type\":\"uint256\"}],\"name\":\"packageTokenView\",\"outputs\":[{\"name\":\"_token\",\"type\":\"address\"},{\"name\":\"_amount\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"\",\"type\":\"address\"}],\"name\":\"packageSent\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"owner\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"dapp\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[],\"name\":\"suicide\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"packageCount\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"payable\":true,\"stateMutability\":\"payable\",\"type\":\"fallback\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"name\":\"sender\",\"type\":\"address\"},{\"indexed\":true,\"name\":\"wallet\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"packageIndex\",\"type\":\"uint256\"},{\"indexed\":false,\"name\":\"time\",\"type\":\"uint256\"}],\"name\":\"PackageSent\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"name\":\"sender\",\"type\":\"address\"},{\"indexed\":true,\"name\":\"wallet\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"Withdraw\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"name\":\"sender\",\"type\":\"address\"},{\"indexed\":true,\"name\":\"wallet\",\"type\":\"address\"},{\"indexed\":true,\"name\":\"token\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"WithdrawTokens\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"name\":\"dappAddress\",\"type\":\"address\"}],\"name\":\"DappPurpose\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[],\"name\":\"Suicide\",\"type\":\"event\"}]","ContractName":"EBIC2019","CompilerVersion":"v0.4.25+commit.59dbf8f1","OptimizationUsed":"1","Runs":"200","ConstructorArguments":"","Library":"","SwarmSource":"bzzr://035ba895212329d829d8c972feeee282d2974f677eac97ecba39e86d101e9e83"}]}