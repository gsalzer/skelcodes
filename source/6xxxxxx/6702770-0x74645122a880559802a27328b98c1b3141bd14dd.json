{"status":"1","message":"OK","result":[{"SourceCode":"pragma solidity 0.4.24;\r\n\r\n// File: contracts/interfaces/IRegistry.sol\r\n\r\n// limited ContractRegistry definition\r\ninterface IRegistry {\r\n  function owner()\r\n    external\r\n    returns(address);\r\n\r\n  function updateContractAddress(\r\n    string _name,\r\n    address _address\r\n  )\r\n    external\r\n    returns (address);\r\n\r\n  function getContractAddress(\r\n    string _name\r\n  )\r\n    external\r\n    view\r\n    returns (address);\r\n}\r\n\r\n// File: contracts/interfaces/IPoaManager.sol\r\n\r\ninterface IPoaManager {\r\n  function getTokenStatus(\r\n    address _tokenAddress\r\n  )\r\n    external\r\n    view\r\n    returns (bool);\r\n}\r\n\r\n// File: contracts/interfaces/IPoaToken.sol\r\n\r\ninterface IPoaToken {\r\n  function initializeToken\r\n  (\r\n    bytes32 _name32, // bytes32 of name string\r\n    bytes32 _symbol32, // bytes32 of symbol string\r\n    address _broker,\r\n    address _custodian,\r\n    address _registry,\r\n    uint256 _totalSupply // token total supply\r\n  )\r\n    external\r\n    returns (bool);\r\n\r\n  function startPreFunding()\r\n    external\r\n    returns (bool);\r\n\r\n  function pause()\r\n    external;\r\n\r\n  function unpause()\r\n    external;\r\n\r\n  function terminate()\r\n    external\r\n    returns (bool);\r\n\r\n  function proofOfCustody()\r\n    external\r\n    view\r\n    returns (string);\r\n}\r\n\r\n// File: contracts/PoaLogger.sol\r\n\r\ncontract PoaLogger {\r\n  uint8 public constant version = 1;\r\n  // registry instance to get other contract addresses\r\n  IRegistry public registry;\r\n\r\n  constructor(\r\n    address _registryAddress\r\n  )\r\n    public\r\n  {\r\n    require(_registryAddress != address(0));\r\n    registry = IRegistry(_registryAddress);\r\n  }\r\n\r\n  // only allow listed poa tokens to trigger events\r\n  modifier onlyActivePoaToken() {\r\n    require(\r\n      IPoaManager(\r\n        registry.getContractAddress(\"PoaManager\")\r\n      ).getTokenStatus(msg.sender)\r\n    );\r\n    _;\r\n  }\r\n\r\n  // possible events from a PoaToken\r\n  event Stage(\r\n    address indexed tokenAddress,\r\n    uint256 stage\r\n  );\r\n  event Buy(\r\n    address indexed tokenAddress,\r\n    address indexed buyer,\r\n    uint256 amount\r\n  );\r\n  event ProofOfCustodyUpdated(\r\n    address indexed tokenAddress,\r\n    string ipfsHash\r\n  );\r\n  event Payout(\r\n    address indexed tokenAddress,\r\n    uint256 amount\r\n  );\r\n  event Claim(\r\n    address indexed tokenAddress,\r\n    address indexed claimer,\r\n    uint256 payout\r\n  );\r\n  event Terminated(\r\n    address indexed tokenAddress\r\n  );\r\n  event CustodianChanged(\r\n    address indexed tokenAddress,\r\n    address oldAddress,\r\n    address newAddress\r\n  );\r\n  event ReClaim(\r\n    address indexed tokenAddress,\r\n    address indexed reclaimer,\r\n    uint256 amount\r\n  );\r\n\r\n  // possible events from PoaProxy\r\n  event ProxyUpgraded(\r\n    address indexed tokenAddress,\r\n    address upgradedFrom,\r\n    address upgradedTo\r\n  );\r\n\r\n  // event triggers for each event\r\n  function logStage(\r\n    uint256 stage\r\n  )\r\n    external\r\n    onlyActivePoaToken\r\n  {\r\n    emit Stage(msg.sender, stage);\r\n  }\r\n\r\n  function logBuy(\r\n    address buyer,\r\n    uint256 amount\r\n  )\r\n    external\r\n    onlyActivePoaToken\r\n  {\r\n    emit Buy(msg.sender, buyer, amount);\r\n  }\r\n\r\n  function logProofOfCustodyUpdated()\r\n    external\r\n    onlyActivePoaToken\r\n  {\r\n    // easier to get the set ipfsHash from contract rather than send over string\r\n    string memory _realIpfsHash = IPoaToken(msg.sender).proofOfCustody();\r\n\r\n    emit ProofOfCustodyUpdated(\r\n      msg.sender,\r\n      _realIpfsHash\r\n    );\r\n  }\r\n\r\n  function logPayout(\r\n    uint256 _amount\r\n  )\r\n    external\r\n    onlyActivePoaToken\r\n  {\r\n    emit Payout(\r\n      msg.sender,\r\n      _amount\r\n    );\r\n  }\r\n\r\n  function logClaim(\r\n    address _claimer,\r\n    uint256 _payout\r\n    )\r\n    external\r\n    onlyActivePoaToken\r\n  {\r\n    emit Claim(\r\n      msg.sender,\r\n      _claimer,\r\n      _payout\r\n    );\r\n  }\r\n\r\n  function logTerminated()\r\n    external\r\n    onlyActivePoaToken\r\n  {\r\n    emit Terminated(msg.sender);\r\n  }\r\n\r\n  function logCustodianChanged(\r\n    address _oldAddress,\r\n    address _newAddress\r\n  )\r\n    external\r\n    onlyActivePoaToken\r\n  {\r\n    emit CustodianChanged(\r\n      msg.sender,\r\n      _oldAddress,\r\n      _newAddress\r\n    );\r\n  }\r\n\r\n  function logReClaim(\r\n    address _reclaimer,\r\n    uint256 _amount\r\n  )\r\n    external\r\n    onlyActivePoaToken\r\n  {\r\n    emit ReClaim(\r\n      msg.sender,\r\n      _reclaimer,\r\n      _amount\r\n    );\r\n  }\r\n\r\n  function logProxyUpgraded(\r\n    address _upgradedFrom,\r\n    address _upgradedTo\r\n  )\r\n    external\r\n    onlyActivePoaToken\r\n  {\r\n    emit ProxyUpgraded(\r\n      msg.sender,\r\n      _upgradedFrom,\r\n      _upgradedTo\r\n    );\r\n  }\r\n}","ABI":"[{\"constant\":false,\"inputs\":[{\"name\":\"_reclaimer\",\"type\":\"address\"},{\"name\":\"_amount\",\"type\":\"uint256\"}],\"name\":\"logReClaim\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_claimer\",\"type\":\"address\"},{\"name\":\"_payout\",\"type\":\"uint256\"}],\"name\":\"logClaim\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"stage\",\"type\":\"uint256\"}],\"name\":\"logStage\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[],\"name\":\"logTerminated\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"version\",\"outputs\":[{\"name\":\"\",\"type\":\"uint8\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_oldAddress\",\"type\":\"address\"},{\"name\":\"_newAddress\",\"type\":\"address\"}],\"name\":\"logCustodianChanged\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_upgradedFrom\",\"type\":\"address\"},{\"name\":\"_upgradedTo\",\"type\":\"address\"}],\"name\":\"logProxyUpgraded\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"registry\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_amount\",\"type\":\"uint256\"}],\"name\":\"logPayout\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[],\"name\":\"logProofOfCustodyUpdated\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"buyer\",\"type\":\"address\"},{\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"logBuy\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"name\":\"_registryAddress\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"name\":\"tokenAddress\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"stage\",\"type\":\"uint256\"}],\"name\":\"Stage\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"name\":\"tokenAddress\",\"type\":\"address\"},{\"indexed\":true,\"name\":\"buyer\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"Buy\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"name\":\"tokenAddress\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"ipfsHash\",\"type\":\"string\"}],\"name\":\"ProofOfCustodyUpdated\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"name\":\"tokenAddress\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"Payout\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"name\":\"tokenAddress\",\"type\":\"address\"},{\"indexed\":true,\"name\":\"claimer\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"payout\",\"type\":\"uint256\"}],\"name\":\"Claim\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"name\":\"tokenAddress\",\"type\":\"address\"}],\"name\":\"Terminated\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"name\":\"tokenAddress\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"oldAddress\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"newAddress\",\"type\":\"address\"}],\"name\":\"CustodianChanged\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"name\":\"tokenAddress\",\"type\":\"address\"},{\"indexed\":true,\"name\":\"reclaimer\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"ReClaim\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"name\":\"tokenAddress\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"upgradedFrom\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"upgradedTo\",\"type\":\"address\"}],\"name\":\"ProxyUpgraded\",\"type\":\"event\"}]","ContractName":"PoaLogger","CompilerVersion":"v0.4.24+commit.e67f0147","OptimizationUsed":"0","Runs":"200","ConstructorArguments":"0000000000000000000000005973376b603268fe4251d13040226078257014f8","Library":"","SwarmSource":"bzzr://13d32ab61b8c64ac6811cc87b1c4959e14e0bcb72c92a8bbf78bd91b7b1b20ee"}]}