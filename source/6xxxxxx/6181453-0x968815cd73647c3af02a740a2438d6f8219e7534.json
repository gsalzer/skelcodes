{"status":"1","message":"OK","result":[{"SourceCode":"/* ==================================================================== */\r\n/* Copyright (c) 2018 The TokenTycoon Project.  All rights reserved.\r\n/* \r\n/* https://tokentycoon.io\r\n/*  \r\n/* authors rickhunter.shen@gmail.com   \r\n/*         ssesunding@gmail.com            \r\n/* ==================================================================== */\r\n\r\npragma solidity ^0.4.23;\r\n\r\ncontract AccessAdmin {\r\n    bool public isPaused = false;\r\n    address public addrAdmin;  \r\n\r\n    event AdminTransferred(address indexed preAdmin, address indexed newAdmin);\r\n\r\n    constructor() public {\r\n        addrAdmin = msg.sender;\r\n    }  \r\n\r\n\r\n    modifier onlyAdmin() {\r\n        require(msg.sender == addrAdmin);\r\n        _;\r\n    }\r\n\r\n    modifier whenNotPaused() {\r\n        require(!isPaused);\r\n        _;\r\n    }\r\n\r\n    modifier whenPaused {\r\n        require(isPaused);\r\n        _;\r\n    }\r\n\r\n    function setAdmin(address _newAdmin) external onlyAdmin {\r\n        require(_newAdmin != address(0));\r\n        emit AdminTransferred(addrAdmin, _newAdmin);\r\n        addrAdmin = _newAdmin;\r\n    }\r\n\r\n    function doPause() external onlyAdmin whenNotPaused {\r\n        isPaused = true;\r\n    }\r\n\r\n    function doUnpause() external onlyAdmin whenPaused {\r\n        isPaused = false;\r\n    }\r\n}\r\n\r\ncontract AccessService is AccessAdmin {\r\n    address public addrService;\r\n    address public addrFinance;\r\n\r\n    modifier onlyService() {\r\n        require(msg.sender == addrService);\r\n        _;\r\n    }\r\n\r\n    modifier onlyFinance() {\r\n        require(msg.sender == addrFinance);\r\n        _;\r\n    }\r\n\r\n    function setService(address _newService) external {\r\n        require(msg.sender == addrService || msg.sender == addrAdmin);\r\n        require(_newService != address(0));\r\n        addrService = _newService;\r\n    }\r\n\r\n    function setFinance(address _newFinance) external {\r\n        require(msg.sender == addrFinance || msg.sender == addrAdmin);\r\n        require(_newFinance != address(0));\r\n        addrFinance = _newFinance;\r\n    }\r\n\r\n    function withdraw(address _target, uint256 _amount) \r\n        external \r\n    {\r\n        require(msg.sender == addrFinance || msg.sender == addrAdmin);\r\n        require(_amount > 0);\r\n        address receiver = _target == address(0) ? addrFinance : _target;\r\n        uint256 balance = address(this).balance;\r\n        if (_amount < balance) {\r\n            receiver.transfer(_amount);\r\n        } else {\r\n            receiver.transfer(address(this).balance);\r\n        }      \r\n    }\r\n}\r\n\r\ninterface WarTokenInterface {\r\n    function getFashion(uint256 _tokenId) external view returns(uint16[12]);\r\n    function ownerOf(uint256 _tokenId) external view returns (address);\r\n    function safeTransferByContract(uint256 _tokenId, address _to) external;\r\n} \r\n\r\ninterface WonderTokenInterface {\r\n    function transferFrom(address _from, address _to, uint256 _tokenId) external;\r\n    function safeGiveByContract(uint256 _tokenId, address _to) external;\r\n    function getProtoIdByTokenId(uint256 _tokenId) external view returns(uint256); \r\n}\r\n\r\ninterface ManagerTokenInterface {\r\n    function transferFrom(address _from, address _to, uint256 _tokenId) external;\r\n    function safeGiveByContract(uint256 _tokenId, address _to) external;\r\n    function getProtoIdByTokenId(uint256 _tokenId) external view returns(uint256);\r\n}\r\n\r\ninterface TalentCardInterface {\r\n    function safeSendCard(uint256 _amount, address _to) external;\r\n}\r\n\r\ninterface ERC20BaseInterface {\r\n    function balanceOf(address _from) external view returns(uint256);\r\n    function transfer(address _to, uint256 _value) external;\r\n    function transferFrom(address _from, address _to, uint256 _value) external returns (bool);\r\n    function approve(address _spender, uint256 _value) external; \r\n}\r\n\r\ncontract TTCInterface is ERC20BaseInterface {\r\n    function approveAndCall(address _spender, uint256 _value, bytes _extraData) external returns (bool);\r\n}\r\n\r\ncontract TTPresale is AccessService {\r\n    TTCInterface ttcToken;\r\n    WarTokenInterface warToken;\r\n    ManagerTokenInterface ttmToken;\r\n    WonderTokenInterface ttwToken;\r\n\r\n    event ManagerSold(\r\n        address indexed buyer,\r\n        address indexed buyTo,\r\n        uint256 mgrId,\r\n        uint256 nextTokenId\r\n    );\r\n\r\n    event WonderSold(\r\n        address indexed buyer,\r\n        address indexed buyTo,\r\n        uint256 wonderId,\r\n        uint256 nextTokenId\r\n    );\r\n\r\n    constructor() public {\r\n        addrAdmin = msg.sender;\r\n        addrFinance = msg.sender;\r\n        addrService = msg.sender;\r\n\r\n        ttcToken = TTCInterface(0xfB673F08FC82807b4D0E139e794e3b328d63551f);\r\n        warToken = WarTokenInterface(0xDA9c03dFd4D137F926c3cF6953cb951832Eb08b2);\r\n    }\r\n\r\n    function() external payable {\r\n\r\n    }\r\n\r\n    uint64 public nextDiscountTTMTokenId1 = 1;      // ManagerId: 1, tokenId:   1~50\r\n    uint64 public nextDiscountTTMTokenId6 = 361;    // ManagerId: 6, tokenId: 361~390\r\n    uint64 public nextCommonTTMTokenId2 = 51;       // ManagerId: 2, tokenId:  51~130\r\n    uint64 public nextCommonTTMTokenId3 = 131;      // ManagerId: 3, tokenId: 131~210\r\n    uint64 public nextCommonTTMTokenId7 = 391;      // ManagerId: 7, tokenId: 391~450\r\n    uint64 public nextCommonTTMTokenId8 = 451;      // ManagerId: 8, tokenId: 451~510\r\n    uint64 public nextDiscountTTWTokenId1 = 1;      // WonderId:  1, tokenId:   1~30\r\n    uint64 public nextCommonTTWTokenId2 = 31;       // WonderId:  2, tokenId:  31-90\r\n\r\n    function setNextDiscountTTMTokenId1(uint64 _val) external onlyAdmin {\r\n        require(nextDiscountTTMTokenId1 >= 1 && nextDiscountTTMTokenId1 <= 51);\r\n        nextDiscountTTMTokenId1 = _val;\r\n    }\r\n\r\n    function setNextDiscountTTMTokenId6(uint64 _val) external onlyAdmin {\r\n        require(nextDiscountTTMTokenId6 >= 361 && nextDiscountTTMTokenId6 <= 391);\r\n        nextDiscountTTMTokenId6 = _val;\r\n    }\r\n\r\n    function setNextCommonTTMTokenId2(uint64 _val) external onlyAdmin {\r\n        require(nextCommonTTMTokenId2 >= 51 && nextCommonTTMTokenId2 <= 131);\r\n        nextCommonTTMTokenId2 = _val;\r\n    }\r\n\r\n    function setNextCommonTTMTokenId3(uint64 _val) external onlyAdmin {\r\n        require(nextCommonTTMTokenId3 >= 131 && nextCommonTTMTokenId3 <= 211);\r\n        nextCommonTTMTokenId3 = _val;\r\n    }\r\n\r\n    function setNextCommonTTMTokenId7(uint64 _val) external onlyAdmin {\r\n        require(nextCommonTTMTokenId7 >= 391 && nextCommonTTMTokenId7 <= 451);\r\n        nextCommonTTMTokenId7 = _val;\r\n    }\r\n\r\n    function setNextCommonTTMTokenId8(uint64 _val) external onlyAdmin {\r\n        require(nextCommonTTMTokenId8 >= 451 && nextCommonTTMTokenId8 <= 511);\r\n        nextCommonTTMTokenId8 = _val;\r\n    }\r\n\r\n    function setNextDiscountTTWTokenId1(uint64 _val) external onlyAdmin {\r\n        require(nextDiscountTTWTokenId1 >= 1 && nextDiscountTTWTokenId1 <= 31);\r\n        nextDiscountTTWTokenId1 = _val;\r\n    }\r\n\r\n    function setNextCommonTTWTokenId2(uint64 _val) external onlyAdmin {\r\n        require(nextCommonTTWTokenId2 >= 31 && nextCommonTTWTokenId2 <= 91);\r\n        nextCommonTTWTokenId2 = _val;\r\n    }\r\n\r\n    uint64 public endDiscountTime = 0;\r\n\r\n    function setDiscountTime(uint64 _endTime) external onlyAdmin {\r\n        require(_endTime > block.timestamp);\r\n        endDiscountTime = _endTime;\r\n    }\r\n\r\n    function setWARTokenAddress(address _addr) external onlyAdmin {\r\n        require(_addr != address(0));\r\n        warToken = WarTokenInterface(_addr);\r\n    }\r\n\r\n    function setTTMTokenAddress(address _addr) external onlyAdmin {\r\n        require(_addr != address(0));\r\n        ttmToken = ManagerTokenInterface(_addr);\r\n    }\r\n\r\n    function setTTWTokenAddress(address _addr) external onlyAdmin {\r\n        require(_addr != address(0));\r\n        ttwToken = WonderTokenInterface(_addr);\r\n    }\r\n\r\n    function setTTCTokenAddress(address _addr) external onlyAdmin {\r\n        require(_addr != address(0));\r\n        ttcToken = TTCInterface(_addr);\r\n    }\r\n\r\n    function _getExtraParam(bytes _extraData) \r\n        private \r\n        pure\r\n        returns(address addr, uint64 f, uint256 protoId) \r\n    {\r\n        assembly { addr := mload(add(_extraData, 20)) } \r\n        f = uint64(_extraData[20]);\r\n        protoId = uint256(_extraData[21]) * 256 + uint256(_extraData[22]);\r\n    }\r\n\r\n    function receiveApproval(address _sender, uint256 _value, address _token, bytes _extraData) \r\n        external\r\n        whenNotPaused \r\n    {\r\n        require(msg.sender == address(ttcToken));\r\n        require(_extraData.length == 23);\r\n        (address toAddr, uint64 f, uint256 protoId) = _getExtraParam(_extraData);\r\n        require(ttcToken.transferFrom(_sender, address(this), _value));\r\n        if (f == 0) {\r\n            _buyDiscountTTM(_value, protoId, toAddr, _sender);\r\n        } else if (f == 1) {\r\n            _buyDiscountTTW(_value, protoId, toAddr, _sender);\r\n        } else if (f == 2) {\r\n            _buyCommonTTM(_value, protoId, toAddr, _sender);\r\n        } else if (f == 3) {\r\n            _buyCommonTTW(_value, protoId, toAddr, _sender);\r\n        } else {\r\n            require(false, \"Invalid func id\");\r\n        }\r\n    }\r\n\r\n    function exchangeByPet(uint256 _warTokenId, uint256 _mgrId, address _gameWalletAddr)  \r\n        external\r\n        whenNotPaused\r\n    {\r\n        require(warToken.ownerOf(_warTokenId) == msg.sender);\r\n        uint16[12] memory warData = warToken.getFashion(_warTokenId);\r\n        uint16 protoId = warData[0];\r\n        if (_mgrId == 2) {\r\n            require(protoId == 10001 || protoId == 10003);\r\n            require(nextCommonTTMTokenId2 <= 130);\r\n            warToken.safeTransferByContract(_warTokenId, address(this));\r\n            nextCommonTTMTokenId2 += 1;\r\n            ttmToken.safeGiveByContract(nextCommonTTMTokenId2 - 1, _gameWalletAddr);\r\n            emit ManagerSold(msg.sender, _gameWalletAddr, 2, nextCommonTTMTokenId2);\r\n        } else if (_mgrId == 3) {\r\n            require(protoId == 10001 || protoId == 10003);\r\n            require(nextCommonTTMTokenId3 <= 210);\r\n            warToken.safeTransferByContract(_warTokenId, address(this));\r\n            nextCommonTTMTokenId3 += 1;\r\n            ttmToken.safeGiveByContract(nextCommonTTMTokenId3 - 1, _gameWalletAddr);\r\n            emit ManagerSold(msg.sender, _gameWalletAddr, 3, nextCommonTTMTokenId3);\r\n        } else if (_mgrId == 7) {\r\n            require(protoId == 10002 || protoId == 10004 || protoId == 10005);\r\n            require(nextCommonTTMTokenId7 <= 450);\r\n            warToken.safeTransferByContract(_warTokenId, address(this));\r\n            nextCommonTTMTokenId7 += 1;\r\n            ttmToken.safeGiveByContract(nextCommonTTMTokenId7 - 1, _gameWalletAddr);\r\n            emit ManagerSold(msg.sender, _gameWalletAddr, 7, nextCommonTTMTokenId7);\r\n        } else if (_mgrId == 8) {\r\n            require(protoId == 10002 || protoId == 10004 || protoId == 10005);\r\n            require(nextCommonTTMTokenId8 <= 510);\r\n            warToken.safeTransferByContract(_warTokenId, address(this));\r\n            nextCommonTTMTokenId8 += 1;\r\n            ttmToken.safeGiveByContract(nextCommonTTMTokenId8 - 1, _gameWalletAddr);\r\n            emit ManagerSold(msg.sender, _gameWalletAddr, 8, nextCommonTTMTokenId8);\r\n        } else {\r\n            require(false);\r\n        }\r\n    }\r\n\r\n    function buyDiscountTTMByETH(uint256 _mgrId, address _gameWalletAddr) \r\n        external \r\n        payable\r\n        whenNotPaused \r\n    {\r\n        _buyDiscountTTM(msg.value, _mgrId, _gameWalletAddr, msg.sender);\r\n    }\r\n\r\n    function buyDiscountTTWByETH(uint256 _wonderId, address _gameWalletAddr) \r\n        external \r\n        payable\r\n        whenNotPaused \r\n    {\r\n        _buyDiscountTTW(msg.value, _wonderId, _gameWalletAddr, msg.sender);\r\n    }\r\n    \r\n    function buyCommonTTMByETH(uint256 _mgrId, address _gameWalletAddr) \r\n        external\r\n        payable\r\n        whenNotPaused\r\n    {\r\n        _buyCommonTTM(msg.value, _mgrId, _gameWalletAddr, msg.sender);\r\n    }\r\n\r\n    function buyCommonTTWByETH(uint256 _wonderId, address _gameWalletAddr) \r\n        external\r\n        payable\r\n        whenNotPaused\r\n    {\r\n        _buyCommonTTW(msg.value, _wonderId, _gameWalletAddr, msg.sender);\r\n    }\r\n\r\n    function _buyDiscountTTM(uint256 _value, uint256 _mgrId, address _gameWalletAddr, address _buyer) \r\n        private  \r\n    {\r\n        require(_gameWalletAddr != address(0));\r\n        if (_mgrId == 1) {\r\n            require(nextDiscountTTMTokenId1 <= 50, \"This Manager is sold out\");\r\n            if (block.timestamp <= endDiscountTime) {\r\n                require(_value == 0.64 ether);\r\n            } else {\r\n                require(_value == 0.99 ether);\r\n            }\r\n            nextDiscountTTMTokenId1 += 1;\r\n            ttmToken.safeGiveByContract(nextDiscountTTMTokenId1 - 1, _gameWalletAddr);\r\n            emit ManagerSold(_buyer, _gameWalletAddr, 1, nextDiscountTTMTokenId1);\r\n        } else if (_mgrId == 6) {\r\n            require(nextDiscountTTMTokenId6 <= 390, \"This Manager is sold out\");\r\n            if (block.timestamp <= endDiscountTime) {\r\n                require(_value == 0.97 ether);\r\n            } else {\r\n                require(_value == 1.49 ether);\r\n            }\r\n            nextDiscountTTMTokenId6 += 1;\r\n            ttmToken.safeGiveByContract(nextDiscountTTMTokenId6 - 1, _gameWalletAddr);\r\n            emit ManagerSold(_buyer, _gameWalletAddr, 6, nextDiscountTTMTokenId6);\r\n        } else {\r\n            require(false);\r\n        }\r\n    }\r\n\r\n    function _buyDiscountTTW(uint256 _value, uint256 _wonderId, address _gameWalletAddr, address _buyer) \r\n        private \r\n    {\r\n        require(_gameWalletAddr != address(0));\r\n        require(_wonderId == 1); \r\n\r\n        require(nextDiscountTTWTokenId1 <= 30, \"This Manager is sold out\");\r\n        if (block.timestamp <= endDiscountTime) {\r\n            require(_value == 0.585 ether);\r\n        } else {\r\n            require(_value == 0.90 ether);\r\n        }\r\n        nextDiscountTTWTokenId1 += 1;\r\n        ttwToken.safeGiveByContract(nextDiscountTTWTokenId1 - 1, _gameWalletAddr);\r\n        emit WonderSold(_buyer, _gameWalletAddr, 1, nextDiscountTTWTokenId1);\r\n    }\r\n    \r\n    function _buyCommonTTM(uint256 _value, uint256 _mgrId, address _gameWalletAddr, address _buyer) \r\n        private\r\n    {\r\n        require(_gameWalletAddr != address(0));\r\n        if (_mgrId == 2) {\r\n            require(nextCommonTTMTokenId2 <= 130);\r\n            require(_value == 0.99 ether);\r\n            nextCommonTTMTokenId2 += 1;\r\n            ttmToken.safeGiveByContract(nextCommonTTMTokenId2 - 1, _gameWalletAddr);\r\n            emit ManagerSold(_buyer, _gameWalletAddr, 2, nextCommonTTMTokenId2);\r\n        } else if (_mgrId == 3) {\r\n            require(nextCommonTTMTokenId3 <= 210);\r\n            require(_value == 0.99 ether);\r\n            nextCommonTTMTokenId3 += 1;\r\n            ttmToken.safeGiveByContract(nextCommonTTMTokenId3 - 1, _gameWalletAddr);\r\n            emit ManagerSold(_buyer, _gameWalletAddr, 3, nextCommonTTMTokenId3);\r\n        } else if (_mgrId == 7) {\r\n            require(nextCommonTTMTokenId7 <= 450);\r\n            require(_value == 1.49 ether);\r\n            nextCommonTTMTokenId7 += 1;\r\n            ttmToken.safeGiveByContract(nextCommonTTMTokenId7 - 1, _gameWalletAddr);\r\n            emit ManagerSold(_buyer, _gameWalletAddr, 7, nextCommonTTMTokenId7);\r\n        } else if (_mgrId == 8) {\r\n            require(nextCommonTTMTokenId8 <= 510);\r\n            require(_value == 1.49 ether);\r\n            nextCommonTTMTokenId8 += 1;\r\n            ttmToken.safeGiveByContract(nextCommonTTMTokenId8 - 1, _gameWalletAddr);\r\n            emit ManagerSold(_buyer, _gameWalletAddr, 8, nextCommonTTMTokenId8);\r\n        } else {\r\n            require(false);\r\n        }\r\n    }\r\n\r\n    function _buyCommonTTW(uint256 _value, uint256 _wonderId, address _gameWalletAddr, address _buyer) \r\n        private\r\n    {\r\n        require(_gameWalletAddr != address(0));\r\n        require(_wonderId == 2); \r\n        require(nextCommonTTWTokenId2 <= 90);\r\n        require(_value == 0.50 ether);\r\n        nextCommonTTWTokenId2 += 1;\r\n        ttwToken.safeGiveByContract(nextCommonTTWTokenId2 - 1, _gameWalletAddr);\r\n        emit WonderSold(_buyer, _gameWalletAddr, 2, nextCommonTTWTokenId2);\r\n    }\r\n\r\n    function withdrawERC20(address _erc20, address _target, uint256 _amount)\r\n        external\r\n    {\r\n        require(msg.sender == addrFinance || msg.sender == addrAdmin);\r\n        require(_amount > 0);\r\n        address receiver = _target == address(0) ? addrFinance : _target;\r\n        ERC20BaseInterface erc20Contract = ERC20BaseInterface(_erc20);\r\n        uint256 balance = erc20Contract.balanceOf(address(this));\r\n        require(balance > 0);\r\n        if (_amount < balance) {\r\n            erc20Contract.transfer(receiver, _amount);\r\n        } else {\r\n            erc20Contract.transfer(receiver, balance);\r\n        }   \r\n    }\r\n\r\n    function getPresaleInfo() \r\n        external \r\n        view \r\n        returns(\r\n            uint64 ttmCnt1,\r\n            uint64 ttmCnt2,\r\n            uint64 ttmCnt3,\r\n            uint64 ttmCnt6,\r\n            uint64 ttmCnt7,\r\n            uint64 ttmCnt8,\r\n            uint64 ttwCnt1,\r\n            uint64 ttwCnt2,\r\n            uint64 discountEnd\r\n        )\r\n    {\r\n        ttmCnt1 = 51 - nextDiscountTTMTokenId1;\r\n        ttmCnt2 = 131 - nextCommonTTMTokenId2;\r\n        ttmCnt3 = 211 - nextCommonTTMTokenId3;\r\n        ttmCnt6 = 391 - nextDiscountTTMTokenId6;\r\n        ttmCnt7 = 451 - nextCommonTTMTokenId7;\r\n        ttmCnt8 = 511 - nextCommonTTMTokenId8;\r\n        ttwCnt1 = 31 - nextDiscountTTWTokenId1;\r\n        ttwCnt2 = 91 - nextCommonTTWTokenId2;\r\n        discountEnd = endDiscountTime;\r\n    }\r\n}","ABI":"[{\"constant\":false,\"inputs\":[{\"name\":\"_addr\",\"type\":\"address\"}],\"name\":\"setTTWTokenAddress\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_mgrId\",\"type\":\"uint256\"},{\"name\":\"_gameWalletAddr\",\"type\":\"address\"}],\"name\":\"buyCommonTTMByETH\",\"outputs\":[],\"payable\":true,\"stateMutability\":\"payable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[],\"name\":\"doUnpause\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_endTime\",\"type\":\"uint64\"}],\"name\":\"setDiscountTime\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"nextCommonTTMTokenId7\",\"outputs\":[{\"name\":\"\",\"type\":\"uint64\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"nextCommonTTMTokenId3\",\"outputs\":[{\"name\":\"\",\"type\":\"uint64\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_erc20\",\"type\":\"address\"},{\"name\":\"_target\",\"type\":\"address\"},{\"name\":\"_amount\",\"type\":\"uint256\"}],\"name\":\"withdrawERC20\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_addr\",\"type\":\"address\"}],\"name\":\"setWARTokenAddress\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"nextDiscountTTWTokenId1\",\"outputs\":[{\"name\":\"\",\"type\":\"uint64\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_val\",\"type\":\"uint64\"}],\"name\":\"setNextCommonTTMTokenId3\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_val\",\"type\":\"uint64\"}],\"name\":\"setNextCommonTTMTokenId8\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[],\"name\":\"doPause\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_wonderId\",\"type\":\"uint256\"},{\"name\":\"_gameWalletAddr\",\"type\":\"address\"}],\"name\":\"buyDiscountTTWByETH\",\"outputs\":[],\"payable\":true,\"stateMutability\":\"payable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_newAdmin\",\"type\":\"address\"}],\"name\":\"setAdmin\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"getPresaleInfo\",\"outputs\":[{\"name\":\"ttmCnt1\",\"type\":\"uint64\"},{\"name\":\"ttmCnt2\",\"type\":\"uint64\"},{\"name\":\"ttmCnt3\",\"type\":\"uint64\"},{\"name\":\"ttmCnt6\",\"type\":\"uint64\"},{\"name\":\"ttmCnt7\",\"type\":\"uint64\"},{\"name\":\"ttmCnt8\",\"type\":\"uint64\"},{\"name\":\"ttwCnt1\",\"type\":\"uint64\"},{\"name\":\"ttwCnt2\",\"type\":\"uint64\"},{\"name\":\"discountEnd\",\"type\":\"uint64\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"nextCommonTTWTokenId2\",\"outputs\":[{\"name\":\"\",\"type\":\"uint64\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_val\",\"type\":\"uint64\"}],\"name\":\"setNextCommonTTMTokenId2\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_val\",\"type\":\"uint64\"}],\"name\":\"setNextDiscountTTMTokenId1\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_val\",\"type\":\"uint64\"}],\"name\":\"setNextCommonTTWTokenId2\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"addrFinance\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_sender\",\"type\":\"address\"},{\"name\":\"_value\",\"type\":\"uint256\"},{\"name\":\"_token\",\"type\":\"address\"},{\"name\":\"_extraData\",\"type\":\"bytes\"}],\"name\":\"receiveApproval\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_newFinance\",\"type\":\"address\"}],\"name\":\"setFinance\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_mgrId\",\"type\":\"uint256\"},{\"name\":\"_gameWalletAddr\",\"type\":\"address\"}],\"name\":\"buyDiscountTTMByETH\",\"outputs\":[],\"payable\":true,\"stateMutability\":\"payable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"isPaused\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"endDiscountTime\",\"outputs\":[{\"name\":\"\",\"type\":\"uint64\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_newService\",\"type\":\"address\"}],\"name\":\"setService\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"addrAdmin\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_wonderId\",\"type\":\"uint256\"},{\"name\":\"_gameWalletAddr\",\"type\":\"address\"}],\"name\":\"buyCommonTTWByETH\",\"outputs\":[],\"payable\":true,\"stateMutability\":\"payable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"addrService\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_addr\",\"type\":\"address\"}],\"name\":\"setTTCTokenAddress\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"nextCommonTTMTokenId8\",\"outputs\":[{\"name\":\"\",\"type\":\"uint64\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_val\",\"type\":\"uint64\"}],\"name\":\"setNextDiscountTTMTokenId6\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_val\",\"type\":\"uint64\"}],\"name\":\"setNextCommonTTMTokenId7\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_warTokenId\",\"type\":\"uint256\"},{\"name\":\"_mgrId\",\"type\":\"uint256\"},{\"name\":\"_gameWalletAddr\",\"type\":\"address\"}],\"name\":\"exchangeByPet\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"nextCommonTTMTokenId2\",\"outputs\":[{\"name\":\"\",\"type\":\"uint64\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_addr\",\"type\":\"address\"}],\"name\":\"setTTMTokenAddress\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"nextDiscountTTMTokenId1\",\"outputs\":[{\"name\":\"\",\"type\":\"uint64\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_val\",\"type\":\"uint64\"}],\"name\":\"setNextDiscountTTWTokenId1\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"nextDiscountTTMTokenId6\",\"outputs\":[{\"name\":\"\",\"type\":\"uint64\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_target\",\"type\":\"address\"},{\"name\":\"_amount\",\"type\":\"uint256\"}],\"name\":\"withdraw\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"payable\":true,\"stateMutability\":\"payable\",\"type\":\"fallback\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"name\":\"buyer\",\"type\":\"address\"},{\"indexed\":true,\"name\":\"buyTo\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"mgrId\",\"type\":\"uint256\"},{\"indexed\":false,\"name\":\"nextTokenId\",\"type\":\"uint256\"}],\"name\":\"ManagerSold\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"name\":\"buyer\",\"type\":\"address\"},{\"indexed\":true,\"name\":\"buyTo\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"wonderId\",\"type\":\"uint256\"},{\"indexed\":false,\"name\":\"nextTokenId\",\"type\":\"uint256\"}],\"name\":\"WonderSold\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"name\":\"preAdmin\",\"type\":\"address\"},{\"indexed\":true,\"name\":\"newAdmin\",\"type\":\"address\"}],\"name\":\"AdminTransferred\",\"type\":\"event\"}]","ContractName":"TTPresale","CompilerVersion":"v0.4.24+commit.e67f0147","OptimizationUsed":"1","Runs":"200","ConstructorArguments":"","Library":"","SwarmSource":"bzzr://0b00fab05b3cdae9bb57052ecf270a40b6a418e71b5bf4057971f868f7bdc62d"}]}