{"status":"1","message":"OK","result":[{"SourceCode":"pragma solidity ^0.4.25;\r\n\r\n//LIBRARIES\r\n\r\nlibrary SafeMath {\r\n\r\n    function mul(uint256 a, uint256 b) internal pure returns (uint256) {\r\n        if (a == 0) {\r\n          return 0;\r\n        }\r\n        uint256 c = a * b;\r\n        require(c / a == b, \"the SafeMath multiplication check failed\");\r\n        return c;\r\n    }\r\n\r\n    function div(uint256 a, uint256 b) internal pure returns (uint256) {\r\n    \trequire(b > 0, \"the SafeMath division check failed\");\r\n        uint256 c = a / b;\r\n        return c;\r\n    }\r\n\r\n    function sub(uint256 a, uint256 b) internal pure returns (uint256) {\r\n        require(b <= a, \"the SafeMath subtraction check failed\");\r\n        return a - b;\r\n    }\r\n\r\n    function add(uint256 a, uint256 b) internal pure returns (uint256) {\r\n        uint256 c = a + b;\r\n        require(c >= a, \"the SafeMath addition check failed\");\r\n        return c;\r\n    }\r\n\r\n    function mod(uint256 a, uint256 b) internal pure returns (uint256) {\r\n\t    require(b != 0, \"the SafeMath modulo check failed\");\r\n\t    return a % b;\r\n\t }\r\n}\r\n\r\n//CONTRACT INTERFACE\r\n\r\ncontract OneHundredthMonkey {\r\n\tfunction adminWithdraw() public {}\r\n}\r\n\r\n//MAIN CONTRACT\r\n\r\ncontract FoundationFund {\r\n\r\n\tusing SafeMath for uint256;\r\n\r\n\t//CONSTANTS\r\n\r\n\tuint256 public fundsReceived;\r\n\taddress public masterAdmin;\r\n\taddress public mainContract;\r\n\tbool public mainContractSet = false;\r\n\r\n\taddress public teamMemberA = 0x2597afE84661669E590016E51f8FB0059D1Ad63e;   \r\n\taddress public teamMemberB = 0x2E6C1b2B4F7307dc588c289C9150deEB1A66b73d;\r\n\taddress public teamMemberC = 0xB3CaC7157d772A7685824309Dc1eB79497839795;\r\n\taddress public teamMemberD = 0x87395d203B35834F79B46cd16313E6027AE4c9D4;\r\n\r\n\tuint256 public teamMemberArate = 30; //30%\r\n\tuint256 public teamMemberBrate = 30; //30%\r\n\tuint256 public teamMemberCrate = 20; //20% \r\n\tuint256 public teamMemberDrate = 20; //20% \r\n\r\n\tmapping (address => uint256) public teamMemberTotal;\r\n\tmapping (address => uint256) public teamMemberUnclaimed;\r\n\tmapping (address => uint256) public teamMemberClaimed;\r\n\tmapping (address => bool) public validTeamMember;\r\n\tmapping (address => bool) public isProposedAddress;\r\n\tmapping (address => bool) public isProposing;\r\n\tmapping (address => uint256) public proposingAddressIndex;\r\n\r\n\t//CONSTRUCTOR\r\n\r\n\tconstructor() public {\r\n\t\tmasterAdmin = msg.sender;\r\n\t\tvalidTeamMember[teamMemberA] = true;\r\n\t\tvalidTeamMember[teamMemberB] = true;\r\n\t\tvalidTeamMember[teamMemberC] = true;\r\n\t\tvalidTeamMember[teamMemberD] = true;\r\n\t}\r\n\r\n\t//MODIFIERS\r\n\t\r\n\tmodifier isTeamMember() { \r\n\t\trequire (validTeamMember[msg.sender] == true, \"you are not a team member\"); \r\n\t\t_; \r\n\t}\r\n\r\n\tmodifier isMainContractSet() { \r\n\t\trequire (mainContractSet == true, \"the main contract is not yet set\"); \r\n\t\t_; \r\n\t}\r\n\r\n\tmodifier onlyHumans() { \r\n        require (msg.sender == tx.origin, \"no contracts allowed\"); \r\n        _; \r\n    }\r\n\r\n\t//EVENTS\r\n\tevent fundsIn(\r\n\t\tuint256 _amount,\r\n\t\taddress _sender,\r\n\t\tuint256 _totalFundsReceived\r\n\t);\r\n\r\n\tevent fundsOut(\r\n\t\tuint256 _amount,\r\n\t\taddress _receiver\r\n\t);\r\n\r\n\tevent addressChangeProposed(\r\n\t\taddress _old,\r\n\t\taddress _new\r\n\t);\r\n\r\n\tevent addressChangeRemoved(\r\n\t\taddress _old,\r\n\t\taddress _new\r\n\t);\r\n\r\n\tevent addressChanged(\r\n\t\taddress _old,\r\n\t\taddress _new\r\n\t);\r\n\r\n\t//FUNCTIONS\r\n\r\n\t//add main contract address \r\n\tfunction setContractAddress(address _address) external onlyHumans() {\r\n\t\trequire (msg.sender == masterAdmin);\r\n\t\trequire (mainContractSet == false);\r\n\t\tmainContract = _address;\r\n\t\tmainContractSet = true;\r\n\t}\r\n\r\n\t//withdrawProxy\r\n\tfunction withdrawProxy() external isTeamMember() isMainContractSet() onlyHumans() {\r\n\t\tOneHundredthMonkey o = OneHundredthMonkey(mainContract);\r\n\t\to.adminWithdraw();\r\n\t}\r\n\r\n\t//team member withdraw\r\n\tfunction teamWithdraw() external isTeamMember() isMainContractSet() onlyHumans() {\r\n\t\r\n\t\t//set up for msg.sender\r\n\t\taddress user;\r\n\t\tuint256 rate;\r\n\t\tif (msg.sender == teamMemberA) {\r\n\t\t\tuser = teamMemberA;\r\n\t\t\trate = teamMemberArate;\r\n\t\t} else if (msg.sender == teamMemberB) {\r\n\t\t\tuser = teamMemberB;\r\n\t\t\trate = teamMemberBrate;\r\n\t\t} else if (msg.sender == teamMemberC) {\r\n\t\t\tuser = teamMemberC;\r\n\t\t\trate = teamMemberCrate;\r\n\t\t} else if (msg.sender == teamMemberD) {\r\n\t\t\tuser = teamMemberD;\r\n\t\t\trate = teamMemberDrate;\r\n\t\t}\r\n\t\t\r\n\t\t//update accounting \r\n\t\tuint256 teamMemberShare = fundsReceived.mul(rate).div(100);\r\n\t\tteamMemberTotal[user] = teamMemberShare;\r\n\t\tteamMemberUnclaimed[user] = teamMemberTotal[user].sub(teamMemberClaimed[user]);\r\n\t\t\r\n\t\t//safe transfer \r\n\t\tuint256 toTransfer = teamMemberUnclaimed[user];\r\n\t\tteamMemberUnclaimed[user] = 0;\r\n\t\tteamMemberClaimed[user] = teamMemberTotal[user];\r\n\t\tuser.transfer(toTransfer);\r\n\r\n\t\temit fundsOut(toTransfer, user);\r\n\t}\r\n\r\n\tfunction proposeNewAddress(address _new) external isTeamMember() onlyHumans() {\r\n\t\trequire (isProposedAddress[_new] == false, \"this address cannot be proposed more than once\");\r\n\t\trequire (isProposing[msg.sender] == false, \"you can only propose one address at a time\");\r\n\r\n\t\tisProposing[msg.sender] = true;\r\n\t\tisProposedAddress[_new] = true;\r\n\r\n\t\tif (msg.sender == teamMemberA) {\r\n\t\t\tproposingAddressIndex[_new] = 0;\r\n\t\t} else if (msg.sender == teamMemberB) {\r\n\t\t\tproposingAddressIndex[_new] = 1;\r\n\t\t} else if (msg.sender == teamMemberC) {\r\n\t\t\tproposingAddressIndex[_new] = 2;\r\n\t\t} else if (msg.sender == teamMemberD) {\r\n\t\t\tproposingAddressIndex[_new] = 3;\r\n\t\t}\r\n\r\n\t\temit addressChangeProposed(msg.sender, _new);\r\n\t}\r\n\r\n\tfunction removeProposal(address _new) external isTeamMember() onlyHumans() {\r\n\t\trequire (isProposedAddress[_new] == true, \"this address must be proposed but not yet accepted\");\r\n\t\trequire (isProposing[msg.sender] == true, \"your address must be actively proposing\");\r\n\r\n\t\tif (proposingAddressIndex[_new] == 0 && msg.sender == teamMemberA) {\r\n\t\t\tisProposedAddress[_new] = false;\r\n\t\t\tisProposing[msg.sender] = false;\r\n\t\t} else if (proposingAddressIndex[_new] == 1 && msg.sender == teamMemberB) {\r\n\t\t\tisProposedAddress[_new] = false;\r\n\t\t\tisProposing[msg.sender] = false;\r\n\t\t} else if (proposingAddressIndex[_new] == 2 && msg.sender == teamMemberC) {\r\n\t\t\tisProposedAddress[_new] = false;\r\n\t\t\tisProposing[msg.sender] = false;\r\n\t\t} else if (proposingAddressIndex[_new] == 3 && msg.sender == teamMemberD) {\r\n\t\t\tisProposedAddress[_new] = false;\r\n\t\t\tisProposing[msg.sender] = false;\r\n\t\t} \r\n\r\n\t\temit addressChangeRemoved(msg.sender, _new);\r\n\t}\r\n\r\n\tfunction acceptProposal() external onlyHumans() {\r\n\t\trequire (isProposedAddress[msg.sender] == true, \"your address must be proposed\");\r\n\t\t\r\n\t\tif (proposingAddressIndex[msg.sender] == 0) {\r\n\t\t\taddress old = teamMemberA;\r\n\t\t\tvalidTeamMember[old] = false;\r\n\t\t\tisProposing[old] = false;\r\n\t\t\tteamMemberA = msg.sender;\r\n\t\t\tvalidTeamMember[teamMemberA] = true;\r\n\t\t} else if (proposingAddressIndex[msg.sender] == 1) {\r\n\t\t\told = teamMemberB;\r\n\t\t\tvalidTeamMember[old] = false;\r\n\t\t\tisProposing[old] = false;\r\n\t\t\tteamMemberB = msg.sender;\r\n\t\t\tvalidTeamMember[teamMemberB] = true;\r\n\t\t} else if (proposingAddressIndex[msg.sender] == 2) {\r\n\t\t\told = teamMemberC;\r\n\t\t\tvalidTeamMember[old] = false;\r\n\t\t\tisProposing[old] = false;\r\n\t\t\tteamMemberC = msg.sender;\r\n\t\t\tvalidTeamMember[teamMemberC] = true;\r\n\t\t} else if (proposingAddressIndex[msg.sender] == 3) {\r\n\t\t\told = teamMemberD;\r\n\t\t\tvalidTeamMember[old] = false;\r\n\t\t\tisProposing[old] = false;\r\n\t\t\tteamMemberD = msg.sender;\r\n\t\t\tvalidTeamMember[teamMemberD] = true;\r\n\t\t} \r\n\r\n\t\tisProposedAddress[msg.sender] = false;\r\n\r\n\t\temit addressChanged(old, msg.sender);\r\n\t}\r\n\r\n\t//VIEW FUNCTIONS\r\n\r\n\tfunction balanceOf(address _user) public view returns(uint256 _balance) {\r\n\t\taddress user;\r\n\t\tuint256 rate;\r\n\t\tif (_user == teamMemberA) {\r\n\t\t\tuser = teamMemberA;\r\n\t\t\trate = teamMemberArate;\r\n\t\t} else if (_user == teamMemberB) {\r\n\t\t\tuser = teamMemberB;\r\n\t\t\trate = teamMemberBrate;\r\n\t\t} else if (_user == teamMemberC) {\r\n\t\t\tuser = teamMemberC;\r\n\t\t\trate = teamMemberCrate;\r\n\t\t} else if (_user == teamMemberD) {\r\n\t\t\tuser = teamMemberD;\r\n\t\t\trate = teamMemberDrate;\r\n\t\t} else {\r\n\t\t\treturn 0;\r\n\t\t}\r\n\r\n\t\tuint256 teamMemberShare = fundsReceived.mul(rate).div(100);\r\n\t\tuint256 unclaimed = teamMemberShare.sub(teamMemberClaimed[_user]); \r\n\r\n\t\treturn unclaimed;\r\n\t}\r\n\r\n\tfunction contractBalance() public view returns(uint256 _contractBalance) {\r\n\t    return address(this).balance;\r\n\t}\r\n\r\n\t//FALLBACK\r\n\r\n\tfunction () public payable {\r\n\t\tfundsReceived += msg.value;\r\n\t\temit fundsIn(msg.value, msg.sender, fundsReceived); \r\n\t}\r\n}","ABI":"[{\"constant\":true,\"inputs\":[],\"name\":\"fundsReceived\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"teamMemberCrate\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"masterAdmin\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"\",\"type\":\"address\"}],\"name\":\"teamMemberUnclaimed\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"teamMemberD\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"\",\"type\":\"address\"}],\"name\":\"teamMemberClaimed\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_address\",\"type\":\"address\"}],\"name\":\"setContractAddress\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"teamMemberA\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"teamMemberArate\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"mainContractSet\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"\",\"type\":\"address\"}],\"name\":\"validTeamMember\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"_user\",\"type\":\"address\"}],\"name\":\"balanceOf\",\"outputs\":[{\"name\":\"_balance\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"teamMemberB\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"teamMemberBrate\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"\",\"type\":\"address\"}],\"name\":\"proposingAddressIndex\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"contractBalance\",\"outputs\":[{\"name\":\"_contractBalance\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"\",\"type\":\"address\"}],\"name\":\"isProposing\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[],\"name\":\"acceptProposal\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"\",\"type\":\"address\"}],\"name\":\"teamMemberTotal\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"teamMemberDrate\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_new\",\"type\":\"address\"}],\"name\":\"proposeNewAddress\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[],\"name\":\"teamWithdraw\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"\",\"type\":\"address\"}],\"name\":\"isProposedAddress\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"mainContract\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[],\"name\":\"withdrawProxy\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"teamMemberC\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_new\",\"type\":\"address\"}],\"name\":\"removeProposal\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"payable\":true,\"stateMutability\":\"payable\",\"type\":\"fallback\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"name\":\"_amount\",\"type\":\"uint256\"},{\"indexed\":false,\"name\":\"_sender\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"_totalFundsReceived\",\"type\":\"uint256\"}],\"name\":\"fundsIn\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"name\":\"_amount\",\"type\":\"uint256\"},{\"indexed\":false,\"name\":\"_receiver\",\"type\":\"address\"}],\"name\":\"fundsOut\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"name\":\"_old\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"_new\",\"type\":\"address\"}],\"name\":\"addressChangeProposed\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"name\":\"_old\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"_new\",\"type\":\"address\"}],\"name\":\"addressChangeRemoved\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"name\":\"_old\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"_new\",\"type\":\"address\"}],\"name\":\"addressChanged\",\"type\":\"event\"}]","ContractName":"FoundationFund","CompilerVersion":"v0.4.25+commit.59dbf8f1","OptimizationUsed":"1","Runs":"200","ConstructorArguments":"","Library":"","SwarmSource":"bzzr://378f81fc9b41ad5a466baef77ff8d41f1c1102f4ceeed8f0fb838b6742e7c018"}]}