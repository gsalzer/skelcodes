{"status":"1","message":"OK","result":[{"SourceCode":"pragma solidity ^0.5.12;\r\n\r\ncontract ReserveLike {\r\n}\r\n\r\ncontract ProxyLike {\r\n    function withdrawODai(address, uint) public;\r\n    function withdrawEDai(address, uint) public;\r\n}\r\n\r\ncontract WrappedDai {\r\n    string public constant version = \"0511\";\r\n\r\n    // --- Owner ---\r\n    address public owner;\r\n\r\n    modifier onlyOwner {\r\n        require(msg.sender == owner);\r\n        _;\r\n    }\r\n\r\n    event SetOwner(address owner);\r\n\r\n    function setOwner(address _owner) public onlyOwner {\r\n        owner = _owner;\r\n        emit SetOwner(_owner);\r\n    }\r\n\r\n    // --- Math ---\r\n    function add(uint a, uint b) private pure returns (uint) {\r\n        require(a <= uint(-1) - b);\r\n        return a + b;\r\n    }\r\n\r\n    function sub(uint a, uint b) private pure returns (uint) {\r\n        require(a >= b);\r\n        return a - b;\r\n    }\r\n\r\n    // --- Proxy ---\r\n    ProxyLike public Proxy;\r\n\r\n    event SetProxy(address proxy);\r\n\r\n    modifier onlyProxy {\r\n        require(msg.sender == address(Proxy));\r\n        _;\r\n    }\r\n\r\n    modifier onlyOwnerOrProxy {\r\n        require(msg.sender == owner || msg.sender == address(Proxy));\r\n        _;\r\n    }\r\n\r\n    // 최초 발행 시에는 Owner, 그 뒤에는 Proxy가 호출\r\n    function setProxy(address proxy) public onlyOwnerOrProxy {\r\n        Proxy = ProxyLike(proxy);\r\n        emit SetProxy(proxy);\r\n    }\r\n\r\n    // --- Contracts & Constructor ---\r\n    ReserveLike public Reserve;\r\n    uint public reserveLimit;\r\n\r\n    event SetReserve(address reserve);\r\n    event SetReserveLimit(uint limit);\r\n\r\n    function setReserve(address reserve) public onlyProxy {\r\n        Reserve = ReserveLike(reserve);\r\n        emit SetReserve(reserve);\r\n    }\r\n\r\n    function setReserveLimit(uint limit) public onlyOwner {\r\n        reserveLimit = limit;\r\n        emit SetReserveLimit(limit);\r\n    }\r\n\r\n    constructor() public {\r\n        owner = msg.sender;\r\n    }\r\n\r\n    // --- ERC20 ---\r\n    uint8 public constant decimals = 18;\r\n    uint public totalSupply;\r\n\r\n    mapping(address => uint) public balanceOf;\r\n    mapping(address => mapping(address => uint)) public allowance;  // (holder, spender)\r\n\r\n    event Transfer(address indexed from, address indexed to, uint amount);\r\n    event Approval(address indexed holder, address indexed spender, uint amount);\r\n\r\n    function transferFrom(address from, address to, uint amount) public returns (bool) {\r\n        if (from != msg.sender && allowance[from][msg.sender] != uint(-1)) {\r\n            allowance[from][msg.sender] = sub(allowance[from][msg.sender], amount);\r\n        }\r\n\r\n        balanceOf[from] = sub(balanceOf[from], amount);\r\n        balanceOf[to] = add(balanceOf[to], amount);\r\n\r\n        emit Transfer(from, to, amount);\r\n\r\n        if (to == address(Reserve)) {\r\n            require(balanceOf[to] <= reserveLimit);\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n    function approve(address spender, uint amount) public returns (bool) {\r\n        allowance[msg.sender][spender] = amount;\r\n        emit Approval(msg.sender, spender, amount);\r\n        return true;\r\n    }\r\n\r\n    function increaseApproval(address spender, uint amount) public returns (bool) {\r\n        amount = add(allowance[msg.sender][spender], amount);\r\n\r\n        allowance[msg.sender][spender] = amount;\r\n        emit Approval(msg.sender, spender, amount);\r\n\r\n        return true;\r\n    }\r\n\r\n    function decreaseApproval(address spender, uint amount) public returns (bool) {\r\n        if (amount > allowance[msg.sender][spender]) {\r\n            amount = 0;\r\n        }\r\n        else {\r\n            amount = allowance[msg.sender][spender] - amount;\r\n        }\r\n\r\n        allowance[msg.sender][spender] = amount;\r\n        emit Approval(msg.sender, spender, amount);\r\n\r\n        return true;\r\n    }\r\n\r\n    function mint(address user, uint amount) public onlyProxy {\r\n        balanceOf[user] = add(balanceOf[user], amount);\r\n        totalSupply = add(totalSupply, amount);\r\n\r\n        emit Transfer(address(0), user, amount);\r\n    }\r\n\r\n    function burn(address user, uint amount) public onlyProxy {\r\n        balanceOf[user] = sub(balanceOf[user], amount);\r\n        totalSupply = sub(totalSupply, amount);\r\n\r\n        emit Transfer(user, address(0), amount);\r\n    }\r\n}\r\n\r\ncontract OrbitDai is WrappedDai {\r\n    // --- ERC20 ---\r\n    string public constant name = \"Orbit Dai\";\r\n    string public constant symbol = \"ODAI\";\r\n\r\n    function transfer(address to, uint amount) public returns (bool) {\r\n        if (msg.sender == address(Reserve)) {\r\n            Proxy.withdrawODai(to, amount);\r\n            return true;\r\n        }\r\n\r\n        return transferFrom(msg.sender, to, amount);\r\n    }\r\n}","ABI":"[{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"holder\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"spender\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"Approval\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"address\",\"name\":\"owner\",\"type\":\"address\"}],\"name\":\"SetOwner\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"address\",\"name\":\"proxy\",\"type\":\"address\"}],\"name\":\"SetProxy\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"address\",\"name\":\"reserve\",\"type\":\"address\"}],\"name\":\"SetReserve\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"limit\",\"type\":\"uint256\"}],\"name\":\"SetReserveLimit\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"from\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"to\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"Transfer\",\"type\":\"event\"},{\"constant\":true,\"inputs\":[],\"name\":\"Proxy\",\"outputs\":[{\"internalType\":\"contract ProxyLike\",\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"Reserve\",\"outputs\":[{\"internalType\":\"contract ReserveLike\",\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"name\":\"allowance\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"internalType\":\"address\",\"name\":\"spender\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"approve\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"name\":\"balanceOf\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"burn\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"decimals\",\"outputs\":[{\"internalType\":\"uint8\",\"name\":\"\",\"type\":\"uint8\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"internalType\":\"address\",\"name\":\"spender\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"decreaseApproval\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"internalType\":\"address\",\"name\":\"spender\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"increaseApproval\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"mint\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"name\",\"outputs\":[{\"internalType\":\"string\",\"name\":\"\",\"type\":\"string\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"owner\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"reserveLimit\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"internalType\":\"address\",\"name\":\"_owner\",\"type\":\"address\"}],\"name\":\"setOwner\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"internalType\":\"address\",\"name\":\"proxy\",\"type\":\"address\"}],\"name\":\"setProxy\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"internalType\":\"address\",\"name\":\"reserve\",\"type\":\"address\"}],\"name\":\"setReserve\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"limit\",\"type\":\"uint256\"}],\"name\":\"setReserveLimit\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"symbol\",\"outputs\":[{\"internalType\":\"string\",\"name\":\"\",\"type\":\"string\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"totalSupply\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"internalType\":\"address\",\"name\":\"to\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"transfer\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"internalType\":\"address\",\"name\":\"from\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"to\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"transferFrom\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"version\",\"outputs\":[{\"internalType\":\"string\",\"name\":\"\",\"type\":\"string\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"}]","ContractName":"OrbitDai","CompilerVersion":"v0.5.12+commit.7709ece9","OptimizationUsed":"1","Runs":"200","ConstructorArguments":"","EVMVersion":"Default","Library":"","LicenseType":"GNU LGPLv3","Proxy":"0","Implementation":"","SwarmSource":"bzzr://0106ed3776c83f5f0e6e27d8842ab25a93daec00e4e793c90f0696219fa7515a"}]}