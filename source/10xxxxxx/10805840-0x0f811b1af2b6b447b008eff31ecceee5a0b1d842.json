{"status":"1","message":"OK","result":[{"SourceCode":"// SPDX-License-Identifier: GPL-3.0-or-later\n\npragma solidity 0.6.12;\npragma experimental ABIEncoderV2;\n\n\n// \n// Needed to handle structures externally\n/**\n * @author Balancer Labs\n * @title Manage Configurable Rights for the smart pool\n *      canPauseSwapping - can setPublicSwap back to false after turning it on\n *                         by default, it is off on initialization and can only be turned on\n *      canChangeSwapFee - can setSwapFee after initialization (by default, it is fixed at create time)\n *      canChangeWeights - can bind new token weights (allowed by default in base pool)\n *      canAddRemoveTokens - can bind/unbind tokens (allowed by default in base pool)\n *      canWhitelistLPs - can limit liquidity providers to a given set of addresses\n *      canChangeCap - can change the BSP cap (max # of pool tokens)\n */\nlibrary RightsManager {\n\n    // Type declarations\n\n    enum Permissions { PAUSE_SWAPPING,\n                       CHANGE_SWAP_FEE,\n                       CHANGE_WEIGHTS,\n                       ADD_REMOVE_TOKENS,\n                       WHITELIST_LPS,\n                       CHANGE_CAP }\n\n    struct Rights {\n        bool canPauseSwapping;\n        bool canChangeSwapFee;\n        bool canChangeWeights;\n        bool canAddRemoveTokens;\n        bool canWhitelistLPs;\n        bool canChangeCap;\n    }\n\n    // State variables (can only be constants in a library)\n    bool public constant DEFAULT_CAN_PAUSE_SWAPPING = false;\n    bool public constant DEFAULT_CAN_CHANGE_SWAP_FEE = true;\n    bool public constant DEFAULT_CAN_CHANGE_WEIGHTS = true;\n    bool public constant DEFAULT_CAN_ADD_REMOVE_TOKENS = false;\n    bool public constant DEFAULT_CAN_WHITELIST_LPS = false;\n    bool public constant DEFAULT_CAN_CHANGE_CAP = false;\n\n    // Functions\n\n    /**\n     * @notice create a struct from an array (or return defaults)\n     * @dev If you pass an empty array, it will construct it using the defaults\n     * @param a - array input\n     * @return Rights struct\n     */ \n    function constructRights(bool[] calldata a) external pure returns (Rights memory) {\n        if (a.length == 0) {\n            return Rights(DEFAULT_CAN_PAUSE_SWAPPING,\n                          DEFAULT_CAN_CHANGE_SWAP_FEE,\n                          DEFAULT_CAN_CHANGE_WEIGHTS,\n                          DEFAULT_CAN_ADD_REMOVE_TOKENS,\n                          DEFAULT_CAN_WHITELIST_LPS,\n                          DEFAULT_CAN_CHANGE_CAP);\n        }\n        else {\n            return Rights(a[0], a[1], a[2], a[3], a[4], a[5]);\n        }\n    }\n\n    /**\n     * @notice Convert rights struct to an array (e.g., for events, GUI)\n     * @dev avoids multiple calls to hasPermission\n     * @param rights - the rights struct to convert\n     * @return boolean array containing the rights settings\n     */\n    function convertRights(Rights calldata rights) external pure returns (bool[] memory) {\n        bool[] memory result = new bool[](6);\n\n        result[0] = rights.canPauseSwapping;\n        result[1] = rights.canChangeSwapFee;\n        result[2] = rights.canChangeWeights;\n        result[3] = rights.canAddRemoveTokens;\n        result[4] = rights.canWhitelistLPs;\n        result[5] = rights.canChangeCap;\n\n        return result;\n    }\n\n    // Though it is actually simple, the number of branches triggers code-complexity\n    /* solhint-disable code-complexity */\n\n    /**\n     * @notice Externally check permissions using the Enum\n     * @param self - Rights struct containing the permissions\n     * @param permission - The permission to check\n     * @return Boolean true if it has the permission\n     */\n    function hasPermission(Rights calldata self, Permissions permission) external pure returns (bool) {\n        if (Permissions.PAUSE_SWAPPING == permission) {\n            return self.canPauseSwapping;\n        }\n        else if (Permissions.CHANGE_SWAP_FEE == permission) {\n            return self.canChangeSwapFee;\n        }\n        else if (Permissions.CHANGE_WEIGHTS == permission) {\n            return self.canChangeWeights;\n        }\n        else if (Permissions.ADD_REMOVE_TOKENS == permission) {\n            return self.canAddRemoveTokens;\n        }\n        else if (Permissions.WHITELIST_LPS == permission) {\n            return self.canWhitelistLPs;\n        }\n        else if (Permissions.CHANGE_CAP == permission) {\n            return self.canChangeCap;\n        }\n    }\n\n    /* solhint-enable code-complexity */\n}","ABI":"[{\"inputs\":[],\"name\":\"DEFAULT_CAN_ADD_REMOVE_TOKENS\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"DEFAULT_CAN_CHANGE_CAP\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"DEFAULT_CAN_CHANGE_SWAP_FEE\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"DEFAULT_CAN_CHANGE_WEIGHTS\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"DEFAULT_CAN_PAUSE_SWAPPING\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"DEFAULT_CAN_WHITELIST_LPS\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bool[]\",\"name\":\"a\",\"type\":\"bool[]\"}],\"name\":\"constructRights\",\"outputs\":[{\"components\":[{\"internalType\":\"bool\",\"name\":\"canPauseSwapping\",\"type\":\"bool\"},{\"internalType\":\"bool\",\"name\":\"canChangeSwapFee\",\"type\":\"bool\"},{\"internalType\":\"bool\",\"name\":\"canChangeWeights\",\"type\":\"bool\"},{\"internalType\":\"bool\",\"name\":\"canAddRemoveTokens\",\"type\":\"bool\"},{\"internalType\":\"bool\",\"name\":\"canWhitelistLPs\",\"type\":\"bool\"},{\"internalType\":\"bool\",\"name\":\"canChangeCap\",\"type\":\"bool\"}],\"internalType\":\"struct RightsManager.Rights\",\"name\":\"\",\"type\":\"tuple\"}],\"stateMutability\":\"pure\",\"type\":\"function\"},{\"inputs\":[{\"components\":[{\"internalType\":\"bool\",\"name\":\"canPauseSwapping\",\"type\":\"bool\"},{\"internalType\":\"bool\",\"name\":\"canChangeSwapFee\",\"type\":\"bool\"},{\"internalType\":\"bool\",\"name\":\"canChangeWeights\",\"type\":\"bool\"},{\"internalType\":\"bool\",\"name\":\"canAddRemoveTokens\",\"type\":\"bool\"},{\"internalType\":\"bool\",\"name\":\"canWhitelistLPs\",\"type\":\"bool\"},{\"internalType\":\"bool\",\"name\":\"canChangeCap\",\"type\":\"bool\"}],\"internalType\":\"struct RightsManager.Rights\",\"name\":\"rights\",\"type\":\"tuple\"}],\"name\":\"convertRights\",\"outputs\":[{\"internalType\":\"bool[]\",\"name\":\"\",\"type\":\"bool[]\"}],\"stateMutability\":\"pure\",\"type\":\"function\"},{\"inputs\":[{\"components\":[{\"internalType\":\"bool\",\"name\":\"canPauseSwapping\",\"type\":\"bool\"},{\"internalType\":\"bool\",\"name\":\"canChangeSwapFee\",\"type\":\"bool\"},{\"internalType\":\"bool\",\"name\":\"canChangeWeights\",\"type\":\"bool\"},{\"internalType\":\"bool\",\"name\":\"canAddRemoveTokens\",\"type\":\"bool\"},{\"internalType\":\"bool\",\"name\":\"canWhitelistLPs\",\"type\":\"bool\"},{\"internalType\":\"bool\",\"name\":\"canChangeCap\",\"type\":\"bool\"}],\"internalType\":\"struct RightsManager.Rights\",\"name\":\"self\",\"type\":\"tuple\"},{\"internalType\":\"enum RightsManager.Permissions\",\"name\":\"permission\",\"type\":\"RightsManager.Permissions\"}],\"name\":\"hasPermission\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"pure\",\"type\":\"function\"}]","ContractName":"RightsManager","CompilerVersion":"v0.6.12+commit.27d51765","OptimizationUsed":"1","Runs":"200","ConstructorArguments":"","EVMVersion":"Default","Library":"","LicenseType":"","Proxy":"0","Implementation":"","SwarmSource":""}]}