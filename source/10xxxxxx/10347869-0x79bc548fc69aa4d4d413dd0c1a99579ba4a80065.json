{"status":"1","message":"OK","result":[{"SourceCode":"pragma solidity 0.4.24;\r\n\r\ncontract ERC20TokenInterface {\r\n\r\n    function totalSupply () external constant returns (uint);\r\n    function balanceOf (address tokenOwner) external constant returns (uint balance);\r\n    function transfer (address to, uint tokens) external returns (bool success);\r\n    function transferFrom (address from, address to, uint tokens) external returns (bool success);\r\n\r\n}\r\n\r\n/**\r\n * Math operations with safety checks that throw on overflows.\r\n */\r\nlibrary SafeMath {\r\n\r\n    function mul (uint256 a, uint256 b) internal pure returns (uint256 c) {\r\n        if (a == 0) {\r\n            return 0;\r\n        }\r\n        c = a * b;\r\n        require(c / a == b);\r\n        return c;\r\n    }\r\n    \r\n    function div (uint256 a, uint256 b) internal pure returns (uint256) {\r\n        // assert(b > 0); // Solidity automatically throws when dividing by 0\r\n        // uint256 c = a / b;\r\n        // assert(a == b * c + a % b); // There is no case in which this doesn't hold\r\n        return a / b;\r\n    }\r\n    \r\n    function sub (uint256 a, uint256 b) internal pure returns (uint256) {\r\n        require(b <= a);\r\n        return a - b;\r\n    }\r\n\r\n    function add (uint256 a, uint256 b) internal pure returns (uint256 c) {\r\n        c = a + b;\r\n        require(c >= a);\r\n        return c;\r\n    }\r\n\r\n}\r\n\r\n/**\r\n * SyoTeam tokens vesting contract. \r\n *\r\n * According to the SyoTeam token distribution structure, there are two parties that should\r\n * be provided with corresponding token amounts during the 2 years after TGE:\r\n *      Teams and Strategic Partners: 20%\r\n *      Early Investors: 40%\r\n *\r\n * The SyoTeam \"Vesting\" smart contract should be in place to ensure meeting the token sale commitments.\r\n *\r\n * Two instances of the contract will be deployed for holding tokens. \r\n * First instance for \"Teams and Strategic Partners\" tokens and second for \"Early Investors\".\r\n */\r\ncontract SyoTokensVesting {\r\n\r\n    using SafeMath for uint256;\r\n\r\n    /**\r\n     * Address of SyoToken.\r\n     */\r\n    ERC20TokenInterface public syoToken;\r\n\r\n    /**\r\n     * Address for receiving tokens.\r\n     */\r\n    address public withdrawAddress;\r\n\r\n    /**\r\n     * Tokens vesting stage structure with vesting date and tokens allowed to unlock.\r\n     */\r\n    struct VestingStage {\r\n        uint256 date;\r\n        uint256 tokensUnlockedPercentage;\r\n    }\r\n\r\n    /**\r\n     * Array for storing all vesting stages with structure defined above.\r\n     */\r\n    VestingStage[5] public stages;\r\n\r\n    /**\r\n     * Starting timestamp of the first stage of vesting (Wednesday, 1 July 2020, 00:00:00 GMT).\r\n     * Will be used as a starting point for all dates calculations.\r\n     */\r\n    uint256 public vestingStartTimestamp = 1593561600;\r\n\r\n    /**\r\n     * Total amount of tokens sent.\r\n     */\r\n    uint256 public initialTokensBalance;\r\n\r\n    /**\r\n     * Amount of tokens already sent.\r\n     */\r\n    uint256 public tokensSent;\r\n\r\n    /**\r\n     * Event raised on each successful withdraw.\r\n     */\r\n    event Withdraw(uint256 amount, uint256 timestamp);\r\n\r\n    /**\r\n     * Could be called only from withdraw address.\r\n     */\r\n    modifier onlyWithdrawAddress () {\r\n        require(msg.sender == withdrawAddress);\r\n        _;\r\n    }\r\n\r\n    /**\r\n     * We are filling vesting stages array right when the contract is deployed.\r\n     *\r\n     * @param token Address of SyoToken that will be locked on contract.\r\n     * @param withdraw Address of tokens receiver when it is unlocked.\r\n     */\r\n    constructor (ERC20TokenInterface token, address withdraw) public {\r\n        syoToken = token;\r\n        withdrawAddress = withdraw;\r\n        initVestingStages();\r\n    }\r\n    \r\n    /**\r\n     * Fallback \r\n     */\r\n    function () external {\r\n        withdrawTokens();\r\n    }\r\n\r\n    /**\r\n     * Calculate tokens amount that is sent to withdrawAddress.\r\n     * \r\n     * @return Amount of tokens that can be sent.\r\n     */\r\n    function getAvailableTokensToWithdraw () public view returns (uint256 tokensToSend) {\r\n        uint256 tokensUnlockedPercentage = getTokensUnlockedPercentage();\r\n        // In the case of stuck tokens we allow the withdrawal of them all after vesting period ends.\r\n        if (tokensUnlockedPercentage >= 100) {\r\n            tokensToSend = syoToken.balanceOf(this);\r\n        } else {\r\n            tokensToSend = getTokensAmountAllowedToWithdraw(tokensUnlockedPercentage);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Get detailed info about stage. \r\n     * Provides ability to get attributes of every stage from external callers, ie Web3, truffle tests, etc.\r\n     *\r\n     * @param index Vesting stage number. Ordered by ascending date and starting from zero.\r\n     *\r\n     * @return {\r\n     *    \"date\": \"Date of stage in unix timestamp format.\",\r\n     *    \"tokensUnlockedPercentage\": \"Percent of tokens allowed to be withdrawn.\"\r\n     * }\r\n     */\r\n    function getStageAttributes (uint8 index) public view returns (uint256 date, uint256 tokensUnlockedPercentage) {\r\n        return (stages[index].date, stages[index].tokensUnlockedPercentage);\r\n    }\r\n\r\n    /**\r\n     * Setup array with vesting stages dates and percents.\r\n     */\r\n    function initVestingStages () internal {\r\n        uint256 quartOfYear = 91 days;\r\n        uint256 year = 365 days;\r\n        stages[0].date = vestingStartTimestamp + year;\r\n        stages[1].date = vestingStartTimestamp + year + quartOfYear;\r\n        stages[2].date = vestingStartTimestamp + year + quartOfYear * 2;\r\n        stages[3].date = vestingStartTimestamp + year + quartOfYear * 3;\r\n        stages[4].date = vestingStartTimestamp + year * 2;\r\n\r\n        stages[0].tokensUnlockedPercentage = 5;\r\n        stages[1].tokensUnlockedPercentage = 25;\r\n        stages[2].tokensUnlockedPercentage = 50;\r\n        stages[3].tokensUnlockedPercentage = 75;\r\n        stages[4].tokensUnlockedPercentage = 100;\r\n    }\r\n\r\n    /**\r\n     * Main method for withdraw tokens from vesting.\r\n     */\r\n    function withdrawTokens () onlyWithdrawAddress private {\r\n        // Setting initial tokens balance on a first withdraw.\r\n        if (initialTokensBalance == 0) {\r\n            setInitialTokensBalance();\r\n        }\r\n        uint256 tokensToSend = getAvailableTokensToWithdraw();\r\n        sendTokens(tokensToSend);\r\n    }\r\n\r\n    /**\r\n     * Set initial tokens balance when making the first withdrawal.\r\n     */\r\n    function setInitialTokensBalance () private {\r\n        initialTokensBalance = syoToken.balanceOf(this);\r\n    }\r\n\r\n    /**\r\n     * Send tokens to withdrawAddress.\r\n     * \r\n     * @param tokensToSend Amount of tokens will be sent.\r\n     */\r\n    function sendTokens (uint256 tokensToSend) private {\r\n        if (tokensToSend > 0) {\r\n            // Updating tokens sent counter\r\n            tokensSent = tokensSent.add(tokensToSend);\r\n            // Sending allowed tokens amount\r\n            syoToken.transfer(withdrawAddress, tokensToSend);\r\n            // Raising event\r\n            emit Withdraw(tokensToSend, now);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Calculate tokens available for withdrawal.\r\n     *\r\n     * @param tokensUnlockedPercentage Percent of tokens that are allowed to be sent.\r\n     *\r\n     * @return Amount of tokens that can be sent according to provided percentage.\r\n     */\r\n    function getTokensAmountAllowedToWithdraw (uint256 tokensUnlockedPercentage) private view returns (uint256) {\r\n        uint256 totalTokensAllowedToWithdraw = initialTokensBalance.mul(tokensUnlockedPercentage).div(100);\r\n        uint256 unsentTokensAmount = totalTokensAllowedToWithdraw.sub(tokensSent);\r\n        return unsentTokensAmount;\r\n    }\r\n\r\n    /**\r\n     * Get tokens unlocked percentage on current stage.\r\n     * \r\n     * @return Percent of tokens allowed to be sent.\r\n     */\r\n    function getTokensUnlockedPercentage () private view returns (uint256) {\r\n        uint256 allowedPercent;\r\n        \r\n        for (uint8 i = 0; i < stages.length; i++) {\r\n            if (now >= stages[i].date) {\r\n                allowedPercent = stages[i].tokensUnlockedPercentage;\r\n            }\r\n        }\r\n        \r\n        return allowedPercent;\r\n    }\r\n}\r\n\r\ncontract TeamAndEarlyInvestorsVesting is SyoTokensVesting {\r\n    constructor(ERC20TokenInterface token, address withdraw) SyoTokensVesting(token, withdraw) public {}\r\n}","ABI":"[{\"constant\":true,\"inputs\":[],\"name\":\"getAvailableTokensToWithdraw\",\"outputs\":[{\"name\":\"tokensToSend\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"withdrawAddress\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"tokensSent\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"initialTokensBalance\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"stages\",\"outputs\":[{\"name\":\"date\",\"type\":\"uint256\"},{\"name\":\"tokensUnlockedPercentage\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"index\",\"type\":\"uint8\"}],\"name\":\"getStageAttributes\",\"outputs\":[{\"name\":\"date\",\"type\":\"uint256\"},{\"name\":\"tokensUnlockedPercentage\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"syoToken\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"vestingStartTimestamp\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"name\":\"token\",\"type\":\"address\"},{\"name\":\"withdraw\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"fallback\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"name\":\"amount\",\"type\":\"uint256\"},{\"indexed\":false,\"name\":\"timestamp\",\"type\":\"uint256\"}],\"name\":\"Withdraw\",\"type\":\"event\"}]","ContractName":"TeamAndEarlyInvestorsVesting","CompilerVersion":"v0.4.24+commit.e67f0147","OptimizationUsed":"0","Runs":"200","ConstructorArguments":"000000000000000000000000863d747565ea332e3ba4ea58cb1e7ea4a1d94e3f00000000000000000000000069bbe65489f46c222eb2ded33dad470d288eff65","EVMVersion":"Default","Library":"","LicenseType":"None","Proxy":"0","Implementation":"","SwarmSource":"bzzr://b74c6cccacce315be2a388ed2dd689c18ed50b840f50f1002b777a0ed370d4ae"}]}