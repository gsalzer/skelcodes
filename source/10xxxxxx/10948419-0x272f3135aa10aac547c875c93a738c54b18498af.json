{"status":"1","message":"OK","result":[{"SourceCode":"pragma solidity >=0.4.21 <0.6.0;\r\n\r\ncontract ERC20TokenBankInterface{\r\n  function balance() public view returns(uint);\r\n  function token() public view returns(address, string memory);\r\n  function issue(address _to, uint _amount) public returns (bool success);\r\n}\r\n\r\ncontract LimitedGrant{\r\n  address public owner;\r\n  ERC20TokenBankInterface public token_bank;\r\n  uint256 public limit_period;\r\n  uint256 public limit_amount;\r\n  uint256 public last_grant_block_num;\r\n  string public name;\r\n\r\n\r\n  constructor(string memory _name, address _erc20bank,\r\n              uint256 _limit_period, uint256 _limit_amount) public{\r\n                owner = msg.sender;\r\n                name = _name;\r\n                token_bank = ERC20TokenBankInterface(_erc20bank);\r\n                limit_period = _limit_period;\r\n                limit_amount = _limit_amount;\r\n                last_grant_block_num = 0;\r\n  }\r\n\r\n  function transferOwnership(address _new) public{\r\n    require(msg.sender == owner, \"only owner can call this\");\r\n    owner = _new;\r\n  }\r\n\r\n  event LGrantUser(address to, uint256 amount, string reason);\r\n  function grant(address _to, uint256 _amount, string memory _reason) public{\r\n    require(msg.sender == owner, \"only owner can call this\");\r\n    require(block.number > last_grant_block_num + limit_period, \"too close\");\r\n    require(_amount <= limit_amount, \"too much\");\r\n    require(token_bank.balance() >= _amount, \"not enough token\");\r\n\r\n    token_bank.issue(_to, _amount);\r\n    emit LGrantUser(_to, _amount, _reason);\r\n  }\r\n}","ABI":"[{\"constant\":true,\"inputs\":[],\"name\":\"name\",\"outputs\":[{\"name\":\"\",\"type\":\"string\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_to\",\"type\":\"address\"},{\"name\":\"_amount\",\"type\":\"uint256\"},{\"name\":\"_reason\",\"type\":\"string\"}],\"name\":\"grant\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"token_bank\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"owner\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"last_grant_block_num\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"limit_period\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_new\",\"type\":\"address\"}],\"name\":\"transferOwnership\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"limit_amount\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"name\":\"_name\",\"type\":\"string\"},{\"name\":\"_erc20bank\",\"type\":\"address\"},{\"name\":\"_limit_period\",\"type\":\"uint256\"},{\"name\":\"_limit_amount\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"name\":\"to\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"amount\",\"type\":\"uint256\"},{\"indexed\":false,\"name\":\"reason\",\"type\":\"string\"}],\"name\":\"LGrantUser\",\"type\":\"event\"}]","ContractName":"LimitedGrant","CompilerVersion":"v0.5.10+commit.5a6ea5b1","OptimizationUsed":"1","Runs":"200","ConstructorArguments":"000000000000000000000000000000000000000000000000000000000000008000000000000000000000000021a3dbee594a3419d6037d6d8cee0b1e10bf345c000000000000000000000000000000000000000000000000000000000000438000000000000000000000000000000000000000000000000000000000b2d05e00000000000000000000000000000000000000000000000000000000000000000a4153522052657761726400000000000000000000000000000000000000000000","EVMVersion":"Default","Library":"","LicenseType":"MIT","Proxy":"0","Implementation":"","SwarmSource":"bzzr://34b8959a9d577e96563fb747fc9712c05be5077a18b0298f322a99b4b712fec3"}]}