{"status":"1","message":"OK","result":[{"SourceCode":"pragma solidity >=0.6.0 <0.7.0;\r\n\r\ninterface Token {\r\n  function transfer(address to, uint256 value) external returns (bool);\r\n  function balanceOf(address owner) external view returns (uint256 balance);\r\n}\r\n\r\ncontract Ownable {\r\n    address public _owner;\r\n\r\n    event OwnershipTransferred(address indexed previousOwner, address indexed newOwner);\r\n\r\n    constructor () public {\r\n        _owner = msg.sender;\r\n        emit OwnershipTransferred(address(0), msg.sender);\r\n    }\r\n\r\n    function owner() public view returns (address) {\r\n        return _owner;\r\n    }\r\n\r\n    modifier onlyOwner() {\r\n        require(_owner == msg.sender, \"Ownable: caller is not the owner\");\r\n        _;\r\n    }\r\n\r\n    function renounceOwnership() public onlyOwner {\r\n        emit OwnershipTransferred(_owner, address(0));\r\n        _owner = address(0);\r\n    }\r\n\r\n    function transferOwnership(address newOwner) public onlyOwner {\r\n        require(newOwner != address(0), \"Ownable: new owner is the zero address\");\r\n        emit OwnershipTransferred(_owner, newOwner);\r\n        _owner = newOwner;\r\n    }\r\n}\r\n\r\ncontract Batcher is Ownable {\r\n\r\n    Token token;\r\n\r\n    event TokenActivated(address tokenAddress, uint256 value);\r\n    event TransferredToken(address indexed to, uint256 value);\r\n    event FailedTransfer(address indexed to, uint256 value);\r\n\r\n    modifier whenDropIsActive() {\r\n        require(isActive());\r\n        _;\r\n    }\r\n\r\n    constructor () public {\r\n        \r\n    }\r\n    \r\n    \r\n    \r\n    function isActive() public view returns (bool) {\r\n        return (address(token) != address(0)) && (tokensAvailable() > 0);\r\n    }\r\n    \r\n    function tokensAvailable() public view returns (uint256) {\r\n        if (address(token) == address(0)) {\r\n            return 0;\r\n        }\r\n        return token.balanceOf(address(this));\r\n    }\r\n    \r\n    \r\n    \r\n    function sendTokens(address[] calldata dests, uint256[] calldata values) external whenDropIsActive onlyOwner {\r\n        for (uint256 i = 0; i < dests.length; i++) {\r\n            sendInternally(dests[i], values[i]);\r\n        }\r\n    }\r\n    \r\n    function sendBackRest() public whenDropIsActive onlyOwner {\r\n        uint256 balance = tokensAvailable();\r\n        if(balance > 0) {\r\n            token.transfer(_owner, balance);\r\n        }\r\n    }\r\n    \r\n    \r\n    \r\n    function setToken(address _tokenAddress) public onlyOwner {\r\n        //sendBackRest();\r\n        token = Token(_tokenAddress);\r\n        emit TokenActivated(_tokenAddress, tokensAvailable());\r\n    }\r\n\r\n    \r\n    function destroy(address payable owner) public onlyOwner {\r\n        uint256 balance = tokensAvailable();\r\n        require(balance > 0, \"balance is zero\");\r\n        token.transfer(owner, balance);\r\n        selfdestruct(owner);\r\n    }\r\n\r\n    \r\n\r\n\r\n    function sendInternally(address recipient, uint256 tokensToSend) internal {\r\n        if (recipient == address(0)) return;\r\n\r\n        if (tokensAvailable() >= tokensToSend) {\r\n            token.transfer(recipient, tokensToSend);\r\n            emit TransferredToken(recipient, tokensToSend);\r\n        } else {\r\n            emit FailedTransfer(recipient, tokensToSend);\r\n        }\r\n    }\r\n}","ABI":"[{\"inputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"to\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"value\",\"type\":\"uint256\"}],\"name\":\"FailedTransfer\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"previousOwner\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"newOwner\",\"type\":\"address\"}],\"name\":\"OwnershipTransferred\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"address\",\"name\":\"tokenAddress\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"value\",\"type\":\"uint256\"}],\"name\":\"TokenActivated\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"to\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"value\",\"type\":\"uint256\"}],\"name\":\"TransferredToken\",\"type\":\"event\"},{\"inputs\":[],\"name\":\"_owner\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address payable\",\"name\":\"owner\",\"type\":\"address\"}],\"name\":\"destroy\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"isActive\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"owner\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"renounceOwnership\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"sendBackRest\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address[]\",\"name\":\"dests\",\"type\":\"address[]\"},{\"internalType\":\"uint256[]\",\"name\":\"values\",\"type\":\"uint256[]\"}],\"name\":\"sendTokens\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_tokenAddress\",\"type\":\"address\"}],\"name\":\"setToken\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"tokensAvailable\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"newOwner\",\"type\":\"address\"}],\"name\":\"transferOwnership\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"}]","ContractName":"Batcher","CompilerVersion":"v0.6.12+commit.27d51765","OptimizationUsed":"1","Runs":"200","ConstructorArguments":"","EVMVersion":"Default","Library":"","LicenseType":"None","Proxy":"0","Implementation":"","SwarmSource":"ipfs://aa381afe27a950cdf2c7695831dfc5e96d70ad56546bc750b82f1c66c2089e4e"}]}