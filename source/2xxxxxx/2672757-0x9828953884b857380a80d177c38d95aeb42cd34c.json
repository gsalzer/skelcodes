{"status":"1","message":"OK","result":[{"SourceCode":"pragma solidity ^0.4.1;\r\n\r\n\r\ncontract butttoken {\r\n    function butttoken () {}\r\n    function transfer(address _to, uint256 _value) {}\r\n}\r\n\r\ncontract BetOnHardFork {\r\n    uint hardForkTimeStamp;\r\n    uint betsOverTimeStamp;\r\n    uint weekAfterHardFork;\r\n    uint twoWeeksAfterHardFork;\r\n    \r\n    uint buttcoinBalance = 500 * 1000;\r\n    uint buttcoinReward = 500 * 1000 / 100;\r\n    uint gasLimitThreshold = 2 * 1000 * 1000;\r\n    \r\n    struct Bet {\r\n        bool didBet;\r\n        bool bet;\r\n    }\r\n    \r\n    mapping(address=>Bet) bets;\r\n    uint numYesBets;\r\n    uint numNoBets;\r\n    \r\n    function BetOnHardFork() {\r\n        hardForkTimeStamp = now + 1 days;\r\n        betsOverTimeStamp = hardForkTimeStamp + 2 days;\r\n        weekAfterHardFork = hardForkTimeStamp +  1 weeks;\r\n        twoWeeksAfterHardFork = weekAfterHardFork + 2 weeks;\r\n        \r\n        numYesBets = 0;\r\n        numNoBets = 0;\r\n    }\r\n    \r\n    function isBetPossible( bool willSucceed ) constant returns(bool) {\r\n        if( now > betsOverTimeStamp ) return false;\r\n        \r\n        uint numPossibleBets = buttcoinBalance / buttcoinReward;\r\n        if( willSucceed ) {\r\n            if( numYesBets < numNoBets ) return true;\r\n            if( 1 + numYesBets - numNoBets >= numPossibleBets ) return false;\r\n        }\r\n        else {\r\n            if( numNoBets < numYesBets ) return true;\r\n            if( 1 + numNoBets - numYesBets >= numPossibleBets ) return false;\r\n        }\r\n        \r\n        return (! bets[msg.sender].didBet);\r\n    }\r\n    \r\n    function makeBet( bool willSucceed ) {\r\n        if( ! isBetPossible( willSucceed ) ) throw;\r\n        bets[msg.sender].didBet = true;\r\n        bets[msg.sender].bet = willSucceed;\r\n        if( willSucceed ) numYesBets++;\r\n        else numNoBets++;\r\n    }\r\n    \r\n    function claimReward( ) {\r\n        if( now > twoWeeksAfterHardFork ) throw;\r\n        if( now < weekAfterHardFork ) throw;\r\n        if( ! bets[msg.sender].didBet ) throw;\r\n        bool succ = (block.gaslimit >= gasLimitThreshold );\r\n        bool shouldPay = false;\r\n        if( succ && bets[msg.sender].bet ) shouldPay = true;\r\n        if( ! succ && ! bets[msg.sender].bet ) shouldPay = true;\r\n        \r\n        if( ! shouldPay ) throw;\r\n        \r\n        butttoken token = butttoken(0x2a106E06cD26FAD93f732dAa4218fCE4eAC6d6D8);\r\n        token.transfer(msg.sender,buttcoinReward);\r\n    }\r\n    \r\n}","ABI":"[{\"constant\":false,\"inputs\":[{\"name\":\"willSucceed\",\"type\":\"bool\"}],\"name\":\"makeBet\",\"outputs\":[],\"payable\":false,\"type\":\"function\"},{\"constant\":false,\"inputs\":[],\"name\":\"claimReward\",\"outputs\":[],\"payable\":false,\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"willSucceed\",\"type\":\"bool\"}],\"name\":\"isBetPossible\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"type\":\"function\"},{\"inputs\":[],\"type\":\"constructor\"}]","ContractName":"BetOnHardFork","CompilerVersion":"v0.4.2-nightly.2016.9.17+commit.212e0160","OptimizationUsed":"1","Runs":"200","ConstructorArguments":"","Library":"","SwarmSource":""}]}