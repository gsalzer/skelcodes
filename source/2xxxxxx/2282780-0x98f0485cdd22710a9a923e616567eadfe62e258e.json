{"status":"1","message":"OK","result":[{"SourceCode":"contract TradeFinancing{\r\n\t//Solidity .3.6-3fc68da5/Release-Emscripten/clang\r\n\r\n\t//Timeline:\r\n\t// Importer request items from exporter\r\n\t// Exporter agrees to the proposed amount and price\r\n\t//Exporter requests letter of credit from importer\r\n\t//Importer bank issues letter of credit to importer and draft (check) to exporter (exporter can get money in 30 days, bank assures)\r\n\t//Importer bank makes a bank agreement (BA) with the exporters bank and send discounted funds to the bank to ensure they will execute deal at discounted price no matter what\r\n\t//exporter can use his draft at his bank to get funds when he ships at a discount instead of waiting 30 days\r\n\t//exporter ships products\r\n\t//exporter can give receipt of shipment to his bank to get a discounted amount for funds he is owned\r\n\t//Importer bank  can sell the bank agreement to an investor (anyone) and get a quick profit for the deal\r\n\t//Customer pays bank back for the loan\r\n\t//Bank pays investor what the customer gave them\r\n\r\n\r\n\taddress public importer;\r\n\taddress public exporter;\r\n\r\n\taddress public importerBanker;\r\n\taddress public exporterBanker;\r\n\r\n\taddress public BAInvestor;\r\n\r\n\tuint public shippingDate;\r\n\tuint public price;\r\n\tstring public item;\r\n\tuint public amountOfItem;\r\n\tuint public discountDivisor;\r\n\r\n\tbool public importersBanksLetterOfCredit;\r\n\tbool public exporterAcceptedIBankDraft;\r\n\r\n\tbool public tradeDealRequested;\r\n\tbool public tradeDealConfirmed;\r\n\r\n\tbool public bankersAcceptanceOfDeal;\r\n\r\n\t//dated for when payment will be made\r\n\tuint public importersBanksDraftMaturityDate;\r\n\r\n\tbool public productsExported;\r\n\r\n\r\n\tuint public discountedDealAmount;\r\n\tuint public dealAmount; \r\n\r\n\tuint public currentLiquidInDeal;\r\n\r\n\r\n\tstring public trackingNo;\r\n\tstring public shippingService;\r\n\r\n\r\n\tuint public gasPrice;\r\n\tuint public minimumDealAmount;\r\n\tuint public BASalesPrice;\r\n\r\n\tbool public exporterReceivedPayment;\r\n    bool public productsShipped; \r\n\taddress public creatorAddress;\r\n\r\n\r\n\tmodifier onlyExporter { if(msg.sender == exporter ) _ }\r\n\tmodifier onlyImporter { if(msg.sender == importer ) _ }\r\n\tmodifier onlyExportsBank { if(msg.sender == exporterBanker ) _ }\r\n\tmodifier onlyImportersBank { if(msg.sender == importerBanker ) _ }\r\n\r\n\t\r\n\r\n\tfunction TradeFinancing(){\r\n\r\n\t\tproductsExported = false;\r\n\t\ttradeDealRequested = false;\r\n\t\ttradeDealConfirmed= false;\r\n\t\tproductsShipped = false;\r\n\t\tbankersAcceptanceOfDeal = false;\r\n\t\tdiscountedDealAmount = 0;\r\n\t\texporterAcceptedIBankDraft= false;\r\n\t\texporterReceivedPayment = false;\r\n\t\tcurrentLiquidInDeal = 0;\r\n\t\tgasPrice = 21000;\r\n\t\tminimumDealAmount = 200;\r\n\t\tcreatorAddress = 0xDC78E37377eB0493cB41bD1900A541626FdC2F02;\r\n\r\n\t}\t\r\n\r\n\r\n\tfunction setImporter(){\r\n\t\timporter = msg.sender;\r\n\t}\r\n\tfunction setExporter(){\r\n\t\texporter = msg.sender;\r\n\t}\r\n\r\n\tfunction setImporterBank(){\r\n\t\timporterBanker = msg.sender;\r\n\t}\r\n\r\n\tfunction setExporterBank(){\r\n\t\texporterBanker = msg.sender;\r\n\t}\r\n\r\n\t\r\n\tfunction requestTradeDeal(uint requestedPrice, uint requestedAmount, string requestedItem)  onlyImporter constant returns (bool){\r\n\t\t\r\n\t\tif(exporterAcceptedIBankDraft  == true){\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\tprice = requestedPrice;\r\n\t\tamountOfItem = requestedAmount;\r\n\t\titem = requestedItem;\r\n\t\tdealAmount = price * amountOfItem;\r\n\t\t\r\n\t\tif(dealAmount <minimumDealAmount){\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\ttradeDealRequested = true;\r\n\t}\r\n\r\n\tfunction acceptTradeDeal()  onlyExporter constant returns (bool) {\r\n\t\tif(tradeDealRequested ==false){\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\telse{\r\n\t\t\ttradeDealConfirmed = true;\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\t\r\n\t}\r\n\r\n\tfunction issueLetterOfCredit(uint desiredDiscounedDealAmount, uint desiredDiscountDivisor, uint desiredBASalesPrice) onlyImportersBank constant returns (bool) {\r\n\t\tif(tradeDealConfirmed != true){\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tdiscountDivisor = desiredDiscountDivisor;\r\n\t\tdiscountedDealAmount = dealAmount - (dealAmount/desiredDiscountDivisor);\r\n\t\t\r\n\t\tif(msg.value < discountedDealAmount){\r\n\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\telse{\r\n\t\t\tBASalesPrice = desiredBASalesPrice;\r\n\t\t\timportersBanksLetterOfCredit = true;\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\t\r\n\t}\r\n\r\n\tfunction acceptBankDraft() onlyExporter{\r\n\t\texporterAcceptedIBankDraft = true;\r\n\r\n\t}\r\n\r\n\tfunction shipProducts(string trackingNo, string shippingService)  onlyExporter returns (bool){\r\n\t\tif(exporterAcceptedIBankDraft == false){\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tif(importersBanksLetterOfCredit != true){\r\n\t\t\treturn false;\r\n\t\t\t\r\n\t\t}\r\n\t\telse{\r\n\t\t\tproductsExported = true;\r\n\t\t\teBankRequestsiBanksBankerAcceptance();\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\t\r\n\r\n\t}\r\n\r\n\tfunction  eBankRequestsiBanksBankerAcceptance () private returns (bool) {\r\n\t\tif(productsShipped !=true){\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\telse{\r\n\t\t\tbankersAcceptanceOfDeal = true;\r\n\r\n\t\t}\r\n\t\t\r\n\r\n\t}\r\n\r\n\tfunction receivePaymentForGoodsSoldEarly()  onlyExporter returns (bool){\r\n\r\n\t\tif(bankersAcceptanceOfDeal==true && exporterAcceptedIBankDraft == true){\r\n\t\t\t\r\n\t\t\texporterReceivedPayment= true;\r\n\t\t\tBAInvestor = importerBanker;\r\n\t\t\tuint transAmount =  currentLiquidInDeal - gasPrice;\r\n\t\t\tif(tx.origin.send(transAmount)){\r\n\t\t\t\tcurrentLiquidInDeal = currentLiquidInDeal - transAmount;\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn false;\r\n\t}\r\n\t\r\n\r\n\tfunction buyBankerAgreementFromImporterBank(){\r\n\t\tif(exporterReceivedPayment == false){\r\n\t\t\tthrow;\r\n\t\t}\r\n\r\n\t\tif(msg.value > BASalesPrice){\r\n\t\t\timporterBanker.send(msg.value);\r\n\t\t\tBAInvestor = msg.sender;\r\n\r\n\t\t}\r\n\t\telse{\r\n\t\t\tthrow;\r\n\t\t}\r\n\t}\r\n\r\n\r\n\r\n\tfunction payImporterBankForGoodsBought()  onlyImporter returns (bool){\r\n\t\tif(msg.value < dealAmount){\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\telse{\r\n\t\t\tif(BAInvestor.send(dealAmount-gasPrice)){\r\n\t\t\t\tdealAmount = 0;\r\n\t\t\t\tproductsExported = false;\r\n\t\t\t\ttradeDealRequested = false;\r\n\t\t\t\ttradeDealConfirmed= false;\r\n\t\t\t\tbankersAcceptanceOfDeal = false;\r\n\t\t\t\tdiscountedDealAmount = 0;\r\n\t\t\t\texporterAcceptedIBankDraft= false;\r\n\t\t\t\texporterReceivedPayment = false;\r\n\t\t\t\tcurrentLiquidInDeal = 0;\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\tthrow;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction kill() { \r\n\t\tif (msg.sender == creatorAddress) selfdestruct(creatorAddress); \r\n\t}\r\n\r\n\tfunction (){\r\n\r\n\t\tif(creatorAddress == msg.sender){ }\r\n\t\telse{\r\n\t\t\tif(currentLiquidInDeal ==21001 ){\r\n\t\t\t\tmsg.sender.send(this.balance);\t\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\tthrow;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n}","ABI":"[{\"constant\":true,\"inputs\":[{\"name\":\"desiredDiscounedDealAmount\",\"type\":\"uint256\"},{\"name\":\"desiredDiscountDivisor\",\"type\":\"uint256\"},{\"name\":\"desiredBASalesPrice\",\"type\":\"uint256\"}],\"name\":\"issueLetterOfCredit\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"requestedPrice\",\"type\":\"uint256\"},{\"name\":\"requestedAmount\",\"type\":\"uint256\"},{\"name\":\"requestedItem\",\"type\":\"string\"}],\"name\":\"requestTradeDeal\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"exporterBanker\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"type\":\"function\"},{\"constant\":false,\"inputs\":[],\"name\":\"setImporter\",\"outputs\":[],\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"productsExported\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"type\":\"function\"},{\"constant\":false,\"inputs\":[],\"name\":\"receivePaymentForGoodsSoldEarly\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"importerBanker\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"bankersAcceptanceOfDeal\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"type\":\"function\"},{\"constant\":false,\"inputs\":[],\"name\":\"kill\",\"outputs\":[],\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"importersBanksDraftMaturityDate\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"exporter\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"type\":\"function\"},{\"constant\":false,\"inputs\":[],\"name\":\"payImporterBankForGoodsBought\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"BASalesPrice\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"type\":\"function\"},{\"constant\":false,\"inputs\":[],\"name\":\"buyBankerAgreementFromImporterBank\",\"outputs\":[],\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"exporterReceivedPayment\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"importer\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"productsShipped\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"minimumDealAmount\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"type\":\"function\"},{\"constant\":false,\"inputs\":[],\"name\":\"setExporterBank\",\"outputs\":[],\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"tradeDealConfirmed\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"tradeDealRequested\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"type\":\"function\"},{\"constant\":false,\"inputs\":[],\"name\":\"acceptBankDraft\",\"outputs\":[],\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"price\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"exporterAcceptedIBankDraft\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"acceptTradeDeal\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"type\":\"function\"},{\"constant\":false,\"inputs\":[],\"name\":\"setImporterBank\",\"outputs\":[],\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"trackingNo\",\"outputs\":[{\"name\":\"\",\"type\":\"string\"}],\"type\":\"function\"},{\"constant\":false,\"inputs\":[],\"name\":\"setExporter\",\"outputs\":[],\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"trackingNo\",\"type\":\"string\"},{\"name\":\"shippingService\",\"type\":\"string\"}],\"name\":\"shipProducts\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"amountOfItem\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"BAInvestor\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"shippingDate\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"discountedDealAmount\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"dealAmount\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"shippingService\",\"outputs\":[{\"name\":\"\",\"type\":\"string\"}],\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"creatorAddress\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"discountDivisor\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"item\",\"outputs\":[{\"name\":\"\",\"type\":\"string\"}],\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"importersBanksLetterOfCredit\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"currentLiquidInDeal\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"gasPrice\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"type\":\"function\"},{\"inputs\":[],\"type\":\"constructor\"}]","ContractName":"TradeFinancing","CompilerVersion":"v0.3.6+commit.3fc68da","OptimizationUsed":"0","Runs":"200","ConstructorArguments":"","Library":"","SwarmSource":""}]}