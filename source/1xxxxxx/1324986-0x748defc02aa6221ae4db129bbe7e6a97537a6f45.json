{"status":"1","message":"OK","result":[{"SourceCode":"contract Lottery\r\n{\r\n    struct Ticket\r\n    {\r\n        uint pickYourLuckyNumber;\r\n        uint deposit;\r\n    }\r\n\t\r\n\tuint\t\tlimit = 6;\r\n\tuint \t\tcount = 0;\r\n\taddress[] \tsenders;\r\n\tuint \t\tsecretSum;\r\n\tuint[] \t\tsecrets;\r\n\r\n    mapping(address => Ticket[]) tickets;\r\n\r\n    //buy a ticket and send a hidden integer\r\n\t//that will take part in determining the \r\n\t//final winner.\r\n    function buyTicket(uint _blindRandom)\r\n    {\r\n\t\tuint de = 100000000000000000;\r\n\t\t//incorrect submission amout. Return\r\n\t\t//everything but 0.1E fee\r\n\t\tif(msg.value != 1000000000000000000){\r\n\t\t\tif(msg.value > de)\r\n\t\t\tmsg.sender.send(msg.value-de);\r\n\t\t}\r\n\t\t//buy ticket\r\n\t\tif(msg.value == 1000000000000000000){\r\n\t        tickets[msg.sender].push(Ticket({\r\n\t            pickYourLuckyNumber: _blindRandom,\r\n\t            deposit: msg.value\r\n\t        }));\r\n\t\t\tcount += 1;\r\n\t\t\tsenders.push(msg.sender);\r\n\t\t}\r\n\t\t//run lottery when 'limit' tickets are bought\r\n\t\tif(count >= limit){\r\n\t\t\tfor(uint i = 0; i < limit; ++i){\r\n\t\t\t\tvar tic = tickets[senders[i]][0];\r\n\t\t\t\tsecrets.push(tic.pickYourLuckyNumber);\r\n\t\t\t}\r\n\t\t\t//delete secret tickets\r\n\t\t\tfor(i = 0; i < limit; ++i){\r\n\t\t\t\tdelete tickets[senders[i]];\r\n\t\t\t}\r\n\t\t\t//find winner\r\n\t\t\tsecretSum = 0;\r\n\t\t\tfor(i = 0; i < limit; ++i){\r\n\t\t\t\tsecretSum = secretSum + secrets[i];\r\n\t\t\t}\r\n\t\t\t//send winnings to winner\t\t\t\t\r\n\t\t\tsenders[addmod(secretSum,0,limit)].send(5000000000000000000);\r\n\t\t\t//send 2.5% to house\r\n\t\t\taddress(0x2179987247abA70DC8A5bb0FEaFd4ef4B8F83797).send(200000000000000000);\r\n\t\t\t//Release jackpot?\r\n\t\t\tif(addmod(secretSum+now,0,50) == 7){\r\n\t\t\t\tsenders[addmod(secretSum,0,limit)].send(this.balance - 1000000000000000000);\r\n\t\t\t}\r\n\t\t\tcount = 0; secretSum = 0; delete secrets; delete senders;\r\n\t\t}\r\n    }\r\n}","ABI":"[{\"constant\":false,\"inputs\":[{\"name\":\"_blindRandom\",\"type\":\"uint256\"}],\"name\":\"buyTicket\",\"outputs\":[],\"type\":\"function\"}]","ContractName":"Lottery","CompilerVersion":"v0.3.1-2016-04-07-054bc2a","OptimizationUsed":"1","Runs":"200","ConstructorArguments":"","Library":"","SwarmSource":""}]}