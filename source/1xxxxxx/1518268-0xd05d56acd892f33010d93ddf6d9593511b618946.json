{"status":"1","message":"OK","result":[{"SourceCode":"contract DgxToken {\r\n  function approve(address _spender,uint256 _value) returns(bool success);\r\n  function totalSupply() constant returns(uint256 );\r\n  function transferFrom(address _from,address _to,uint256 _value) returns(bool success);\r\n  function balanceOf(address _owner) constant returns(uint256 balance);\r\n  function transfer(address _to,uint256 _value) returns(bool success);\r\n  function allowance(address _owner,address _spender) constant returns(uint256 remaining);\r\n}\r\n\r\ncontract SwapContract {\r\n \r\n  address public seller;\r\n  address public dgxContract;\r\n  uint256 public weiPrice;\r\n\r\n  modifier ifSeller() {\r\n    if (seller != msg.sender) {\r\n      throw;\r\n    } else {\r\n      _\r\n    }\r\n  }\r\n\r\n  function SwapContract(address _seller, uint256 _weiPrice) {\r\n    dgxContract = 0x55b9a11c2e8351b4ffc7b11561148bfac9977855;\r\n    seller = _seller;\r\n    weiPrice = _weiPrice;\r\n  }\r\n\r\n  function () {\r\n    if (dgxBalance() == 0) throw;\r\n    if (msg.value < totalWeiPrice()) throw;\r\n    if (DgxToken(dgxContract).transfer(address(this), dgxBalance())) {\r\n      seller.send(msg.value);       \r\n    }\r\n  }\r\n\r\n  function setWeiPrice(uint256 _newweiprice) ifSeller returns (bool _success) {\r\n    weiPrice = _newweiprice;\r\n    _success = true;\r\n    return _success;\r\n  }\r\n\r\n  function totalWeiPrice() public constant returns (uint256 _totalweiprice) {\r\n    _totalweiprice = dgxBalance() * weiPrice;\r\n    return _totalweiprice;\r\n  }\r\n\r\n  function dgxBalance() public constant returns (uint256 _dgxbalance) {\r\n    _dgxbalance = DgxToken(dgxContract).balanceOf(address(this));\r\n    return _dgxbalance;\r\n  }\r\n\r\n  function withdraw() ifSeller returns (bool _success) {\r\n    _success = DgxToken(dgxContract).transfer(seller, dgxBalance());\r\n    return _success;\r\n  }\r\n}\r\n\r\ncontract DgxSwap {\r\n\r\n  uint256 public totalCount;\r\n  mapping (address => address) public swapContracts;\r\n  mapping (uint256 => address) public sellers;\r\n\r\n  function DgxSwap() {\r\n    totalCount = 0;\r\n  }\r\n\r\n  function createSwap(uint256 _weiprice) public returns (bool _success) {\r\n    address _swapcontract = new SwapContract(msg.sender, _weiprice);\r\n    swapContracts[msg.sender] = _swapcontract;\r\n    sellers[totalCount] = msg.sender; \r\n    totalCount++;\r\n    _success = true;\r\n    return _success;\r\n  }\r\n\r\n  function getSwap(uint256 _id) public constant returns (address _seller, address _contract, uint256 _dgxbalance, uint256 _weiprice, uint256 _totalweiprice) {\r\n    _seller = sellers[_id];\r\n    if (_seller == 0x0000000000000000000000000000000000000000) {\r\n      _contract = 0x0000000000000000000000000000000000000000;\r\n      _dgxbalance = 0;\r\n      _weiprice = 0;\r\n      _totalweiprice = 0;\r\n    } else {\r\n      _contract = swapContracts[_seller];  \r\n      _dgxbalance = SwapContract(_contract).dgxBalance();\r\n      _weiprice = SwapContract(_contract).weiPrice();\r\n      _totalweiprice = SwapContract(_contract).totalWeiPrice();\r\n    }\r\n    return (_seller, _contract, _dgxbalance, _weiprice, _totalweiprice);\r\n  }\r\n\r\n}","ABI":"[{\"constant\":true,\"inputs\":[{\"name\":\"\",\"type\":\"address\"}],\"name\":\"swapContracts\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"totalCount\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_weiprice\",\"type\":\"uint256\"}],\"name\":\"createSwap\",\"outputs\":[{\"name\":\"_success\",\"type\":\"bool\"}],\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"_id\",\"type\":\"uint256\"}],\"name\":\"getSwap\",\"outputs\":[{\"name\":\"_seller\",\"type\":\"address\"},{\"name\":\"_contract\",\"type\":\"address\"},{\"name\":\"_dgxbalance\",\"type\":\"uint256\"},{\"name\":\"_weiprice\",\"type\":\"uint256\"},{\"name\":\"_totalweiprice\",\"type\":\"uint256\"}],\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"sellers\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"type\":\"function\"},{\"inputs\":[],\"type\":\"constructor\"}]","ContractName":"DgxSwap","CompilerVersion":"v0.3.2-2016-04-22-dd4300d","OptimizationUsed":"1","Runs":"200","ConstructorArguments":"","Library":"","SwarmSource":""}]}