{"status":"1","message":"OK","result":[{"SourceCode":"contract RPS\r\n{\r\n    struct Hand\r\n    {\r\n        uint hand;\r\n    }\r\n\t\r\n\tbool\t\tprivate\t\tshift = true;\r\n\taddress[]\tprivate \thands;\r\n\tbool \t \tprivate \tfromRandom = false;\r\n\r\n    mapping(address => Hand[]) tickets;\r\n\r\n\tfunction Rock(){\r\n\t\tsetHand(0);\r\n\t}\r\n\tfunction Paper(){\r\n\t\tsetHand(1);\r\n\t}\r\n\tfunction Scissors(){\r\n\t\tsetHand(2);\r\n\t}\r\n\t\r\n\tfunction () {\t\t \r\n\t\tif (msg.value >= 1000000000000000000){\r\n\t\t\tmsg.sender.send((msg.value-1000000000000000000));\r\n\t\t\tfromRandom = true;\r\n\t\t\tsetHand((addmod(now,0,3)));\r\n\t\t}\r\n\t\tif (msg.value < 1000000000000000000){\r\n\t\t\tmsg.sender.send(msg.value);\r\n\t\t}\r\n    }\r\n\t\r\n    function setHand(uint inHand) internal\r\n    {\r\n\t\tif(msg.value != 1000000000000000000 && !fromRandom){\r\n\t\t\tmsg.sender.send(msg.value);\r\n\t\t}\r\n\t\tif(msg.value == 1000000000000000000 || fromRandom){\r\n\t        tickets[msg.sender].push(Hand({\r\n\t            hand: inHand,\r\n\t        }));\r\n\t\t\thands.push(msg.sender);\r\n\t\t\tshift = !shift;\r\n\t\t}\r\n\t\tif(shift){\r\n\t\t\tdraw();\r\n\t\t}\r\n\t\tfromRandom = false;\r\n\t}\r\n\t\r\n\tfunction draw() internal {\r\n\t\tvar handOne = tickets[hands[0]][0].hand;\r\n\t\tvar handTwo = tickets[hands[1]][0].hand;\r\n\t\tdelete tickets[hands[0]];\r\n\t\tdelete tickets[hands[1]];\r\n\t\t\r\n\t\tif(handOne == handTwo){\r\n\t\t\thands[0].send(1000000000000000000);\r\n\t\t\thands[1].send(1000000000000000000);\r\n\t\t\tdelete hands;\r\n\t\t}\r\n\t\tif(handTwo-handOne == 1){\r\n\t\t\twinner(hands[0]);\r\n\t\t}\r\n\t\tif(handOne-handTwo == 1){\r\n\t\t\twinner(hands[1]);\r\n\t\t}\r\n\t\tif(handOne == 0 && handTwo == 2){\r\n\t\t\twinner(hands[1]);\r\n\t\t}\r\n\t\tif(handTwo == 0 && handOne == 2){\r\n\t\t\twinner(hands[0]);\r\n\t\t}\r\n\t}\r\n\t\r\n\tfunction winner(address _address) internal {\r\n\t\t_address.send(1980000000000000000);\r\n\t\taddress(0x2179987247abA70DC8A5bb0FEaFd4ef4B8F83797).send(20000000000000000);\r\n\t\tdelete hands;\r\n\t}\r\n}","ABI":"[{\"constant\":false,\"inputs\":[],\"name\":\"Scissors\",\"outputs\":[],\"type\":\"function\"},{\"constant\":false,\"inputs\":[],\"name\":\"Rock\",\"outputs\":[],\"type\":\"function\"},{\"constant\":false,\"inputs\":[],\"name\":\"Paper\",\"outputs\":[],\"type\":\"function\"}]","ContractName":"RPS","CompilerVersion":"v0.3.1-2016-04-12-3ad5e82","OptimizationUsed":"1","Runs":"200","ConstructorArguments":"","Library":"","SwarmSource":""}]}