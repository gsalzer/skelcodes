{"status":"1","message":"OK","result":[{"SourceCode":"contract ElcoinDb {\r\n    address owner;\r\n    address caller;\r\n\r\n    event Transaction(bytes32 indexed hash, address indexed from, address indexed to, uint time, uint amount);\r\n\r\n    modifier checkOwner() { if(msg.sender == owner) { _ } else { return; } }\r\n    modifier checkCaller() { if(msg.sender == caller) { _ } else { return; } }\r\n    mapping (address => uint) public balances;\r\n\r\n    function ElcoinDb(address pCaller) {\r\n        owner = msg.sender;\r\n        caller = pCaller;\r\n    }\r\n\r\n    function getOwner() constant returns (address rv) {\r\n        return owner;\r\n    }\r\n\r\n    function getCaller() constant returns (address rv) {\r\n        return caller;\r\n    }\r\n\r\n    function setCaller(address pCaller) checkOwner() returns (bool _success) {\r\n        caller = pCaller;\r\n\r\n        return true;\r\n    }\r\n\r\n    function setOwner(address pOwner) checkOwner() returns (bool _success) {\r\n        owner = pOwner;\r\n\r\n        return true;\r\n    }\r\n\r\n    function getBalance(address addr) constant returns(uint balance) {\r\n        return balances[addr];\r\n    }\r\n\r\n    function deposit(address addr, uint amount, bytes32 hash, uint time) checkCaller() returns (bool res) {\r\n        balances[addr] += amount;\r\n        Transaction(hash,0 , addr, time, amount);\r\n\r\n        return true;\r\n    }\r\n\r\n    function withdraw(address addr, uint amount, bytes32 hash, uint time) checkCaller() returns (bool res) {\r\n        uint oldBalance = balances[addr];\r\n        if(oldBalance >= amount) {\r\n            msg.sender.send(amount);\r\n            balances[addr] = oldBalance - amount;\r\n            Transaction(hash, addr, 0, time, amount);\r\n            return true;\r\n        }\r\n\r\n        return false;\r\n    }\r\n}","ABI":"[{\"constant\":false,\"inputs\":[{\"name\":\"addr\",\"type\":\"address\"},{\"name\":\"amount\",\"type\":\"uint256\"},{\"name\":\"hash\",\"type\":\"bytes32\"},{\"name\":\"time\",\"type\":\"uint256\"}],\"name\":\"withdraw\",\"outputs\":[{\"name\":\"res\",\"type\":\"bool\"}],\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"pOwner\",\"type\":\"address\"}],\"name\":\"setOwner\",\"outputs\":[{\"name\":\"_success\",\"type\":\"bool\"}],\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"\",\"type\":\"address\"}],\"name\":\"balances\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"getOwner\",\"outputs\":[{\"name\":\"rv\",\"type\":\"address\"}],\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"getCaller\",\"outputs\":[{\"name\":\"rv\",\"type\":\"address\"}],\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"pCaller\",\"type\":\"address\"}],\"name\":\"setCaller\",\"outputs\":[{\"name\":\"_success\",\"type\":\"bool\"}],\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"addr\",\"type\":\"address\"},{\"name\":\"amount\",\"type\":\"uint256\"},{\"name\":\"hash\",\"type\":\"bytes32\"},{\"name\":\"time\",\"type\":\"uint256\"}],\"name\":\"deposit\",\"outputs\":[{\"name\":\"res\",\"type\":\"bool\"}],\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"addr\",\"type\":\"address\"}],\"name\":\"getBalance\",\"outputs\":[{\"name\":\"balance\",\"type\":\"uint256\"}],\"type\":\"function\"},{\"inputs\":[{\"name\":\"pCaller\",\"type\":\"address\"}],\"type\":\"constructor\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"name\":\"hash\",\"type\":\"bytes32\"},{\"indexed\":true,\"name\":\"from\",\"type\":\"address\"},{\"indexed\":true,\"name\":\"to\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"time\",\"type\":\"uint256\"},{\"indexed\":false,\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"Transaction\",\"type\":\"event\"}]","ContractName":"ElcoinDb","CompilerVersion":"v0.2.0-2015-12-10-e709895","OptimizationUsed":"1","Runs":"200","ConstructorArguments":"","Library":"","SwarmSource":""}]}