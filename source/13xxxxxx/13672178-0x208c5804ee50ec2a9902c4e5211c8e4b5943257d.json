{"status":"1","message":"OK","result":[{"SourceCode":"// Verified using https://dapp.tools\n\n// hevm: flattened sources of src/draft/spell.sol\n// SPDX-License-Identifier: AGPL-3.0-only\npragma solidity >=0.7.0;\npragma experimental ABIEncoderV2;\n\n////// src/draft/addresses.sol\n\n/* pragma solidity >=0.7.0; */\n\n// Harbor Trade 2 addresses at Fri Nov 19 11:29:52 EST 2021\ncontract Addresses {\n\taddress constant public ACTIONS = 0x80F33ED0A69935dd74310b9D0009D0BA647Cf223;\n\taddress constant public ASSESSOR = 0xf2ED14102ee9D86606Ec24E48e89060ADB6DeFdb;\n\taddress constant public ASSESSOR_ADMIN = 0x35e805BA2FB7Ad4C8Ad9D644Ca9Bd34a49f5500d;\n\taddress constant public CLERK = 0xcC2B64dC91245110B513f0ad1393a9720F66B996;\n\taddress constant public COLLECTOR = 0xDdA9c8631ea904Ef4c0444F2A252eC7B45B8e7e9;\n\taddress constant public COORDINATOR = 0x37f3D10Bd18124a16f4DcCA02D41F910E3Aa746A;\n\taddress constant public FEED = 0xdB9A84e5214e03a4e5DD14cFB3782e0bcD7567a7;\n\taddress constant public JUNIOR_MEMBERLIST = 0x0b635CD35fC3AF8eA29f84155FA03dC9AD0Bab27;\n\taddress constant public JUNIOR_OPERATOR = 0x6DAecbC801EcA2873599bA3d980c237D9296cF57;\n\taddress constant public JUNIOR_TOKEN = 0xAA67Bb563e14fBd4E92DCc646aAac0c00c7d9526;\n\taddress constant public JUNIOR_TRANCHE = 0x7fe1dBcBEA4e6D3846f5caB67cfC9fce39BF4d71;\n\taddress constant public PILE = 0xE7876f282bdF0f62e5fdb2C63b8b89c10538dF32;\n\taddress constant public POOL_ADMIN = 0xad88b6F193bF31Be0a44A2914809BC517b03D22e;\n\taddress constant public PROXY_REGISTRY = 0xC9045c815bF123ad12EA75b9A7c579C1e05051f9;\n\taddress constant public RESERVE = 0x86284A692430c25EfF37007c5707a530A6d63A41;\n\taddress constant public ROOT_CONTRACT = 0x4cA805cE8EcE2E63FfC1F9f8F2731D3F48DF89Df;\n\taddress constant public SENIOR_MEMBERLIST = 0x1Bc55bcAf89f514CE5a8336bEC7429a99e804910;\n\taddress constant public SENIOR_OPERATOR = 0xEDCD9e36017689c6Fc51C65c517f488E3Cb6C381;\n\taddress constant public SENIOR_TOKEN = 0xd511397f79b112638ee3B6902F7B53A0A23386C4;\n\taddress constant public SENIOR_TRANCHE = 0x7E410F288583BfEe30a306F38e451a93Caaa5C47;\n\taddress constant public SHELF = 0x5b2b43b3676057e38F332De73A9fCf0F8f6Babf7;\n\taddress constant public TINLAKE_CURRENCY = 0x6B175474E89094C44Da98b954EedeAC495271d0F;\n\taddress constant public TITLE = 0x669Db70d3A0D7941F468B0d907E9d90BD7ddA8d1;  \n}\n\n\n////// src/draft/spell.sol\n/* pragma solidity >=0.7.0; */\n/* pragma experimental ABIEncoderV2; */\n\n/* import \"./addresses.sol\"; */\n\ninterface SpellTinlakeRootLike {\n    function relyContract(address, address) external;\n}\n\ninterface SpellMemberlistLike {\n    function updateMember(address, uint) external;\n}\n\ninterface SpellReserveLike {\n    function payout(uint currencyAmount) external;\n}\n\ninterface DependLike {\n    function depend(bytes32, address) external;\n}\n\ninterface FileLike {\n    function file(bytes32, uint) external;\n    function file(bytes32, address) external;\n}\n\ninterface AuthLike {\n    function rely(address) external;\n    function deny(address) external;\n}\n\ninterface MigrationLike {\n    function migrate(address) external;\n}\n\ninterface PoolAdminLike {\n    function relyAdmin(address) external;\n}\n\ninterface MgrLike {\n    function lock(uint) external;\n}\n\ninterface SpellERC20Like {\n    function balanceOf(address) external view returns (uint256);\n    function transferFrom(address, address, uint) external returns (bool);\n    function approve(address, uint) external;\n}\n\ninterface NAVFeedLike {\n    function file(bytes32, uint) external;\n    function discountRate() external view returns (uint256);\n}\n\ncontract TinlakeSpell is Addresses {\n\n    bool public done;\n    string constant public description = \"HTC discount rate change mainnet spell\";\n\n    uint[3] discountRates = [1000000002853881278538812785, 1000000002576420598680872653, 1000000002298959918822932521];\n    uint[3] timestamps;\n    bool[3] rateAlreadySet = [false, false, false];\n    \n    // permissions to be set\n    function cast() public {\n        require(!done, \"spell-already-cast\");\n        done = true;\n        execute();\n    }\n\n    function execute() internal {\n        SpellTinlakeRootLike root = SpellTinlakeRootLike(ROOT_CONTRACT);\n\n        root.relyContract(FEED, address(this));\n    \n        timestamps = [\n            block.timestamp + 0 days,\n            block.timestamp + 7 days,\n            block.timestamp + 21 days\n        ];\n\n        setDiscount(0);\n    }\n\n    function setDiscount(uint i) public {\n        require(block.timestamp >= timestamps[i], \"not-yet-executable\");\n        require(i == 0 || NAVFeedLike(FEED).discountRate() == discountRates[i-1], \"incorrect-execution-order\");\n        require(rateAlreadySet[i] == false, \"already-executed\");\n\n        rateAlreadySet[i] = true;\n        NAVFeedLike(FEED).file(\"discountRate\", discountRates[i]);\n    }\n\n}\n","ABI":"[{\"inputs\":[],\"name\":\"ACTIONS\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"ASSESSOR\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"ASSESSOR_ADMIN\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"CLERK\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"COLLECTOR\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"COORDINATOR\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"FEED\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"JUNIOR_MEMBERLIST\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"JUNIOR_OPERATOR\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"JUNIOR_TOKEN\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"JUNIOR_TRANCHE\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"PILE\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"POOL_ADMIN\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"PROXY_REGISTRY\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"RESERVE\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"ROOT_CONTRACT\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"SENIOR_MEMBERLIST\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"SENIOR_OPERATOR\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"SENIOR_TOKEN\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"SENIOR_TRANCHE\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"SHELF\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"TINLAKE_CURRENCY\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"TITLE\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"cast\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"description\",\"outputs\":[{\"internalType\":\"string\",\"name\":\"\",\"type\":\"string\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"done\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"i\",\"type\":\"uint256\"}],\"name\":\"setDiscount\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"}]","ContractName":"TinlakeSpell","CompilerVersion":"v0.7.6+commit.7338295f","OptimizationUsed":"0","Runs":"200","ConstructorArguments":"","EVMVersion":"Default","Library":"","LicenseType":"","Proxy":"0","Implementation":"","SwarmSource":""}]}