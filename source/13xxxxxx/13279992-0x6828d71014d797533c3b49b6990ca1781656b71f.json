{"status":"1","message":"OK","result":[{"SourceCode":"// File contracts/types/Ownable.sol\r\n\r\npragma solidity 0.7.5;\r\n\r\ncontract Ownable {\r\n\r\n    address public policy;\r\n\r\n    constructor () {\r\n        policy = msg.sender;\r\n    }\r\n\r\n    modifier onlyPolicy() {\r\n        require( policy == msg.sender, \"Ownable: caller is not the owner\" );\r\n        _;\r\n    }\r\n    \r\n    function transferManagment(address _newOwner) external onlyPolicy() {\r\n        require( _newOwner != address(0) );\r\n        policy = _newOwner;\r\n    }\r\n}\r\n\r\n\r\n// File contracts/OlympusProFactoryStorage.sol\r\n\r\n// SPDX-License-Identifier: AGPL-3.0-or-later\r\npragma solidity 0.7.5;\r\n\r\ncontract OlympusProFactoryStorage is Ownable {\r\n    \r\n    /* ======== STRUCTS ======== */\r\n\r\n    struct BondDetails {\r\n        address _payoutToken;\r\n        address _principleToken;\r\n        address _treasuryAddress;\r\n        address _bondAddress;\r\n        address _initialOwner;\r\n        uint[] _tierCeilings;\r\n        uint[] _fees;\r\n    }\r\n    \r\n    /* ======== STATE VARIABLS ======== */\r\n    BondDetails[] public bondDetails;\r\n\r\n    address public olympusProFactory;\r\n\r\n    mapping(address => uint) public indexOfBond;\r\n\r\n    /* ======== EVENTS ======== */\r\n\r\n    event BondCreation(address treasury, address bond, address _initialOwner);\r\n    \r\n    /* ======== POLICY FUNCTIONS ======== */\r\n    \r\n    /**\r\n        @notice pushes bond details to array\r\n        @param _payoutToken address\r\n        @param _principleToken address\r\n        @param _customTreasury address\r\n        @param _customBond address\r\n        @param _initialOwner address\r\n        @param _tierCeilings uint[]\r\n        @param _fees uint[]\r\n        @return _treasury address\r\n        @return _bond address\r\n     */\r\n    function pushBond(address _payoutToken, address _principleToken, address _customTreasury, address _customBond, address _initialOwner, uint[] calldata _tierCeilings, uint[] calldata _fees) external returns(address _treasury, address _bond) {\r\n        require(olympusProFactory == msg.sender, \"Not Olympus Pro Factory\");\r\n\r\n        indexOfBond[_customBond] = bondDetails.length;\r\n        \r\n        bondDetails.push( BondDetails({\r\n            _payoutToken: _payoutToken,\r\n            _principleToken: _principleToken,\r\n            _treasuryAddress: _customTreasury,\r\n            _bondAddress: _customBond,\r\n            _initialOwner: _initialOwner,\r\n            _tierCeilings: _tierCeilings,\r\n            _fees: _fees\r\n        }));\r\n\r\n        emit BondCreation(_customTreasury, _customBond, _initialOwner);\r\n        return( _customTreasury, _customBond );\r\n    }\r\n\r\n    /**\r\n        @notice changes olympus pro factory address\r\n        @param _factory address\r\n     */\r\n    function setFactoryAddress(address _factory) external onlyPolicy() {\r\n        olympusProFactory = _factory;\r\n    }\r\n    \r\n}","ABI":"[{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"address\",\"name\":\"treasury\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"address\",\"name\":\"bond\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"address\",\"name\":\"_initialOwner\",\"type\":\"address\"}],\"name\":\"BondCreation\",\"type\":\"event\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"bondDetails\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"_payoutToken\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"_principleToken\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"_treasuryAddress\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"_bondAddress\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"_initialOwner\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"name\":\"indexOfBond\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"olympusProFactory\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"policy\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_payoutToken\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"_principleToken\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"_customTreasury\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"_customBond\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"_initialOwner\",\"type\":\"address\"},{\"internalType\":\"uint256[]\",\"name\":\"_tierCeilings\",\"type\":\"uint256[]\"},{\"internalType\":\"uint256[]\",\"name\":\"_fees\",\"type\":\"uint256[]\"}],\"name\":\"pushBond\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"_treasury\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"_bond\",\"type\":\"address\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_factory\",\"type\":\"address\"}],\"name\":\"setFactoryAddress\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_newOwner\",\"type\":\"address\"}],\"name\":\"transferManagment\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"}]","ContractName":"OlympusProFactoryStorage","CompilerVersion":"v0.7.5+commit.eb77ed08","OptimizationUsed":"0","Runs":"200","ConstructorArguments":"","EVMVersion":"Default","Library":"","LicenseType":"None","Proxy":"0","Implementation":"","SwarmSource":"ipfs://2b0c8d542d9d7d747bc3116ec6f4cb80a884621a33aecbef307da837d12a9a86"}]}