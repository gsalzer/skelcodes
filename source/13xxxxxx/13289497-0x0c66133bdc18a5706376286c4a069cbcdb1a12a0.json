{"status":"1","message":"OK","result":[{"SourceCode":"// Verified using https://dapp.tools\n\n// hevm: flattened sources of src/spell.sol\n\npragma solidity >=0.6.12;\n\n////// src/spell.sol\n// Copyright (C) 2020 Centrifuge\n// This program is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Affero General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU Affero General Public License for more details.\n//\n// You should have received a copy of the GNU Affero General Public License\n// along with this program.  If not, see <https://www.gnu.org/licenses/>.\n/* pragma solidity >=0.6.12; */\n\ninterface TinlakeRootLike {\n    function relyContract(address, address) external;\n    function denyContract(address, address) external;\n}\n\ninterface FileLike {\n    function file(bytes32, uint) external;\n    function file(bytes32, address) external;\n}\n\ninterface NAVFeedLike {\n    function file(bytes32 name, uint value) external;\n    function file(bytes32 name, uint risk_, uint thresholdRatio_, uint ceilingRatio_, uint rate_, uint recoveryRatePD_) external;\n    function discountRate() external returns(uint);\n}\n\n// This spell makes changes to the tinlake mainnet FF1 deployment:\n// adds new risk groups \ncontract TinlakeSpell {\n\n    bool public done;\n    string constant public description = \"Tinlake CF4 Mainnet Spell - 3\";\n\n    // MAINNET ADDRESSES\n    // The contracts in this list should correspond to a tinlake deployment\n    // https://github.com/centrifuge/tinlake-pool-config/blob/master/mainnet-production.json\n\n    address constant public ROOT = 0x4B6CA198d257D755A5275648D471FE09931b764A;\n    address constant public NAV_FEED = 0xcAB9ed8e5EF4607A97f4e22Ad1D984ADB93ce890;\n                                                             \n    uint256 constant ONE = 10**27;\n    address self;\n    \n    function cast() public {\n        require(!done, \"spell-already-cast\");\n        done = true;\n        execute();\n    }\n\n    function execute() internal {\n        TinlakeRootLike root = TinlakeRootLike(address(ROOT));\n        NAVFeedLike navFeed = NAVFeedLike(address(NAV_FEED));\n        self = address(this);\n        // NavFeed \n        root.relyContract(NAV_FEED, self); // required to file riskGroups & change discountRate\n\n        // risk group: 6 - PP A, APR: 5.35%, APY: 5.50%\n        navFeed.file(\"riskGroup\", 6, ONE, ONE, uint(1000000001696470000000000000), 99.5*10**25);\n        // risk group: 7 - PP BBB, APR: 5.83%, APY: 6.00%\n        navFeed.file(\"riskGroup\", 7, ONE, ONE, uint(1000000001848680000000000000), 99.5*10**25);\n        // risk group: 8 - PP BB, APR: 6.3%, , APY: 6.50%\n        navFeed.file(\"riskGroup\", 8, ONE, ONE, uint(1000000001997720000000000000), 99.5*10**25);\n        // risk group: 9 - PP B, APR: 6.77%, APY: 7.00%\n        navFeed.file(\"riskGroup\", 9, ONE, ONE, uint(1000000002146750000000000000), 99.5*10**25);\n        // risk group: 10 - CRL, APR: 13.98%, APY: 15.00%\n        navFeed.file(\"riskGroup\", 10, ONE, ONE, uint(1000000004433030000000000000), 98.5*10**25);\n     }   \n}\n","ABI":"[{\"inputs\":[],\"name\":\"NAV_FEED\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"ROOT\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"cast\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"description\",\"outputs\":[{\"internalType\":\"string\",\"name\":\"\",\"type\":\"string\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"done\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"}]","ContractName":"TinlakeSpell","CompilerVersion":"v0.7.6+commit.7338295f","OptimizationUsed":"0","Runs":"200","ConstructorArguments":"","EVMVersion":"Default","Library":"","LicenseType":"","Proxy":"0","Implementation":"","SwarmSource":""}]}