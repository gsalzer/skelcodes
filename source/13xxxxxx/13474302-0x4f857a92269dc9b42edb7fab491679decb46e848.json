{"status":"1","message":"OK","result":[{"SourceCode":"// SPDX-License-Identifier: MIT\r\npragma solidity ^0.8.2;\r\n\r\n\r\ninterface IIOU {\r\n  function ownerOf(uint256 tokenId) external returns (address owner);\r\n}\r\n\r\ninterface INegativeValueCertificate {\r\n  function safeMint(address to) external;\r\n}\r\n\r\ncontract NegativeValueCertificatesMinter {\r\n  address public owner;\r\n  uint256 public priceInWei;\r\n  bool public isPremint;\r\n  bool public isLocked;\r\n\r\n  INegativeValueCertificate public negativeValueCertificateContract;\r\n  IIOU public iouContract;\r\n  mapping (uint256 => bool) public usedIOUs;\r\n\r\n  constructor(address _nvcContract, address _iouContract, address _owner) {\r\n    owner = _owner;\r\n    negativeValueCertificateContract = INegativeValueCertificate(_nvcContract);\r\n    iouContract = IIOU(_iouContract);\r\n    priceInWei = 99377340000000000;\r\n    isPremint = true;\r\n    isLocked = false;\r\n  }\r\n\r\n  modifier onlyOwner(string memory _msg) {\r\n     require(msg.sender == owner, _msg);\r\n     _;\r\n  }\r\n\r\n  function transferOwnership(address newOwner) external onlyOwner(\"Only owner can transfer ownership\") {\r\n     owner = newOwner;\r\n  }\r\n\r\n  function updatePrice(uint256 _newPrice) external onlyOwner(\"Only owner can update the price\") {\r\n     priceInWei = _newPrice;\r\n  }\r\n\r\n  function flipIsPremint() external onlyOwner(\"Only owner can flip the premint\") {\r\n     isPremint = !isPremint;\r\n  }\r\n\r\n  function flipIsLocked() external onlyOwner(\"Only owner can flip the lock\") {\r\n     isLocked = !isLocked;\r\n  }\r\n\r\n  function mint() public payable {\r\n    _mint(0);\r\n  }\r\n\r\n  function mintWithIOU(uint256 iouId) public payable {\r\n    _mint(iouId);\r\n  }\r\n\r\n  function _mint(uint256 iouId) internal {\r\n    require(!isLocked, \"Minting contract is locked\");\r\n\r\n    if (isPremint) {\r\n      require(iouContract.ownerOf(iouId) == msg.sender, \"You are not the owner of this IOU\");\r\n      require(!usedIOUs[iouId], \"This IOU has already been used\");\r\n      usedIOUs[iouId] = true;\r\n    }\r\n\r\n    require(msg.value >= priceInWei, \"Insufficient payment\");\r\n    payable(owner).transfer(msg.value);\r\n    negativeValueCertificateContract.safeMint(msg.sender);\r\n\r\n  }\r\n\r\n  function donate() external payable {\r\n    payable(owner).transfer(msg.value);\r\n  }\r\n}","ABI":"[{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_nvcContract\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"_iouContract\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"_owner\",\"type\":\"address\"}],\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"inputs\":[],\"name\":\"donate\",\"outputs\":[],\"stateMutability\":\"payable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"flipIsLocked\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"flipIsPremint\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"iouContract\",\"outputs\":[{\"internalType\":\"contract IIOU\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"isLocked\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"isPremint\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"mint\",\"outputs\":[],\"stateMutability\":\"payable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"iouId\",\"type\":\"uint256\"}],\"name\":\"mintWithIOU\",\"outputs\":[],\"stateMutability\":\"payable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"negativeValueCertificateContract\",\"outputs\":[{\"internalType\":\"contract INegativeValueCertificate\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"owner\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"priceInWei\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"newOwner\",\"type\":\"address\"}],\"name\":\"transferOwnership\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_newPrice\",\"type\":\"uint256\"}],\"name\":\"updatePrice\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"usedIOUs\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"}]","ContractName":"NegativeValueCertificatesMinter","CompilerVersion":"v0.8.2+commit.661d1103","OptimizationUsed":"0","Runs":"200","ConstructorArguments":"000000000000000000000000e6da43bcfa2ae0ed8c6ac4b3beea1ec9ae65daba00000000000000000000000013178ab07a88f065efe6d06089a6e6ab55ae8a1500000000000000000000000047144372eb383466d18fc91db9cd0396aa6c87a4","EVMVersion":"Default","Library":"","LicenseType":"MIT","Proxy":"0","Implementation":"","SwarmSource":"ipfs://eaae40c8cff1c79b68364cef93933923bfd091f80a37fc59f42875e3fa725630"}]}