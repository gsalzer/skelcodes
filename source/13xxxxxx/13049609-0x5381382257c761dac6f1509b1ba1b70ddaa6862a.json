{"status":"1","message":"OK","result":[{"SourceCode":"// File: contracts/SmartRoute/intf/ICurve.sol\r\n\r\npragma solidity 0.6.9;\r\npragma experimental ABIEncoderV2;\r\n\r\ninterface ICurve {\r\n    // solium-disable-next-line mixedcase\r\n    function get_dy_underlying(int128 i, int128 j, uint256 dx) external view returns(uint256 dy);\r\n\r\n    // solium-disable-next-line mixedcase\r\n    function get_dy(int128 i, int128 j, uint256 dx) external view returns(uint256 dy);\r\n\r\n    // solium-disable-next-line mixedcase\r\n    function exchange_underlying(int128 i, int128 j, uint256 dx, uint256 minDy) external;\r\n\r\n    // solium-disable-next-line mixedcase\r\n    function exchange(int128 i, int128 j, uint256 dx, uint256 minDy) external;\r\n\r\n    // view coins address\r\n    function underlying_coins(int128 arg0) external view returns(address out);\r\n    function coins(int128 arg0) external view returns(address out);\r\n\r\n}\r\n\r\n// File: contracts/SmartRoute/sampler/CurveSample.sol\r\n\r\n\r\n\r\n\r\n\r\n\r\ncontract CurveSampler {\r\n   \r\n    function sampleFromCurve(\r\n        address curveAddress,\r\n        int128 fromTokenIdx,\r\n        int128 toTokenIdx,\r\n        uint256[] memory takerTokenAmounts\r\n    )\r\n        public\r\n        view\r\n        returns (uint256[] memory makerTokenAmounts)\r\n    {\r\n        uint256 numSamples = takerTokenAmounts.length;\r\n        makerTokenAmounts = new uint256[](numSamples);\r\n        for (uint256 i = 0; i < numSamples; i++) {\r\n            uint256 buyAmount = ICurve(curveAddress).get_dy_underlying(fromTokenIdx, toTokenIdx, takerTokenAmounts[i]);\r\n            makerTokenAmounts[i] = buyAmount;\r\n            // Break early if there are 0 amounts\r\n            if (makerTokenAmounts[i] == 0) {\r\n                break;\r\n            }\r\n        }\r\n\r\n        return makerTokenAmounts;\r\n    }\r\n\r\n    \r\n}","ABI":"[{\"inputs\":[{\"internalType\":\"address\",\"name\":\"curveAddress\",\"type\":\"address\"},{\"internalType\":\"int128\",\"name\":\"fromTokenIdx\",\"type\":\"int128\"},{\"internalType\":\"int128\",\"name\":\"toTokenIdx\",\"type\":\"int128\"},{\"internalType\":\"uint256[]\",\"name\":\"takerTokenAmounts\",\"type\":\"uint256[]\"}],\"name\":\"sampleFromCurve\",\"outputs\":[{\"internalType\":\"uint256[]\",\"name\":\"makerTokenAmounts\",\"type\":\"uint256[]\"}],\"stateMutability\":\"view\",\"type\":\"function\"}]","ContractName":"CurveSampler","CompilerVersion":"v0.6.9+commit.3e3065ac","OptimizationUsed":"1","Runs":"200","ConstructorArguments":"","EVMVersion":"Default","Library":"","LicenseType":"Apache-2.0","Proxy":"0","Implementation":"","SwarmSource":"ipfs://865a536491693d3b663a07248bd208aca69985a6ac0b02f7cb46dac7bd6416c3"}]}