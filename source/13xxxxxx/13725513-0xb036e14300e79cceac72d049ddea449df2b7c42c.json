{"status":"1","message":"OK","result":[{"SourceCode":"pragma solidity ^0.8.9;\r\npragma experimental ABIEncoderV2;\r\n\r\n// SigRelayer for https://uni.vote\r\ncontract SigRelayer {\r\n\tbytes32 public constant DOMAIN_TYPEHASH = keccak256(\"EIP712Domain(string name,uint256 chainId,address verifyingContract)\");\r\n\tbytes32 public constant DELEGATION_TYPEHASH = keccak256(\"Delegation(address delegatee,uint256 nonce,uint256 expiry)\");\r\n\tbytes32 public constant BALLOT_TYPEHASH = keccak256(\"Ballot(uint256 proposalId,uint8 support)\");\r\n\tuint256 public constant CHAIN_ID = 1; /// Change to appropriate chain before deployment\r\n\t\r\n\taddress public immutable owner;\r\n\taddress public immutable tokenAddress;\r\n\taddress public governorAddress;\r\n\t\r\n\r\n\tconstructor(address governorAddress_, address tokenAddress_) public {\r\n\t\tgovernorAddress = governorAddress_;\r\n\t\ttokenAddress = tokenAddress_;\r\n\r\n\t\towner = msg.sender;\r\n\t}\r\n\r\n\tfunction setGovernor(address governorAddress_) public  {\r\n\t\trequire(msg.sender == owner);\r\n\r\n\t\tgovernorAddress = governorAddress_;\t\r\n\t}\r\n\r\n\tfunction relayBySigs(DelegationSig[] memory s1, VoteSig[] memory s2) public {\r\n\t\tfor (uint i = 0; i < s1.length; i++) {\r\n\t\t\tDelegationSig memory sig = s1[i];\r\n\t\t\ttokenAddress.call(abi.encodeWithSignature(\"delegateBySig(address,uint256,uint256,uint8,bytes32,bytes32)\", sig.delegatee, sig.nonce, sig.expiry, sig.v, sig.r, sig.s));\r\n\t\t}\r\n\t\tfor (uint i = 0; i < s2.length; i++) {\r\n\t\t\tVoteSig memory sig = s2[i];\r\n\t\t\tgovernorAddress.call(abi.encodeWithSignature(\"castVoteBySig(uint256,uint8,uint8,bytes32,bytes32)\", sig.proposalId,sig.support,sig.v,sig.r,sig.s));\r\n\t\t}\r\n\t}\r\n\r\n  \tstruct DelegationSig {\r\n\t    address delegatee;\r\n\t    uint nonce;\r\n\t    uint expiry;\r\n\t    uint8 v;\r\n\t    bytes32 r;\r\n\t    bytes32 s;\r\n  \t}\r\n  \tstruct VoteSig {\r\n  \t\tuint proposalId;\r\n  \t\tuint8 support;\r\n  \t\tuint8 v;\r\n  \t\tbytes32 r;\r\n  \t\tbytes32 s;\r\n  \t}\r\n}","ABI":"[{\"inputs\":[{\"internalType\":\"address\",\"name\":\"governorAddress_\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"tokenAddress_\",\"type\":\"address\"}],\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"inputs\":[],\"name\":\"BALLOT_TYPEHASH\",\"outputs\":[{\"internalType\":\"bytes32\",\"name\":\"\",\"type\":\"bytes32\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"CHAIN_ID\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"DELEGATION_TYPEHASH\",\"outputs\":[{\"internalType\":\"bytes32\",\"name\":\"\",\"type\":\"bytes32\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"DOMAIN_TYPEHASH\",\"outputs\":[{\"internalType\":\"bytes32\",\"name\":\"\",\"type\":\"bytes32\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"governorAddress\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"owner\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"components\":[{\"internalType\":\"address\",\"name\":\"delegatee\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"nonce\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"expiry\",\"type\":\"uint256\"},{\"internalType\":\"uint8\",\"name\":\"v\",\"type\":\"uint8\"},{\"internalType\":\"bytes32\",\"name\":\"r\",\"type\":\"bytes32\"},{\"internalType\":\"bytes32\",\"name\":\"s\",\"type\":\"bytes32\"}],\"internalType\":\"struct SigRelayer.DelegationSig[]\",\"name\":\"s1\",\"type\":\"tuple[]\"},{\"components\":[{\"internalType\":\"uint256\",\"name\":\"proposalId\",\"type\":\"uint256\"},{\"internalType\":\"uint8\",\"name\":\"support\",\"type\":\"uint8\"},{\"internalType\":\"uint8\",\"name\":\"v\",\"type\":\"uint8\"},{\"internalType\":\"bytes32\",\"name\":\"r\",\"type\":\"bytes32\"},{\"internalType\":\"bytes32\",\"name\":\"s\",\"type\":\"bytes32\"}],\"internalType\":\"struct SigRelayer.VoteSig[]\",\"name\":\"s2\",\"type\":\"tuple[]\"}],\"name\":\"relayBySigs\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"governorAddress_\",\"type\":\"address\"}],\"name\":\"setGovernor\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"tokenAddress\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"}]","ContractName":"SigRelayer","CompilerVersion":"v0.8.9+commit.e5eed63a","OptimizationUsed":"1","Runs":"200","ConstructorArguments":"000000000000000000000000408ed6354d4973f66138c91495f2f2fcbd8724c30000000000000000000000001f9840a85d5af5bf1d1762f925bdaddc4201f984","EVMVersion":"Default","Library":"","LicenseType":"MIT","Proxy":"0","Implementation":"","SwarmSource":"ipfs://1f5262f15af741b0c9a40fbcd9bcfeea82400d686f701cf6012afaff84ff2ae5"}]}