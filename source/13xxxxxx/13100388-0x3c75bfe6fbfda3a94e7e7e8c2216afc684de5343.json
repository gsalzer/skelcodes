{"status":"1","message":"OK","result":[{"SourceCode":"// File: contracts\\interfaces\\ICvx.sol\r\n\r\n// SPDX-License-Identifier: MIT\r\npragma solidity 0.6.12;\r\n\r\ninterface ICvx {\r\n    function reductionPerCliff() external view returns(uint256);\r\n    function totalSupply() external view returns(uint256);\r\n    function totalCliffs() external view returns(uint256);\r\n    function maxSupply() external view returns(uint256);\r\n}\r\n\r\n// File: contracts\\interfaces\\CvxMining.sol\r\npragma solidity 0.6.12;\r\n\r\n\r\nlibrary CvxMining{\r\n    ICvx public constant cvx = ICvx(0x4e3FBD56CD56c3e72c1403e103b45Db9da5B9D2B);\r\n\r\n    function ConvertCrvToCvx(uint256 _amount) external view returns(uint256){\r\n        uint256 supply = cvx.totalSupply();\r\n        uint256 reductionPerCliff = cvx.reductionPerCliff();\r\n        uint256 totalCliffs = cvx.totalCliffs();\r\n        uint256 maxSupply = cvx.maxSupply();\r\n\r\n        uint256 cliff = supply / reductionPerCliff;\r\n        //mint if below total cliffs\r\n        if(cliff < totalCliffs){\r\n            //for reduction% take inverse of current cliff\r\n            uint256 reduction = totalCliffs - cliff;\r\n            //reduce\r\n            _amount = _amount * reduction / totalCliffs;\r\n\r\n            //supply cap check\r\n            uint256 amtTillMax = maxSupply - supply;\r\n            if(_amount > amtTillMax){\r\n                _amount = amtTillMax;\r\n            }\r\n\r\n            //mint\r\n            return _amount;\r\n        }\r\n        return 0;\r\n    }\r\n}","ABI":"[{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_amount\",\"type\":\"uint256\"}],\"name\":\"ConvertCrvToCvx\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"cvx\",\"outputs\":[{\"internalType\":\"contract ICvx\",\"name\":\"\",\"type\":\"ICvx\"}],\"stateMutability\":\"view\",\"type\":\"function\"}]","ContractName":"CvxMining","CompilerVersion":"v0.6.12+commit.27d51765","OptimizationUsed":"1","Runs":"200","ConstructorArguments":"","EVMVersion":"Default","Library":"","LicenseType":"MIT","Proxy":"0","Implementation":"","SwarmSource":"ipfs://1089085ce342756d6576e73093ff6d698aede57ecc775f6fdb48dc94ffd2dc33"}]}