{"status":"1","message":"OK","result":[{"SourceCode":"pragma solidity ^0.4.13;\r\n\r\ncontract token { function transfer(address receiver, uint amount); }\r\n\r\ncontract SchmeckleTokenSale {\r\n  int public currentStage;\r\n  uint public priceInWei;\r\n  uint public availableTokensOnCurrentStage;\r\n\r\n  address beneficiary;\r\n  uint decimalBase;\r\n  uint totalAmount;\r\n  token public tokenReward;\r\n  event SaleStageUp(int newSaleStage, uint newTokenPrice);\r\n\r\n  function SchmeckleTokenSale() {\r\n      beneficiary = msg.sender;\r\n      priceInWei = 700 szabo;\r\n      decimalBase = 1000000000000000000;\r\n      tokenReward = token(0x0bB664f7b6FC928B2d1e5aA32182Ae07023Ed4aA);\r\n      availableTokensOnCurrentStage = 2000000;\r\n      totalAmount = 0;\r\n      currentStage = -3;\r\n  }\r\n\r\n  function () payable {\r\n      uint amount = msg.value;\r\n\r\n      if (amount < 1 finney) revert();\r\n\r\n      uint tokens = amount * decimalBase / priceInWei;\r\n\r\n      if (tokens > availableTokensOnCurrentStage * decimalBase) revert();\r\n\r\n      if (currentStage > 21) revert();\r\n\r\n      totalAmount += amount;\r\n      availableTokensOnCurrentStage -= tokens / decimalBase + 1;\r\n      if (totalAmount >= 21 ether && currentStage == -3) {\r\n          currentStage = -2;\r\n          priceInWei = 800 szabo;\r\n          SaleStageUp(currentStage, priceInWei);\r\n      }\r\n      if (totalAmount >= 333 ether && currentStage == -2) {\r\n          currentStage = -1;\r\n          priceInWei = 1000 szabo;\r\n          SaleStageUp(currentStage, priceInWei);\r\n      }\r\n      if (availableTokensOnCurrentStage < 1000 && currentStage >= 0) {\r\n          currentStage++;\r\n          priceInWei = priceInWei * 2;\r\n          availableTokensOnCurrentStage = 1000000;\r\n          SaleStageUp(currentStage, priceInWei);\r\n      }\r\n\r\n      tokenReward.transfer(msg.sender, tokens);\r\n  }\r\n\r\n  modifier onlyBeneficiary {\r\n      if (msg.sender != beneficiary) revert();\r\n      _;\r\n  }\r\n\r\n function withdraw(address recipient, uint amount) onlyBeneficiary {\r\n      if (recipient == 0x0) revert();\r\n      recipient.transfer(amount);\r\n }\r\n\r\n function launchSale() onlyBeneficiary () {\r\n      if (currentStage > -1) revert();\r\n      currentStage = 0;\r\n      priceInWei = priceInWei * 2;\r\n      availableTokensOnCurrentStage = 2100000;\r\n      SaleStageUp(currentStage, priceInWei);\r\n }\r\n}","ABI":"[{\"constant\":true,\"inputs\":[],\"name\":\"priceInWei\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"currentStage\",\"outputs\":[{\"name\":\"\",\"type\":\"int256\"}],\"payable\":false,\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"tokenReward\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"availableTokensOnCurrentStage\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"type\":\"function\"},{\"constant\":false,\"inputs\":[],\"name\":\"launchSale\",\"outputs\":[],\"payable\":false,\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"recipient\",\"type\":\"address\"},{\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"withdraw\",\"outputs\":[],\"payable\":false,\"type\":\"function\"},{\"inputs\":[],\"payable\":false,\"type\":\"constructor\"},{\"payable\":true,\"type\":\"fallback\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"name\":\"newSaleStage\",\"type\":\"int256\"},{\"indexed\":false,\"name\":\"newTokenPrice\",\"type\":\"uint256\"}],\"name\":\"SaleStageUp\",\"type\":\"event\"}]","ContractName":"SchmeckleTokenSale","CompilerVersion":"v0.4.13+commit.fb4cb1a","OptimizationUsed":"0","Runs":"200","ConstructorArguments":"","Library":"","SwarmSource":"bzzr://b0c3711226051bb426050f882f133fb4ed0854d0bd4aaa96c099df9bf7d8c5a4"}]}