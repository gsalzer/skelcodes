{"status":"1","message":"OK","result":[{"SourceCode":"pragma solidity ^0.4.17;\r\n\r\n/** @title Decentralized Identification Number (DIN) registry. */\r\ncontract DINRegistry {\r\n\r\n    struct Record {\r\n        address owner;\r\n        address resolver;  // Address of the resolver contract, which can be used to find product information. \r\n        uint256 updated;   // Last updated time (Unix timestamp).\r\n    }\r\n\r\n    // DIN => Record\r\n    mapping (uint256 => Record) records;\r\n\r\n    // The first DIN registered.\r\n    uint256 public genesis;\r\n\r\n    // The current DIN.\r\n    uint256 public index;\r\n\r\n    modifier only_owner(uint256 DIN) {\r\n        require(records[DIN].owner == msg.sender);\r\n        _;\r\n    }\r\n\r\n    // Log transfers of ownership.\r\n    event NewOwner(uint256 indexed DIN, address indexed owner);\r\n\r\n    // Log when new resolvers are set.\r\n    event NewResolver(uint256 indexed DIN, address indexed resolver);\r\n\r\n    // Log new registrations.\r\n    event NewRegistration(uint256 indexed DIN, address indexed owner);\r\n\r\n    /** @dev Constructor.\r\n      * @param _genesis The first DIN registered.\r\n      */\r\n    function DINRegistry(uint256 _genesis) public {\r\n        genesis = _genesis;\r\n        index = _genesis;\r\n\r\n        // Register the genesis DIN to the account that deploys this contract.\r\n        records[_genesis].owner = msg.sender;\r\n        records[_genesis].updated = block.timestamp;\r\n        NewRegistration(_genesis, msg.sender);\r\n    }\r\n\r\n    /**\r\n     * @dev Get the owner of a specific DIN.\r\n     */\r\n    function owner(uint256 _DIN) public view returns (address) {\r\n        return records[_DIN].owner;\r\n    }\r\n\r\n    /**\r\n     * @dev Transfer ownership of a DIN.\r\n     * @param _DIN The DIN to transfer.\r\n     * @param _owner Address of the new owner.\r\n     */\r\n    function setOwner(uint256 _DIN, address _owner) public only_owner(_DIN) {\r\n        records[_DIN].owner = _owner;\r\n        records[_DIN].updated = block.timestamp;\r\n        NewOwner(_DIN, _owner);\r\n    }\r\n\r\n    /**\r\n     * @dev Get the address of the resolver contract for a specific DIN.\r\n     */\r\n    function resolver(uint256 _DIN) public view returns (address) {\r\n        return records[_DIN].resolver;\r\n    }\r\n\r\n    /**\r\n     * @dev Set the resolver of a DIN.\r\n     * @param _DIN The DIN to update.\r\n     * @param _resolver Address of the resolver.\r\n     */\r\n    function setResolver(uint256 _DIN, address _resolver) public only_owner(_DIN) {\r\n        records[_DIN].resolver = _resolver;\r\n        records[_DIN].updated = block.timestamp;\r\n        NewResolver(_DIN, _resolver);\r\n    }\r\n\r\n    /**\r\n     * @dev Get the last time a DIN was updated with a new owner or resolver.\r\n     * @param _DIN The DIN to query.\r\n     * @return _timestamp Last updated time (Unix timestamp).\r\n     */\r\n    function updated(uint256 _DIN) public view returns (uint256 _timestamp) {\r\n        return records[_DIN].updated;\r\n    }\r\n\r\n    /**\r\n     * @dev Self-register a new DIN.\r\n     * @return _DIN The DIN that is registered.\r\n     */\r\n    function selfRegisterDIN() public returns (uint256 _DIN) {\r\n        return registerDIN(msg.sender);\r\n    }\r\n\r\n    /**\r\n     * @dev Self-register a new DIN and set the resolver.\r\n     * @param _resolver Address of the resolver.\r\n     * @return _DIN The DIN that is registered.\r\n     */\r\n    function selfRegisterDINWithResolver(address _resolver) public returns (uint256 _DIN) {\r\n        return registerDINWithResolver(msg.sender, _resolver);\r\n    }\r\n\r\n    /**\r\n     * @dev Register a new DIN for a specific address.\r\n     * @param _owner Account that will own the DIN.\r\n     * @return _DIN The DIN that is registered.\r\n     */\r\n    function registerDIN(address _owner) public returns (uint256 _DIN) {\r\n        index++;\r\n        records[index].owner = _owner;\r\n        records[index].updated = block.timestamp;\r\n        NewRegistration(index, _owner);\r\n        return index;\r\n    }\r\n\r\n    /**\r\n     * @dev Register a new DIN and set the resolver.\r\n     * @param _owner Account that will own the DIN.\r\n     * @param _resolver Address of the resolver.\r\n     * @return _DIN The DIN that is registered.\r\n     */\r\n    function registerDINWithResolver(address _owner, address _resolver) public returns (uint256 _DIN) {\r\n        index++;\r\n        records[index].owner = _owner;\r\n        records[index].resolver = _resolver;\r\n        records[index].updated = block.timestamp;\r\n        NewRegistration(index, _owner);\r\n        NewResolver(index, _resolver);\r\n        return index;\r\n    }\r\n\r\n}\r\n\r\n/** @title Convenience methods for DINRegistry */\r\ncontract DINRegistryUtils {\r\n\r\n    DINRegistry registry;\r\n\r\n    // Constructor\r\n    function DINRegistryUtils(DINRegistry _registry) public {\r\n        registry = _registry;\r\n    }\r\n\r\n    /**\r\n     * @dev Self-register multiple new DINs.\r\n     * @param amount The amount of DINs to register.\r\n     */\r\n    function selfRegisterDINs(uint256 amount) public {\r\n        registerDINs(msg.sender, amount);\r\n    }\r\n\r\n    /**\r\n     * @dev Self-register multiple new DINs and set the resolver.\r\n     * @param resolver The address of the resolver.\r\n     * @param amount The amount of DINs to register.\r\n     */\r\n    function selfRegisterDINsWithResolver(address resolver, uint256 amount) public {\r\n        registerDINsWithResolver(msg.sender, resolver, amount);\r\n    }\r\n\r\n    /**\r\n     * @dev Register multiple new DINs.\r\n     * @param owner The account that will own the DINs.\r\n     * @param amount The amount of DINs to register.\r\n     */\r\n    function registerDINs(address owner, uint256 amount) public {\r\n        for (uint i = 0; i < amount; i++) {\r\n            registry.registerDIN(owner);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @dev Register multiple new DINs and set the resolver.\r\n     * @param owner The account that will own the DINs.\r\n     * @param resolver The address of the resolver.\r\n     * @param amount The amount of DINs to register.\r\n     */\r\n    function registerDINsWithResolver(address owner, address resolver, uint256 amount) public {\r\n        for (uint i = 0; i < amount; i++) {\r\n            registry.registerDINWithResolver(owner, resolver);\r\n        }\r\n    }\r\n\r\n}","ABI":"[{\"constant\":false,\"inputs\":[{\"name\":\"resolver\",\"type\":\"address\"},{\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"selfRegisterDINsWithResolver\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"owner\",\"type\":\"address\"},{\"name\":\"resolver\",\"type\":\"address\"},{\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"registerDINsWithResolver\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"selfRegisterDINs\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"owner\",\"type\":\"address\"},{\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"registerDINs\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"name\":\"_registry\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"}]","ContractName":"DINRegistryUtils","CompilerVersion":"v0.4.19+commit.c4cbbb05","OptimizationUsed":"0","Runs":"200","ConstructorArguments":"000000000000000000000000d8096abb6ff38b912ff7dcebddcf6bd2bed468bb","Library":"","SwarmSource":"bzzr://b3aaa5d5475187ad796bb157f7951b3d3be91e03d6d9ca494bed696a81f9565c"}]}