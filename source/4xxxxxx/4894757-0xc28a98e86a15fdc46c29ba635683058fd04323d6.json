{"status":"1","message":"OK","result":[{"SourceCode":"pragma solidity ^0.4.2;\r\ncontract owned {\r\n    address public owner;\r\n\r\n    function owned() public {\r\n        owner = msg.sender;\r\n    }\r\n\r\n    modifier onlyOwner {\r\n        if (msg.sender != owner) revert();\r\n        _;\r\n    }\r\n\r\n    function transferOwnership(address newOwner) public onlyOwner {\r\n        owner = newOwner;\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\ncontract WorldLotteryFast is owned{\r\n    uint public countTickets = 4;\r\n    uint public JackPot = 10000000000000000;\r\n    address[100] public tickets;\r\n    uint public ticketPrice = 10000000000000000;                         \r\n    uint public toJackPotfromEveryTicket = 1000000000000000;\r\n    uint public lastWinNumber;\r\n    uint public ticketCounter;\r\n    bool public playFast=true;\r\n \r\n\t\r\n    /* This generates a public event on the blockchain that will notify clients */\r\n\tevent Transfer(address indexed from, address indexed to, uint256 value);\r\n\r\n    function clearTickets() public {\r\n        for (uint i = 0 ; i < countTickets ; i++ )\r\n            tickets[i] = 0;\r\n    }\r\n\r\n    \r\n\tfunction PlayNow() public returns (bool success)  {     \r\n        lastWinNumber = uint(block.blockhash(block.number-1))%countTickets + 1;                                  // take random number\r\n      \t\t\r\n\t\tif (tickets[lastWinNumber] !=0 ){  \r\n\t\t\tmsg.sender.transfer(JackPot);\r\n\t\t\tTransfer(this,msg.sender,JackPot);\t\t\t\t\t\t\t\t\t\t\t\t//send Jack Pot to the winner\r\n\t\t\tJackPot = 0;                                                                \t                                                                // and clear JackPot\r\n        }  \r\n        clearTickets();\r\n        \r\n        return true;\r\n    }\r\n    \r\n    \r\n\tfunction getJackPot() public returns (uint jPot)  {     \r\n        return JackPot;\r\n    }\r\n\t\r\n \r\n    function setLotteryParameters(uint newCountTickets, uint newTicketPrice, uint newToJackPotfromEveryTicket, uint newJackPot, bool newPlayFast) public onlyOwner {\r\n        countTickets=newCountTickets;\r\n        ticketPrice = newTicketPrice;\r\n        toJackPotfromEveryTicket = newToJackPotfromEveryTicket;\r\n        JackPot=newJackPot;\r\n        playFast=newPlayFast;\r\n    }\r\n  \r\n    \r\n}\r\n\r\ncontract PlayLottery is WorldLotteryFast{\r\n\r\n\r\nfunction adopt(uint ticketId) public payable returns (uint) {\r\n\t\t\r\n\t\trequire(msg.value>=ticketPrice);\r\n\r\n\t\trequire(ticketId >= 0 && ticketId <= countTickets);\r\n\t\t\r\n\t\tif ( tickets[ticketId] != 0x0000000000000000000000000000000000000000 ) return 0;                        \t\t    // Check if ticket already buyed\r\n        JackPot += toJackPotfromEveryTicket;                                \t\t\t    \t\t\t\t\t\t\t\t            // send tokens to JackPot\r\n        tickets[ticketId] = msg.sender;                                    \t    \t\t\t\t\t\t\t\t\t\t\t           // write senders address to ticketlist\r\n       \r\n        Transfer(msg.sender,this,ticketPrice);\r\n        \r\n\t\tif (playFast)                                                           \t\t\t\t\t\t\t\t\t\t\t                          //if fast play\r\n\t\t    PlayNow();\r\n\t\telse{\r\n\t\t    ticketCounter++;                                                    \t\t\t\t\t\t\t\t\t\t\t                 //if need to buy all tickets\r\n\t\t    if (ticketCounter==countTickets)\r\n\t\t        PlayNow();\r\n\t\t}\r\n\t\t\r\n       \r\n\t\treturn ticketId;\r\n}\r\n\r\n\r\n// Retrieving the adopters\r\nfunction getAdopters() public view returns (address[100]) {\r\n  return tickets;\r\n}\r\n\r\nfunction withdraw() public onlyOwner {\r\n        owner.transfer(this.balance);\r\n}\r\n\r\n\r\nfunction killMe() public onlyOwner {\r\n        selfdestruct(owner);\r\n}\r\n\r\nfunction getLastWinNumber() public returns (uint){\r\n        return lastWinNumber;\r\n}\r\n\r\nfunction getTicket(uint newTicketId) public returns (address){\r\n        return  tickets[newTicketId];\r\n}\r\n\r\n}","ABI":"[{\"constant\":true,\"inputs\":[],\"name\":\"countTickets\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"JackPot\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"ticketPrice\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[],\"name\":\"withdraw\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"getAdopters\",\"outputs\":[{\"name\":\"\",\"type\":\"address[100]\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"tickets\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[],\"name\":\"getLastWinNumber\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"toJackPotfromEveryTicket\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[],\"name\":\"clearTickets\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"newTicketId\",\"type\":\"uint256\"}],\"name\":\"getTicket\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"ticketId\",\"type\":\"uint256\"}],\"name\":\"adopt\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":true,\"stateMutability\":\"payable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"ticketCounter\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"owner\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"lastWinNumber\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[],\"name\":\"PlayNow\",\"outputs\":[{\"name\":\"success\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[],\"name\":\"killMe\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"playFast\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[],\"name\":\"getJackPot\",\"outputs\":[{\"name\":\"jPot\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"newOwner\",\"type\":\"address\"}],\"name\":\"transferOwnership\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"newCountTickets\",\"type\":\"uint256\"},{\"name\":\"newTicketPrice\",\"type\":\"uint256\"},{\"name\":\"newToJackPotfromEveryTicket\",\"type\":\"uint256\"},{\"name\":\"newJackPot\",\"type\":\"uint256\"},{\"name\":\"newPlayFast\",\"type\":\"bool\"}],\"name\":\"setLotteryParameters\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"name\":\"from\",\"type\":\"address\"},{\"indexed\":true,\"name\":\"to\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"value\",\"type\":\"uint256\"}],\"name\":\"Transfer\",\"type\":\"event\"}]","ContractName":"PlayLottery","CompilerVersion":"v0.4.19+commit.c4cbbb05","OptimizationUsed":"0","Runs":"200","ConstructorArguments":"","Library":"","SwarmSource":"bzzr://fdc672c5933370a211e3d3a1590d994a416ea88a63a1a46ef2c1aae6107e4508"}]}