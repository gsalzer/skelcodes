{"status":"1","message":"OK","result":[{"SourceCode":"pragma solidity ^0.4.11;\r\n\r\n/*  Copyright 2017 GoInto, LLC\r\n\r\n    Licensed under the Apache License, Version 2.0 (the \"License\");\r\n    you may not use this file except in compliance with the License.\r\n    You may obtain a copy of the License at\r\n\r\n        http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n    Unless required by applicable law or agreed to in writing, software\r\n    distributed under the License is distributed on an \"AS IS\" BASIS,\r\n    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n    See the License for the specific language governing permissions and\r\n    limitations under the License.\r\n*/\r\n\r\n/** gointo migration tracker\r\n\r\n    Tracks the locations of smart contracts and their libraries should the need \r\n    arise for a migration\r\n */\r\ncontract GointoMigration {\r\n\r\n    struct Manager {\r\n        bool isAdmin;\r\n        bool isManager;\r\n        address addedBy;\r\n    }\r\n\r\n    mapping (address => Manager) internal managers;\r\n    mapping (string => address) internal contracts;\r\n\r\n    event EventSetContract(address by, string key, address contractAddress);\r\n    event EventAddAdmin(address by, address admin);\r\n    event EventRemoveAdmin(address by, address admin);\r\n    event EventAddManager(address by, address manager);\r\n    event EventRemoveManager(address by, address manager);\r\n\r\n    /**\r\n     * Only admins can execute\r\n     */\r\n    modifier onlyAdmin() { \r\n        require(managers[msg.sender].isAdmin == true);\r\n        _; \r\n    }\r\n\r\n    /**\r\n     * Only managers can execute\r\n     */\r\n    modifier onlyManager() { \r\n        require(managers[msg.sender].isManager == true);\r\n        _; \r\n    }\r\n\r\n    function GointoMigration(address originalAdmin) {\r\n        managers[originalAdmin] = Manager(true, true, msg.sender);\r\n    }\r\n\r\n    /**\r\n     * Set a contract location by key\r\n     * @param key - The string key to be used for lookup.  e.g. 'etherep'\r\n     * @param contractAddress - The address of the contract\r\n     */\r\n    function setContract(string key, address contractAddress) external onlyManager {\r\n\r\n        // Keep the key length down\r\n        require(bytes(key).length <= 32);\r\n\r\n        // Set\r\n        contracts[key] = contractAddress;\r\n\r\n        // Send event notification\r\n        EventSetContract(msg.sender, key, contractAddress);\r\n\r\n    }\r\n\r\n    /**\r\n     * Get a contract location by key\r\n     * @param key - The string key to be used for lookup.  e.g. 'etherep'\r\n     * @return contractAddress - The address of the contract\r\n     */\r\n    function getContract(string key) external constant returns (address) {\r\n\r\n        // Keep the key length down\r\n        require(bytes(key).length <= 32);\r\n\r\n        // Set\r\n        return contracts[key];\r\n\r\n    }\r\n\r\n    /**\r\n     * Get permissions of an address\r\n     * @param who - The address to check\r\n     * @return isAdmin - Is this address an admin?\r\n     * @return isManager - Is this address a manager?\r\n     */\r\n    function getPermissions(address who) external constant returns (bool, bool) {\r\n        return (managers[who].isAdmin, managers[who].isManager);\r\n    }\r\n\r\n    /**\r\n     * Add an admin\r\n     * @param adminAddress - The address of the admin\r\n     */\r\n    function addAdmin(address adminAddress) external onlyAdmin {\r\n\r\n        // Set\r\n        managers[adminAddress] = Manager(true, true, msg.sender);\r\n\r\n        // Send event notification\r\n        EventAddAdmin(msg.sender, adminAddress);\r\n\r\n    }\r\n\r\n    /**\r\n     * Remove an admin\r\n     * @param adminAddress - The address of the admin\r\n     */\r\n    function removeAdmin(address adminAddress) external onlyAdmin {\r\n\r\n        // Let's make sure we have at least one admin\r\n        require(adminAddress != msg.sender);\r\n\r\n        // Set\r\n        managers[adminAddress] = Manager(false, false, msg.sender);\r\n\r\n        // Send event notification\r\n        EventRemoveAdmin(msg.sender, adminAddress);\r\n\r\n    }\r\n\r\n    /**\r\n     * Add a manager\r\n     * @param manAddress - The address of the new manager\r\n     */\r\n    function addManager(address manAddress) external onlyAdmin {\r\n\r\n        // Set\r\n        managers[manAddress] = Manager(false, true, msg.sender);\r\n\r\n        // Send event notification\r\n        EventAddManager(msg.sender, manAddress);\r\n\r\n    }\r\n\r\n    /**\r\n     * Remove a manager\r\n     * @param manAddress - The address of the new manager\r\n     */\r\n    function removeManager(address manAddress) external onlyAdmin {\r\n\r\n        // Set\r\n        managers[manAddress] = Manager(false, false, msg.sender);\r\n\r\n        // Send event notification\r\n        EventRemoveManager(msg.sender, manAddress);\r\n\r\n    }\r\n\r\n}","ABI":"[{\"constant\":true,\"inputs\":[{\"name\":\"who\",\"type\":\"address\"}],\"name\":\"getPermissions\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"},{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"adminAddress\",\"type\":\"address\"}],\"name\":\"removeAdmin\",\"outputs\":[],\"payable\":false,\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"manAddress\",\"type\":\"address\"}],\"name\":\"addManager\",\"outputs\":[],\"payable\":false,\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"key\",\"type\":\"string\"}],\"name\":\"getContract\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"key\",\"type\":\"string\"},{\"name\":\"contractAddress\",\"type\":\"address\"}],\"name\":\"setContract\",\"outputs\":[],\"payable\":false,\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"adminAddress\",\"type\":\"address\"}],\"name\":\"addAdmin\",\"outputs\":[],\"payable\":false,\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"manAddress\",\"type\":\"address\"}],\"name\":\"removeManager\",\"outputs\":[],\"payable\":false,\"type\":\"function\"},{\"inputs\":[{\"name\":\"originalAdmin\",\"type\":\"address\"}],\"payable\":false,\"type\":\"constructor\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"name\":\"by\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"key\",\"type\":\"string\"},{\"indexed\":false,\"name\":\"contractAddress\",\"type\":\"address\"}],\"name\":\"EventSetContract\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"name\":\"by\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"admin\",\"type\":\"address\"}],\"name\":\"EventAddAdmin\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"name\":\"by\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"admin\",\"type\":\"address\"}],\"name\":\"EventRemoveAdmin\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"name\":\"by\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"manager\",\"type\":\"address\"}],\"name\":\"EventAddManager\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"name\":\"by\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"manager\",\"type\":\"address\"}],\"name\":\"EventRemoveManager\",\"type\":\"event\"}]","ContractName":"GointoMigration","CompilerVersion":"v0.4.15+commit.bbb8e64f","OptimizationUsed":"1","Runs":"200","ConstructorArguments":"000000000000000000000000d7c68e411238fbaea2bf3d66eac9880f8a1a7854","Library":"","SwarmSource":"bzzr://e0706c0b0a1b37101f064beea55eed26aaacf2afd6a303daa504ac3c87c05f8c"}]}