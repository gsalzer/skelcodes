{"status":"1","message":"OK","result":[{"SourceCode":"pragma solidity ^0.4.7;\r\n\r\ncontract AbstractSYCCrowdsale {\r\n}\r\n\r\n/// @title EarlyPurchase contract - Keep track of purchased amount by Early Purchasers\r\n/// Project by SynchroLife Team (https://synchrolife.org)\r\n/// This smart contract developed by Starbase - Token funding & payment Platform for innovative projects <support[at]starbase.co>\r\n\r\ncontract SYCEarlyPurchase {\r\n    /*\r\n     *  Properties\r\n     */\r\n    string public constant PURCHASE_AMOUNT_UNIT = 'ETH';    // Ether\r\n    uint public constant WEI_MINIMUM_PURCHASE = 1 * 10 ** 18;\r\n    uint public constant WEI_MAXIMUM_EARLYPURCHASE = 2 * 10 ** 18;\r\n    address public owner;\r\n    EarlyPurchase[] public earlyPurchases;\r\n    uint public earlyPurchaseClosedAt;\r\n    uint public totalEarlyPurchaseRaised;\r\n\r\n    /*\r\n     *  Types\r\n     */\r\n    struct EarlyPurchase {\r\n        address purchaser;\r\n        uint amount;        // Amount in Wei( = 1/ 10^18 Ether)\r\n        uint purchasedAt;   // timestamp\r\n    }\r\n\r\n    /*\r\n     *  External contracts\r\n     */\r\n    AbstractSYCCrowdsale public sycCrowdsale;\r\n\r\n\r\n    /*\r\n     *  Modifiers\r\n     */\r\n    modifier onlyOwner() {\r\n        if (msg.sender != owner) {\r\n            throw;\r\n        }\r\n        _;\r\n    }\r\n\r\n    modifier onlyEarlyPurchaseTerm() {\r\n        if (earlyPurchaseClosedAt > 0) {\r\n            throw;\r\n        }\r\n        _;\r\n    }\r\n\r\n    /// @dev Contract constructor function\r\n    function SYCEarlyPurchase() {\r\n        owner = msg.sender;\r\n    }\r\n\r\n    /*\r\n     *  Contract functions\r\n     */\r\n    /// @dev Returns early purchased amount by purchaser's address\r\n    /// @param purchaser Purchaser address\r\n    function purchasedAmountBy(address purchaser)\r\n        external\r\n        constant\r\n        returns (uint amount)\r\n    {\r\n        for (uint i; i < earlyPurchases.length; i++) {\r\n            if (earlyPurchases[i].purchaser == purchaser) {\r\n                amount += earlyPurchases[i].amount;\r\n            }\r\n        }\r\n    }\r\n\r\n    /// @dev Returns number of early purchases\r\n    function numberOfEarlyPurchases()\r\n        external\r\n        constant\r\n        returns (uint)\r\n    {\r\n        return earlyPurchases.length;\r\n    }\r\n\r\n    /// @dev Append an early purchase log\r\n    /// @param purchaser Purchaser address\r\n    /// @param amount Purchase amount\r\n    /// @param purchasedAt Timestamp of purchased date\r\n    function appendEarlyPurchase(address purchaser, uint amount, uint purchasedAt)\r\n        internal\r\n        onlyEarlyPurchaseTerm\r\n        returns (bool)\r\n    {\r\n        if (purchasedAt == 0 || purchasedAt > now) {\r\n            throw;\r\n        }\r\n\r\n        earlyPurchases.push(EarlyPurchase(purchaser, amount, purchasedAt));\r\n        if (purchasedAt == 0 || purchasedAt > now) {\r\n            throw;\r\n        }\r\n\r\n        if(totalEarlyPurchaseRaised + amount >= WEI_MAXIMUM_EARLYPURCHASE){\r\n           purchaser.send(totalEarlyPurchaseRaised + amount - WEI_MAXIMUM_EARLYPURCHASE);\r\n           totalEarlyPurchaseRaised += WEI_MAXIMUM_EARLYPURCHASE - totalEarlyPurchaseRaised;\r\n        }\r\n        else{\r\n           totalEarlyPurchaseRaised += amount;\r\n        }\r\n        if(totalEarlyPurchaseRaised >= WEI_MAXIMUM_EARLYPURCHASE){\r\n            closeEarlyPurchase();\r\n        }\r\n        return true;\r\n    }\r\n\r\n    /// @dev Close early purchase term\r\n    function closeEarlyPurchase()\r\n        onlyOwner\r\n        returns (bool)\r\n    {\r\n        earlyPurchaseClosedAt = now;\r\n    }\r\n\r\n    /// @dev Setup function sets external crowdsale contract's address\r\n    /// @param sycCrowdsaleAddress Token address\r\n    function setup(address sycCrowdsaleAddress)\r\n        external\r\n        onlyOwner\r\n        returns (bool)\r\n    {\r\n        if (address(sycCrowdsale) == 0) {\r\n            sycCrowdsale = AbstractSYCCrowdsale(sycCrowdsaleAddress);\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    function withdraw(uint withdrawalAmount) onlyOwner {\r\n          if(!owner.send(withdrawalAmount)) throw;  // send collected ETH to SynchroLife team\r\n    }\r\n\r\n    function withdrawAll() onlyOwner {\r\n          if(!owner.send(this.balance)) throw;  // send all collected ETH to SynchroLife team\r\n    }\r\n\r\n    function transferOwnership(address newOwner) onlyOwner {\r\n        owner = newOwner;\r\n    }\r\n\r\n    /// @dev By sending Ether to the contract, early purchase will be recorded.\r\n    function () payable{\r\n        require(msg.value >= WEI_MINIMUM_PURCHASE);\r\n        appendEarlyPurchase(msg.sender, msg.value, block.timestamp);\r\n    }\r\n}","ABI":"[{\"constant\":true,\"inputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"earlyPurchases\",\"outputs\":[{\"name\":\"purchaser\",\"type\":\"address\"},{\"name\":\"amount\",\"type\":\"uint256\"},{\"name\":\"purchasedAt\",\"type\":\"uint256\"}],\"payable\":false,\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"earlyPurchaseClosedAt\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"WEI_MINIMUM_PURCHASE\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"withdrawalAmount\",\"type\":\"uint256\"}],\"name\":\"withdraw\",\"outputs\":[],\"payable\":false,\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"numberOfEarlyPurchases\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"purchaser\",\"type\":\"address\"}],\"name\":\"purchasedAmountBy\",\"outputs\":[{\"name\":\"amount\",\"type\":\"uint256\"}],\"payable\":false,\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"sycCrowdsaleAddress\",\"type\":\"address\"}],\"name\":\"setup\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"type\":\"function\"},{\"constant\":false,\"inputs\":[],\"name\":\"withdrawAll\",\"outputs\":[],\"payable\":false,\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"totalEarlyPurchaseRaised\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"owner\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"sycCrowdsale\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"type\":\"function\"},{\"constant\":false,\"inputs\":[],\"name\":\"closeEarlyPurchase\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"WEI_MAXIMUM_EARLYPURCHASE\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"newOwner\",\"type\":\"address\"}],\"name\":\"transferOwnership\",\"outputs\":[],\"payable\":false,\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"PURCHASE_AMOUNT_UNIT\",\"outputs\":[{\"name\":\"\",\"type\":\"string\"}],\"payable\":false,\"type\":\"function\"},{\"inputs\":[],\"payable\":false,\"type\":\"constructor\"},{\"payable\":true,\"type\":\"fallback\"}]","ContractName":"SYCEarlyPurchase","CompilerVersion":"v0.4.16-nightly.2017.8.15+commit.dca1f45c","OptimizationUsed":"1","Runs":"200","ConstructorArguments":"","Library":"","SwarmSource":"bzzr://78ae8a7bdaf735d49dd65d35fd6f689338009eb1697fd5b15d36bf7b97b07720"}]}