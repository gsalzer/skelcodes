{"status":"1","message":"OK","result":[{"SourceCode":"pragma solidity ^0.4.17;\r\n\r\n\r\n\r\n\r\n  \r\n\r\n   \r\n\t\r\n\r\ncontract SafeMath {\r\n    function safeAdd(uint x, uint y) pure internal returns(uint) {\r\n      uint z = x + y;\r\n      assert((z >= x) && (z >= y));\r\n      return z;\r\n    }\r\n\r\n    function safeSubtract(uint x, uint y) pure internal returns(uint) {\r\n      assert(x >= y);\r\n      uint z = x - y;\r\n      return z;\r\n    }\r\n\r\n    function safeMult(uint x, uint y) pure internal returns(uint) {\r\n      uint z = x * y;\r\n      assert((x == 0)||(z/x == y));\r\n      return z;\r\n    }\r\n\r\n    function getRandomNumber(uint16 maxRandom, uint8 min, address privateAddress) constant public returns(uint8) {\r\n        uint256 genNum = uint256(block.blockhash(block.number-1)) + uint256(privateAddress);\r\n        return uint8(genNum % (maxRandom - min + 1)+min);\r\n    }\r\n}\r\n\r\ncontract Enums {\r\n    enum ResultCode {\r\n        SUCCESS,\r\n        ERROR_CLASS_NOT_FOUND,\r\n        ERROR_LOW_BALANCE,\r\n        ERROR_SEND_FAIL,\r\n        ERROR_NOT_OWNER,\r\n        ERROR_NOT_ENOUGH_MONEY,\r\n        ERROR_INVALID_AMOUNT\r\n    }\r\n\r\n    enum AngelAura { \r\n        Blue, \r\n        Yellow, \r\n        Purple, \r\n        Orange, \r\n        Red, \r\n        Green \r\n    }\r\n}\r\n\r\n\r\n\r\ncontract AccessControl {\r\n    address public creatorAddress;\r\n    uint16 public totalSeraphims = 0;\r\n    mapping (address => bool) public seraphims;\r\n\r\n    bool public isMaintenanceMode = true;\r\n \r\n    modifier onlyCREATOR() {\r\n        require(msg.sender == creatorAddress);\r\n        _;\r\n    }\r\n\r\n    modifier onlySERAPHIM() {\r\n        require(seraphims[msg.sender] == true);\r\n        _;\r\n    }\r\n    \r\n    modifier isContractActive {\r\n        require(!isMaintenanceMode);\r\n        _;\r\n    }\r\n    \r\n    // Constructor\r\n    function AccessControl() public {\r\n        creatorAddress = msg.sender;\r\n    }\r\n    \r\n\r\n    function addSERAPHIM(address _newSeraphim) onlyCREATOR public {\r\n        if (seraphims[_newSeraphim] == false) {\r\n            seraphims[_newSeraphim] = true;\r\n            totalSeraphims += 1;\r\n        }\r\n    }\r\n    \r\n    function removeSERAPHIM(address _oldSeraphim) onlyCREATOR public {\r\n        if (seraphims[_oldSeraphim] == true) {\r\n            seraphims[_oldSeraphim] = false;\r\n            totalSeraphims -= 1;\r\n        }\r\n    }\r\n\r\n    function updateMaintenanceMode(bool _isMaintaining) onlyCREATOR public {\r\n        isMaintenanceMode = _isMaintaining;\r\n    }\r\n\r\n  \r\n} \r\ncontract IAccessoryData is AccessControl, Enums {\r\n    uint8 public totalAccessorySeries;    \r\n    uint32 public totalAccessories;\r\n    \r\n \r\n    /*** FUNCTIONS ***/\r\n    //*** Write Access ***//\r\n    function createAccessorySeries(uint8 _AccessorySeriesId, uint32 _maxTotal, uint _price) onlyCREATOR public returns(uint8) ;\r\n\tfunction setAccessory(uint8 _AccessorySeriesId, address _owner) onlySERAPHIM external returns(uint64);\r\n   function addAccessoryIdMapping(address _owner, uint64 _accessoryId) private;\r\n\tfunction transferAccessory(address _from, address _to, uint64 __accessoryId) onlySERAPHIM public returns(ResultCode);\r\n    function ownerAccessoryTransfer (address _to, uint64 __accessoryId)  public;\r\n    function updateAccessoryLock (uint64 _accessoryId, bool newValue) public;\r\n    function removeCreator() onlyCREATOR external;\r\n    \r\n    //*** Read Access ***//\r\n    function getAccessorySeries(uint8 _accessorySeriesId) constant public returns(uint8 accessorySeriesId, uint32 currentTotal, uint32 maxTotal, uint price) ;\r\n\tfunction getAccessory(uint _accessoryId) constant public returns(uint accessoryID, uint8 AccessorySeriesID, address owner);\r\n\tfunction getOwnerAccessoryCount(address _owner) constant public returns(uint);\r\n\tfunction getAccessoryByIndex(address _owner, uint _index) constant public returns(uint) ;\r\n    function getTotalAccessorySeries() constant public returns (uint8) ;\r\n    function getTotalAccessories() constant public returns (uint);\r\n    function getAccessoryLockStatus(uint64 _acessoryId) constant public returns (bool);\r\n}\r\n\r\ncontract AccessoryData is IAccessoryData, SafeMath {\r\n    /*** EVENTS ***/\r\n    event CreatedAccessory (uint64 accessoryId);\r\n    event Transfer(address indexed from, address indexed to, uint256 indexed tokenId);\r\n\r\n    /*** DATA TYPES ***/\r\n    struct AccessorySeries {\r\n        uint8 AccessorySeriesId;\r\n        uint32 currentTotal;\r\n        uint32 maxTotal;\r\n        uint price;\r\n    }\r\n\r\n    struct Accessory {\r\n        uint32 accessoryId;\r\n        uint8 accessorySeriesId;\r\n        address owner;\r\n        bool ownerLock;\r\n    }\r\n\r\n\r\n    /*** STORAGE ***/\r\n    mapping(uint8 => AccessorySeries) public AccessorySeriesCollection;\r\n    mapping(uint => Accessory) public AccessoryCollection;\r\n    mapping(address => uint64[]) public ownerAccessoryCollection;\r\n    \r\n    /*** FUNCTIONS ***/\r\n    //*** Write Access ***//\r\n    function AccessoryData() public {\r\n      \r\n    }\r\n\r\n    //*** Accessories***/\r\n    function createAccessorySeries(uint8 _AccessorySeriesId, uint32 _maxTotal, uint _price) onlyCREATOR public returns(uint8) {\r\n        \r\n        if ((now > 1517189201) || (totalAccessorySeries >= 18)) {revert();}\r\n        //This confirms that no one, even the develoopers, can create any accessorySeries after JAN/29/2018 @ 1:26 am (UTC) or more than the original 18 series. \r\n        AccessorySeries storage accessorySeries = AccessorySeriesCollection[_AccessorySeriesId];\r\n        accessorySeries.AccessorySeriesId = _AccessorySeriesId;\r\n        accessorySeries.maxTotal = _maxTotal;\r\n        accessorySeries.price = _price;\r\n\r\n        totalAccessorySeries += 1;\r\n        return totalAccessorySeries;\r\n    }\r\n\t\r\n\tfunction setAccessory(uint8 _seriesIDtoCreate, address _owner) external onlySERAPHIM returns(uint64) { \r\n        AccessorySeries storage series = AccessorySeriesCollection[_seriesIDtoCreate];\r\n        if (series.maxTotal <= series.currentTotal) {revert();}\r\n        else {\r\n        totalAccessories += 1;\r\n        series.currentTotal +=1;\r\n       Accessory storage accessory = AccessoryCollection[totalAccessories];\r\n        accessory.accessoryId = totalAccessories;\r\n       accessory.accessorySeriesId = _seriesIDtoCreate;\r\n        accessory.owner = _owner;\r\n        accessory.ownerLock = true;\r\n        uint64[] storage owners = ownerAccessoryCollection[_owner];\r\n        owners.push(accessory.accessoryId);\r\n       }\r\n        \r\n    }\r\n\r\n    \r\n   function addAccessoryIdMapping(address _owner, uint64 _accessoryId) private  {\r\n            uint64[] storage owners = ownerAccessoryCollection[_owner];\r\n          owners.push(_accessoryId);\r\n          Accessory storage accessory = AccessoryCollection[_accessoryId];\r\n          accessory.owner = _owner;\r\n    \r\n   }\r\n    \r\n\r\n\t\r\n\tfunction transferAccessory(address _from, address _to, uint64 __accessoryId) onlySERAPHIM public returns(ResultCode) {\r\n        Accessory storage accessory = AccessoryCollection[__accessoryId];\r\n        if (accessory.owner != _from) {\r\n            return ResultCode.ERROR_NOT_OWNER;\r\n        }\r\n        if (_from == _to) {revert();}\r\n        if (accessory.ownerLock == true) {revert();}\r\n     addAccessoryIdMapping(_to, __accessoryId);\r\n        return ResultCode.SUCCESS;\r\n    }\r\n  function ownerAccessoryTransfer (address _to, uint64 __accessoryId)  public  {\r\n     //Any owner of an accessory can call this function to transfer their accessory to any other address. \r\n     \r\n       if ((__accessoryId > totalAccessories) || ( __accessoryId == 0)) {revert();}\r\n         Accessory storage accessory = AccessoryCollection[__accessoryId];\r\n        if (msg.sender == _to) {revert();} //can't send an accessory to yourself\r\n        if (accessory.owner != msg.sender) {revert();} //can't send an accessory you don't own. \r\n        else {\r\n        accessory.owner = _to;\r\n      addAccessoryIdMapping(_to, __accessoryId);\r\n        }\r\n    }\r\n    \r\n       function updateAccessoryLock (uint64 _accessoryId, bool newValue) public {\r\n        if ((_accessoryId > totalAccessories) || (_accessoryId == 0)) {revert();}\r\n        Accessory storage accessory = AccessoryCollection[_accessoryId];\r\n        if (accessory.owner != msg.sender) { revert();}\r\n        accessory.ownerLock = newValue;\r\n    }\r\n    \r\n       function removeCreator() onlyCREATOR external {\r\n        //this function is meant to be called once all modules for the game are in place. It will remove our ability to add any new modules and make the game fully decentralized. \r\n        creatorAddress = address(0);\r\n    }\r\n\r\n    //*** Read Access ***//\r\n    function getAccessorySeries(uint8 _accessorySeriesId) constant public returns(uint8 accessorySeriesId, uint32 currentTotal, uint32 maxTotal, uint price) {\r\n        AccessorySeries memory series = AccessorySeriesCollection[_accessorySeriesId];\r\n        accessorySeriesId = series.AccessorySeriesId;\r\n        currentTotal = series.currentTotal;\r\n        maxTotal = series.maxTotal;\r\n        price = series.price;\r\n    }\r\n\t\r\n\tfunction getAccessory(uint _accessoryId) constant public returns(uint accessoryID, uint8 AccessorySeriesID, address owner) {\r\n        Accessory memory accessory = AccessoryCollection[_accessoryId];\r\n        accessoryID = accessory.accessoryId;\r\n        AccessorySeriesID = accessory.accessorySeriesId;\r\n        owner = accessory.owner;\r\n  \r\n       \r\n    }\r\n\t\r\n\tfunction getOwnerAccessoryCount(address _owner) constant public returns(uint) {\r\n        return ownerAccessoryCollection[_owner].length;\r\n    }\r\n\t\r\n\tfunction getAccessoryByIndex(address _owner, uint _index) constant public returns(uint) {\r\n        if (_index >= ownerAccessoryCollection[_owner].length)\r\n            return 0;\r\n        return ownerAccessoryCollection[_owner][_index];\r\n    }\r\n\r\n    function getTotalAccessorySeries() constant public returns (uint8) {\r\n        return totalAccessorySeries;\r\n    }\r\n\r\n    function getTotalAccessories() constant public returns (uint) {\r\n        return totalAccessories;\r\n    }\r\n      function getAccessoryLockStatus(uint64 _acessoryId) constant public returns (bool) {\r\n        if ((_acessoryId > totalAccessories) || (_acessoryId == 0)) {revert();}\r\n       Accessory storage accessory = AccessoryCollection[_acessoryId];\r\n       return accessory.ownerLock;\r\n    }\r\n}","ABI":"[{\"constant\":true,\"inputs\":[{\"name\":\"_accessoryId\",\"type\":\"uint256\"}],\"name\":\"getAccessory\",\"outputs\":[{\"name\":\"accessoryID\",\"type\":\"uint256\"},{\"name\":\"AccessorySeriesID\",\"type\":\"uint8\"},{\"name\":\"owner\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"_acessoryId\",\"type\":\"uint64\"}],\"name\":\"getAccessoryLockStatus\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_from\",\"type\":\"address\"},{\"name\":\"_to\",\"type\":\"address\"},{\"name\":\"__accessoryId\",\"type\":\"uint64\"}],\"name\":\"transferAccessory\",\"outputs\":[{\"name\":\"\",\"type\":\"uint8\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"\",\"type\":\"address\"}],\"name\":\"seraphims\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"\",\"type\":\"address\"},{\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"ownerAccessoryCollection\",\"outputs\":[{\"name\":\"\",\"type\":\"uint64\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_isMaintaining\",\"type\":\"bool\"}],\"name\":\"updateMaintenanceMode\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"_owner\",\"type\":\"address\"}],\"name\":\"getOwnerAccessoryCount\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_AccessorySeriesId\",\"type\":\"uint8\"},{\"name\":\"_maxTotal\",\"type\":\"uint32\"},{\"name\":\"_price\",\"type\":\"uint256\"}],\"name\":\"createAccessorySeries\",\"outputs\":[{\"name\":\"\",\"type\":\"uint8\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"maxRandom\",\"type\":\"uint16\"},{\"name\":\"min\",\"type\":\"uint8\"},{\"name\":\"privateAddress\",\"type\":\"address\"}],\"name\":\"getRandomNumber\",\"outputs\":[{\"name\":\"\",\"type\":\"uint8\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"isMaintenanceMode\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_oldSeraphim\",\"type\":\"address\"}],\"name\":\"removeSERAPHIM\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[],\"name\":\"removeCreator\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"AccessoryCollection\",\"outputs\":[{\"name\":\"accessoryId\",\"type\":\"uint32\"},{\"name\":\"accessorySeriesId\",\"type\":\"uint8\"},{\"name\":\"owner\",\"type\":\"address\"},{\"name\":\"ownerLock\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"getTotalAccessories\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"totalAccessorySeries\",\"outputs\":[{\"name\":\"\",\"type\":\"uint8\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"\",\"type\":\"uint8\"}],\"name\":\"AccessorySeriesCollection\",\"outputs\":[{\"name\":\"AccessorySeriesId\",\"type\":\"uint8\"},{\"name\":\"currentTotal\",\"type\":\"uint32\"},{\"name\":\"maxTotal\",\"type\":\"uint32\"},{\"name\":\"price\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"totalSeraphims\",\"outputs\":[{\"name\":\"\",\"type\":\"uint16\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"getTotalAccessorySeries\",\"outputs\":[{\"name\":\"\",\"type\":\"uint8\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_accessoryId\",\"type\":\"uint64\"},{\"name\":\"newValue\",\"type\":\"bool\"}],\"name\":\"updateAccessoryLock\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_newSeraphim\",\"type\":\"address\"}],\"name\":\"addSERAPHIM\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"totalAccessories\",\"outputs\":[{\"name\":\"\",\"type\":\"uint32\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"creatorAddress\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"_accessorySeriesId\",\"type\":\"uint8\"}],\"name\":\"getAccessorySeries\",\"outputs\":[{\"name\":\"accessorySeriesId\",\"type\":\"uint8\"},{\"name\":\"currentTotal\",\"type\":\"uint32\"},{\"name\":\"maxTotal\",\"type\":\"uint32\"},{\"name\":\"price\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_to\",\"type\":\"address\"},{\"name\":\"__accessoryId\",\"type\":\"uint64\"}],\"name\":\"ownerAccessoryTransfer\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_seriesIDtoCreate\",\"type\":\"uint8\"},{\"name\":\"_owner\",\"type\":\"address\"}],\"name\":\"setAccessory\",\"outputs\":[{\"name\":\"\",\"type\":\"uint64\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"_owner\",\"type\":\"address\"},{\"name\":\"_index\",\"type\":\"uint256\"}],\"name\":\"getAccessoryByIndex\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"name\":\"accessoryId\",\"type\":\"uint64\"}],\"name\":\"CreatedAccessory\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"name\":\"from\",\"type\":\"address\"},{\"indexed\":true,\"name\":\"to\",\"type\":\"address\"},{\"indexed\":true,\"name\":\"tokenId\",\"type\":\"uint256\"}],\"name\":\"Transfer\",\"type\":\"event\"}]","ContractName":"AccessoryData","CompilerVersion":"v0.4.19+commit.c4cbbb05","OptimizationUsed":"0","Runs":"200","ConstructorArguments":"","Library":"","SwarmSource":"bzzr://5018fdda32b579c3b4d7d143223fce641419d445dfc59c7d9903ab9eff05ca51"}]}