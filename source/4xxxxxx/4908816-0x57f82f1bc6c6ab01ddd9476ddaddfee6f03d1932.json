{"status":"1","message":"OK","result":[{"SourceCode":"pragma solidity ^0.4.18;\r\n\r\nlibrary SafeMath {\r\n\r\n    function sub(uint256 a, uint256 b) internal pure returns (uint256 c) {\r\n        require((c = a - b) <= a);\r\n    }\r\n    function add(uint256 a, uint256 b) internal pure returns (uint256 c) {\r\n        require((c = a + b) >= a);\r\n    }\r\n    function mul(uint256 a, uint256 b) internal pure returns (uint256 c) {\r\n        require((b == 0 || (c = a * b) / b == a));\r\n    }\r\n    function div(uint256 a, uint256 b) internal pure returns (uint256 c) {\r\n        c = a / b;\r\n    }\r\n}\r\n\r\ninterface Token {\r\n    function mintTokens(address _recipient, uint _value) external returns(bool success);\r\n    function balanceOf(address _holder) public returns(uint256 tokens);\r\n    function totalSupply() public returns(uint256 _totalSupply);\r\n}\r\n\r\ncontract Presale {\r\n    using SafeMath for uint256;\r\n    \r\n    Token public tokenContract;\r\n\r\n    address public beneficiaryAddress;\r\n    uint256 public tokensPerEther;\r\n    uint256 public minimumContribution;\r\n    uint256 public startTime;\r\n    uint256 public endTime;\r\n    uint256 public hardcapInEther;\r\n    uint256 public fundsRaised;\r\n    \r\n\r\n    mapping (address => uint256) public contributionBy;\r\n    \r\n    event ContributionReceived(address contributer, uint256 amount, uint256 totalContributions,uint totalAmountRaised);\r\n    event FundsWithdrawn(uint256 funds, address beneficiaryAddress);\r\n\r\n    function Presale(\r\n        address _beneficiaryAddress,\r\n        uint256 _tokensPerEther,\r\n        uint256 _minimumContributionInFinney,\r\n        uint256 _startTime,\r\n        uint256 _saleLengthinHours,\r\n        address _tokenContractAddress,\r\n        uint256 _hardcapInEther) {\r\n        startTime = _startTime;\r\n        endTime = startTime + (_saleLengthinHours * 1 hours);\r\n        beneficiaryAddress = _beneficiaryAddress;\r\n        tokensPerEther = _tokensPerEther;\r\n        minimumContribution = _minimumContributionInFinney * 1 finney;\r\n        tokenContract = Token(_tokenContractAddress);\r\n        hardcapInEther = _hardcapInEther * 1 ether;\r\n    }\r\n\r\n    function () public payable {\r\n        require(presaleOpen());\r\n        require(msg.value >= minimumContribution);\r\n        uint256 contribution = msg.value;\r\n        uint256 refund;\r\n        if(this.balance > hardcapInEther){\r\n            refund = this.balance.sub(hardcapInEther);\r\n            contribution = msg.value.sub(refund);\r\n            msg.sender.transfer(refund);\r\n        }\r\n        fundsRaised = fundsRaised.add(contribution);\r\n        contributionBy[msg.sender] = contributionBy[msg.sender].add(contribution);\r\n        tokenContract.mintTokens(msg.sender, contribution.mul(tokensPerEther));\r\n        ContributionReceived(msg.sender, contribution, contributionBy[msg.sender], this.balance);\r\n    }\r\n\r\n\r\n    function presaleOpen() public view returns(bool) {return(now >= startTime &&\r\n                                                            now <= endTime &&\r\n                                                            fundsRaised < hardcapInEther);} \r\n\r\n    function withdrawFunds() public {\r\n        require(this.balance > 0);\r\n        beneficiaryAddress.transfer(this.balance);\r\n        FundsWithdrawn(this.balance, beneficiaryAddress);\r\n    }\r\n}","ABI":"[{\"constant\":false,\"inputs\":[],\"name\":\"withdrawFunds\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"endTime\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"tokenContract\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"hardcapInEther\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"fundsRaised\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"\",\"type\":\"address\"}],\"name\":\"contributionBy\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"startTime\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"minimumContribution\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"presaleOpen\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"beneficiaryAddress\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"tokensPerEther\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"name\":\"_beneficiaryAddress\",\"type\":\"address\"},{\"name\":\"_tokensPerEther\",\"type\":\"uint256\"},{\"name\":\"_minimumContributionInFinney\",\"type\":\"uint256\"},{\"name\":\"_startTime\",\"type\":\"uint256\"},{\"name\":\"_saleLengthinHours\",\"type\":\"uint256\"},{\"name\":\"_tokenContractAddress\",\"type\":\"address\"},{\"name\":\"_hardcapInEther\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"payable\":true,\"stateMutability\":\"payable\",\"type\":\"fallback\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"name\":\"contributer\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"amount\",\"type\":\"uint256\"},{\"indexed\":false,\"name\":\"totalContributions\",\"type\":\"uint256\"},{\"indexed\":false,\"name\":\"totalAmountRaised\",\"type\":\"uint256\"}],\"name\":\"ContributionReceived\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"name\":\"funds\",\"type\":\"uint256\"},{\"indexed\":false,\"name\":\"beneficiaryAddress\",\"type\":\"address\"}],\"name\":\"FundsWithdrawn\",\"type\":\"event\"}]","ContractName":"Presale","CompilerVersion":"v0.4.18+commit.9cf6e910","OptimizationUsed":"0","Runs":"200","ConstructorArguments":"000000000000000000000000aa79a06ad17201b4567e430a95f81f3062fe58c4000000000000000000000000000000000000000000000000000000000000659000000000000000000000000000000000000000000000000000000000000003e8000000000000000000000000000000000000000000000000000000005a5bef0000000000000000000000000000000000000000000000000000000000000001980000000000000000000000005c70008427a2b2a07702ab59bf191439f652e4ec0000000000000000000000000000000000000000000000000000000000000181","Library":"","SwarmSource":"bzzr://1a11f330f088d029c6c8ca633a9d34074f9fe2fcf30f3570a8761cc02859d14b"}]}