{"status":"1","message":"OK","result":[{"SourceCode":"pragma solidity ^0.4.18;\r\n\r\ncontract Token {\r\n  function transferFrom(address from, address to, uint256 value) public returns (bool success);\r\n  function transfer(address _to, uint256 _value) public returns (bool success);\r\n}\r\n\r\ncontract TokenPeg {\r\n  address public minimalToken;\r\n  address public signalToken;\r\n  bool public pegIsSetup;\r\n\r\n  event Configured(address minToken, address sigToken);\r\n  event SignalingEnabled(address exchanger, uint tokenCount);\r\n  event SignalingDisabled(address exchanger, uint tokenCount);\r\n\r\n  function TokenPeg() public {\r\n    pegIsSetup = false;\r\n  }\r\n\r\n  function setupPeg(address _minimalToken, address _signalToken) public {\r\n    require(!pegIsSetup);\r\n    pegIsSetup = true;\r\n\r\n    minimalToken = _minimalToken;\r\n    signalToken = _signalToken;\r\n\r\n    Configured(_minimalToken, _signalToken);\r\n  }\r\n\r\n  function tokenFallback(address _from, uint _value, bytes /*_data*/) public {\r\n    require(pegIsSetup);\r\n    require(msg.sender == signalToken);\r\n    giveMinimalTokens(_from, _value);\r\n  }\r\n\r\n  function convertMinimalToSignal(uint amount) public {\r\n    require(Token(minimalToken).transferFrom(msg.sender, this, amount));\r\n    require(Token(signalToken).transfer(msg.sender, amount));\r\n\r\n    SignalingEnabled(msg.sender, amount);\r\n  }\r\n\r\n  function convertSignalToMinimal(uint amount) public {\r\n    require(Token(signalToken).transferFrom(msg.sender, this, amount));\r\n  }\r\n\r\n  function giveMinimalTokens(address from, uint amount) private {\r\n    require(Token(minimalToken).transfer(from, amount));\r\n    \r\n    SignalingDisabled(from, amount);\r\n  }\r\n\r\n}","ABI":"[{\"constant\":true,\"inputs\":[],\"name\":\"pegIsSetup\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"convertMinimalToSignal\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_minimalToken\",\"type\":\"address\"},{\"name\":\"_signalToken\",\"type\":\"address\"}],\"name\":\"setupPeg\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_from\",\"type\":\"address\"},{\"name\":\"_value\",\"type\":\"uint256\"},{\"name\":\"\",\"type\":\"bytes\"}],\"name\":\"tokenFallback\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"convertSignalToMinimal\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"signalToken\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"minimalToken\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"name\":\"minToken\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"sigToken\",\"type\":\"address\"}],\"name\":\"Configured\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"name\":\"exchanger\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"tokenCount\",\"type\":\"uint256\"}],\"name\":\"SignalingEnabled\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"name\":\"exchanger\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"tokenCount\",\"type\":\"uint256\"}],\"name\":\"SignalingDisabled\",\"type\":\"event\"}]","ContractName":"TokenPeg","CompilerVersion":"v0.4.19+commit.c4cbbb05","OptimizationUsed":"0","Runs":"200","ConstructorArguments":"","Library":"","SwarmSource":"bzzr://92555f387d8abbd26cfc3d0c919b00a614876a063e18e6ab4fa9c49926d2bdbd"}]}