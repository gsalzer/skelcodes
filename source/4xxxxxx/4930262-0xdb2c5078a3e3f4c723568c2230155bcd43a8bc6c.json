{"status":"1","message":"OK","result":[{"SourceCode":"pragma solidity ^0.4.11;\r\n\r\ncontract Certificate {\r\n  struct Subject {\r\n    uint id;            \r\n    address validate_hash; \r\n    uint birthday;      \r\n    string fullname;   \r\n    uint8 gender;       \r\n    uint dt_sign;       \r\n    uint dt_cancel;    \r\n  }\r\n  uint8 type_id;   \r\n  uint dt_create; \r\n  address[] subjects_addr; \r\n  mapping (address => Subject) subjects;\r\n  address _owner;       \r\n\r\n  function Certificate(uint8 _type_id, uint _dt_create, address[] _subjects_addr) public {\r\n    type_id = _type_id;\r\n    dt_create = _dt_create;\r\n    subjects_addr = _subjects_addr;\r\n    _owner = msg.sender;\r\n  }\r\n\r\n  modifier restricted_to_subject {\r\n      bool allowed = false;\r\n      for(uint i = 0; i < subjects_addr.length; i++) {\r\n        if (msg.sender == subjects_addr[i]) {\r\n          allowed = true;\r\n          break;\r\n        }\r\n      }\r\n      if (subjects[msg.sender].dt_sign != 0 || allowed == false) {\r\n        revert();\r\n      }\r\n      _;\r\n  }\r\n\r\n  function Sign(uint _id, address _validate_hash, uint _birthday, uint8 _gender, uint _dt_sign, string _fullname) public restricted_to_subject payable {\r\n    subjects[msg.sender] = Subject(_id, _validate_hash, _birthday, _fullname, _gender, _dt_sign, 0);\r\n    if(msg.value != 0)\r\n      _owner.transfer(msg.value);\r\n  }\r\n\r\n  function getSubject(uint index) public constant returns (uint _id, address _validate_hash, uint _birthday, string _fullname, uint8 _gender, uint _dt_sign, uint _dt_cancel) {\r\n    _id = subjects[subjects_addr[index]].id;\r\n    _validate_hash = subjects[subjects_addr[index]].validate_hash;\r\n    _birthday = subjects[subjects_addr[index]].birthday;\r\n    _fullname = subjects[subjects_addr[index]].fullname;\r\n    _gender = subjects[subjects_addr[index]].gender;\r\n    _dt_sign = subjects[subjects_addr[index]].dt_sign;\r\n    _dt_cancel = subjects[subjects_addr[index]].dt_cancel;\r\n  }\r\n\r\n  function getCertificate() public constant returns (uint8 _type_id, uint _dt_create, uint _subjects_count) {\r\n    _type_id = type_id;\r\n    _dt_create = dt_create;\r\n    _subjects_count = subjects_addr.length;\r\n  }\r\n}","ABI":"[{\"constant\":false,\"inputs\":[{\"name\":\"_id\",\"type\":\"uint256\"},{\"name\":\"_validate_hash\",\"type\":\"address\"},{\"name\":\"_birthday\",\"type\":\"uint256\"},{\"name\":\"_gender\",\"type\":\"uint8\"},{\"name\":\"_dt_sign\",\"type\":\"uint256\"},{\"name\":\"_fullname\",\"type\":\"string\"}],\"name\":\"Sign\",\"outputs\":[],\"payable\":true,\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"getCertificate\",\"outputs\":[{\"name\":\"_type_id\",\"type\":\"uint8\"},{\"name\":\"_dt_create\",\"type\":\"uint256\"},{\"name\":\"_subjects_count\",\"type\":\"uint256\"}],\"payable\":false,\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"index\",\"type\":\"uint256\"}],\"name\":\"getSubject\",\"outputs\":[{\"name\":\"_id\",\"type\":\"uint256\"},{\"name\":\"_validate_hash\",\"type\":\"address\"},{\"name\":\"_birthday\",\"type\":\"uint256\"},{\"name\":\"_fullname\",\"type\":\"string\"},{\"name\":\"_gender\",\"type\":\"uint8\"},{\"name\":\"_dt_sign\",\"type\":\"uint256\"},{\"name\":\"_dt_cancel\",\"type\":\"uint256\"}],\"payable\":false,\"type\":\"function\"},{\"inputs\":[{\"name\":\"_type_id\",\"type\":\"uint8\"},{\"name\":\"_dt_create\",\"type\":\"uint256\"},{\"name\":\"_subjects_addr\",\"type\":\"address[]\"}],\"payable\":false,\"type\":\"constructor\"}]","ContractName":"Certificate","CompilerVersion":"v0.4.15+commit.bbb8e64f","OptimizationUsed":"1","Runs":"200","ConstructorArguments":"0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001610a4a8bc600000000000000000000000000000000000000000000000000000000000000600000000000000000000000000000000000000000000000000000000000000002000000000000000000000000b92e90436083226d8f3c9cf6b08748dccb381b570000000000000000000000006708fbad816ae26f4299c2408405abe0c150aa81","Library":"","SwarmSource":"bzzr://026aec33e3f66c5ae2a3adacf6103c7e6f3b0552ddc9590ed2110c4098d40ee3"}]}