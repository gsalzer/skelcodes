{"status":"1","message":"OK","result":[{"SourceCode":"pragma solidity ^0.4.15;\r\n\r\ncontract Directory {\r\n    struct Entry {\r\n        string name;\r\n        string company;\r\n        string description;\r\n        string category;\r\n        string contact;\r\n        address ethAddress;\r\n        uint256 timestamp;\r\n        bool deprecated;\r\n    }\r\n\r\n    mapping(address => Entry) public directory;\r\n    Entry[] public entries;\r\n\r\n    address public owner;\r\n\r\n    function Directory() public {\r\n        owner = msg.sender;\r\n    }\r\n\r\n    modifier onlyOwner() {\r\n        require(msg.sender == owner);\r\n        _;\r\n    }\r\n\r\n    modifier indexMatches(uint256 index, address ethAddress) {\r\n        require(entries[index].ethAddress == ethAddress);\r\n        _;\r\n    }\r\n\r\n    function transferOwner(address _owner) onlyOwner public returns (bool) {\r\n        owner = _owner;\r\n        return true;\r\n    }\r\n\r\n    function addEntry(string name, string company, string description, string category, string contact, address ethAddress) onlyOwner public returns (bool) {\r\n        require(directory[ethAddress].timestamp == 0);\r\n        var entry = Entry(name, company, description, category, contact, ethAddress, block.timestamp, false);\r\n        directory[ethAddress] = entry;\r\n        entries.push(entry);\r\n        return true;\r\n    }\r\n\r\n    function findCurrentIndex(address ethAddress) public constant returns (uint256) {\r\n        for (uint i = 0; i < entries.length; i++) {\r\n            if (entries[i].ethAddress == ethAddress) {\r\n                return i;\r\n            }\r\n        }\r\n        revert();\r\n    }\r\n\r\n    function removeEntry(address ethAddress) public returns (bool) {\r\n        return removeEntryManual(findCurrentIndex(ethAddress), ethAddress);\r\n    }\r\n\r\n    function removeEntryManual(uint256 index, address ethAddress) onlyOwner indexMatches(index, ethAddress) public returns (bool) {\r\n        uint256 lastIndex = entries.length - 1;\r\n        entries[index] = entries[lastIndex];\r\n        delete entries[lastIndex];\r\n        delete directory[ethAddress];\r\n        return true;\r\n    }\r\n\r\n    function modifyDescription(address ethAddress, string description) public returns (bool) {\r\n        return modifyDescriptionManual(findCurrentIndex(ethAddress), ethAddress, description);\r\n    }\r\n\r\n    function modifyDescriptionManual(uint256 index, address ethAddress, string description) onlyOwner indexMatches(index, ethAddress) public returns (bool) {\r\n        entries[index].description = description;\r\n        directory[ethAddress].description = description;\r\n        return true;\r\n    }\r\n\r\n    function modifyContact(address ethAddress, string contact) public returns (bool) {\r\n        return modifyDescriptionManual(findCurrentIndex(ethAddress), ethAddress, contact);\r\n    }\r\n\r\n    function modifyContactManual(uint256 index, address ethAddress, string contact) onlyOwner indexMatches(index, ethAddress) public returns (bool) {\r\n        entries[index].contact = contact;\r\n        directory[ethAddress].contact = contact;\r\n        return true;\r\n    }\r\n\r\n    function setDeprecated(address ethAddress, bool deprecated) public returns (bool) {\r\n        return setDeprecatedManual(findCurrentIndex(ethAddress), ethAddress, deprecated);\r\n    }\r\n\r\n    function setDeprecatedManual(uint256 index, address ethAddress, bool deprecated) onlyOwner indexMatches(index, ethAddress) public returns (bool) {\r\n        entries[index].deprecated = deprecated;\r\n        directory[ethAddress].deprecated = deprecated;\r\n        return true;\r\n    }\r\n\r\n    function getName(address _address) public constant returns (string) { return directory[_address].name; }\r\n    function getCompany(address _address) public constant returns (string) { return directory[_address].company; }\r\n    function getDescription(address _address) public constant returns (string) { return directory[_address].description; }\r\n    function getCategory(address _address) public constant returns (string) { return directory[_address].category; }\r\n    function getTimestamp(address _address) public constant returns (uint256) { return directory[_address].timestamp; }\r\n    function isDeprecated(address _address) public constant returns (bool) { return directory[_address].deprecated; }\r\n\r\n    function getNameHash(address _address) public constant returns (bytes32) { return keccak256(directory[_address].name); }\r\n    function getCompanyHash(address _address) public constant returns (bytes32) { return keccak256(directory[_address].company); }\r\n    function getDescriptionHash(address _address) public constant returns (bytes32) { return keccak256(directory[_address].description);}\r\n    function getCategoryHash(address _address) public constant returns (bytes32) { return keccak256(directory[_address].category); }\r\n}","ABI":"[{\"constant\":false,\"inputs\":[{\"name\":\"ethAddress\",\"type\":\"address\"},{\"name\":\"contact\",\"type\":\"string\"}],\"name\":\"modifyContact\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"\",\"type\":\"address\"}],\"name\":\"directory\",\"outputs\":[{\"name\":\"name\",\"type\":\"string\"},{\"name\":\"company\",\"type\":\"string\"},{\"name\":\"description\",\"type\":\"string\"},{\"name\":\"category\",\"type\":\"string\"},{\"name\":\"contact\",\"type\":\"string\"},{\"name\":\"ethAddress\",\"type\":\"address\"},{\"name\":\"timestamp\",\"type\":\"uint256\"},{\"name\":\"deprecated\",\"type\":\"bool\"}],\"payable\":false,\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"_address\",\"type\":\"address\"}],\"name\":\"getDescriptionHash\",\"outputs\":[{\"name\":\"\",\"type\":\"bytes32\"}],\"payable\":false,\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"ethAddress\",\"type\":\"address\"},{\"name\":\"description\",\"type\":\"string\"}],\"name\":\"modifyDescription\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_owner\",\"type\":\"address\"}],\"name\":\"transferOwner\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"ethAddress\",\"type\":\"address\"},{\"name\":\"deprecated\",\"type\":\"bool\"}],\"name\":\"setDeprecated\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"ethAddress\",\"type\":\"address\"}],\"name\":\"findCurrentIndex\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"_address\",\"type\":\"address\"}],\"name\":\"getName\",\"outputs\":[{\"name\":\"\",\"type\":\"string\"}],\"payable\":false,\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"_address\",\"type\":\"address\"}],\"name\":\"getCompany\",\"outputs\":[{\"name\":\"\",\"type\":\"string\"}],\"payable\":false,\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"index\",\"type\":\"uint256\"},{\"name\":\"ethAddress\",\"type\":\"address\"},{\"name\":\"description\",\"type\":\"string\"}],\"name\":\"modifyDescriptionManual\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"_address\",\"type\":\"address\"}],\"name\":\"getCategory\",\"outputs\":[{\"name\":\"\",\"type\":\"string\"}],\"payable\":false,\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"_address\",\"type\":\"address\"}],\"name\":\"getTimestamp\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"owner\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"_address\",\"type\":\"address\"}],\"name\":\"getCompanyHash\",\"outputs\":[{\"name\":\"\",\"type\":\"bytes32\"}],\"payable\":false,\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"_address\",\"type\":\"address\"}],\"name\":\"isDeprecated\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"index\",\"type\":\"uint256\"},{\"name\":\"ethAddress\",\"type\":\"address\"},{\"name\":\"deprecated\",\"type\":\"bool\"}],\"name\":\"setDeprecatedManual\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"name\",\"type\":\"string\"},{\"name\":\"company\",\"type\":\"string\"},{\"name\":\"description\",\"type\":\"string\"},{\"name\":\"category\",\"type\":\"string\"},{\"name\":\"contact\",\"type\":\"string\"},{\"name\":\"ethAddress\",\"type\":\"address\"}],\"name\":\"addEntry\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"entries\",\"outputs\":[{\"name\":\"name\",\"type\":\"string\"},{\"name\":\"company\",\"type\":\"string\"},{\"name\":\"description\",\"type\":\"string\"},{\"name\":\"category\",\"type\":\"string\"},{\"name\":\"contact\",\"type\":\"string\"},{\"name\":\"ethAddress\",\"type\":\"address\"},{\"name\":\"timestamp\",\"type\":\"uint256\"},{\"name\":\"deprecated\",\"type\":\"bool\"}],\"payable\":false,\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"_address\",\"type\":\"address\"}],\"name\":\"getDescription\",\"outputs\":[{\"name\":\"\",\"type\":\"string\"}],\"payable\":false,\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"ethAddress\",\"type\":\"address\"}],\"name\":\"removeEntry\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"index\",\"type\":\"uint256\"},{\"name\":\"ethAddress\",\"type\":\"address\"}],\"name\":\"removeEntryManual\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"_address\",\"type\":\"address\"}],\"name\":\"getNameHash\",\"outputs\":[{\"name\":\"\",\"type\":\"bytes32\"}],\"payable\":false,\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"index\",\"type\":\"uint256\"},{\"name\":\"ethAddress\",\"type\":\"address\"},{\"name\":\"contact\",\"type\":\"string\"}],\"name\":\"modifyContactManual\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"_address\",\"type\":\"address\"}],\"name\":\"getCategoryHash\",\"outputs\":[{\"name\":\"\",\"type\":\"bytes32\"}],\"payable\":false,\"type\":\"function\"},{\"inputs\":[],\"payable\":false,\"type\":\"constructor\"}]","ContractName":"Directory","CompilerVersion":"v0.4.15+commit.bbb8e64f","OptimizationUsed":"1","Runs":"200","ConstructorArguments":"","Library":"","SwarmSource":"bzzr://2fa48cfbea2ceb6a6474298fd95ad1845144c1fe502629a6b7bdee134ffa1b0a"}]}