{"status":"1","message":"OK","result":[{"SourceCode":"pragma solidity ^0.4.14;\r\n\r\ncontract TheImmortalsPhoto {\r\n\tstring public photoData;\r\n\tstring public photoText;\r\n\tbool public deleted;\r\n\taddress superContract;\r\n\taddress owner;\r\n\r\n\tfunction TheImmortalsPhoto(string _photoData, string _photoText, address _owner, address _superContract){\r\n        photoData = _photoData;\r\n        photoText = _photoText;\r\n        deleted = false;\r\n        superContract = _superContract;\r\n        owner = _owner;\r\n\t}\r\n\t\r\n\tfunction removeFace(){\r\n\t    require(msg.sender == owner || msg.sender == superContract);\r\n\t    photoData = \"\";\r\n\t    photoText = \"\";\r\n        deleted = true;\r\n\t}\r\n}\r\n\r\ncontract TheImmortals {\r\n    address public owner;\r\n    mapping (address => address[]) public immortals;\r\n    address[] public accounts;\r\n    uint8 public numberImmortals;\r\n    uint constant public maxImmortals = 5;\r\n    \r\n     modifier onlyOwner {\r\n        require(msg.sender == owner);\r\n        _;\r\n    }\r\n    \r\n    function TheImmortals() {\r\n        owner = msg.sender;\r\n    }\r\n\r\n    event PhotoAdded(address indexed _from, address _contract);\r\n\r\n    function addFace(string _photoData, string _photoText) payable {\r\n        require (msg.value >= 0.1 ether || msg.sender == owner);\r\n        require (numberImmortals <= maxImmortals);\r\n\r\n        address newFace = new TheImmortalsPhoto(_photoData, _photoText, msg.sender, address(this));\r\n        immortals[msg.sender].push(newFace);\r\n        if (immortals[msg.sender].length == 1){\r\n          accounts.push(msg.sender);\r\n        }\r\n        numberImmortals++;\r\n\r\n        PhotoAdded(msg.sender, newFace);\r\n    }\r\n\r\n\tfunction deleteUser(address userAddress) onlyOwner {\r\n\t    for (uint8 i=0;i<immortals[userAddress].length;i++){\r\n\t        TheImmortalsPhoto faceContract = TheImmortalsPhoto(immortals[userAddress][i]);\r\n\t        faceContract.removeFace();\r\n            immortals[userAddress][i] = 0x0;\r\n\t    }\r\n\t}\r\n\t\r\n\tfunction withdraw() onlyOwner {\r\n\t    address myAddress = this;\r\n\t    owner.transfer(myAddress.balance);\r\n\t}\r\n}","ABI":"[{\"constant\":true,\"inputs\":[{\"name\":\"\",\"type\":\"address\"},{\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"immortals\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"type\":\"function\"},{\"constant\":false,\"inputs\":[],\"name\":\"withdraw\",\"outputs\":[],\"payable\":false,\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"userAddress\",\"type\":\"address\"}],\"name\":\"deleteUser\",\"outputs\":[],\"payable\":false,\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"owner\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"numberImmortals\",\"outputs\":[{\"name\":\"\",\"type\":\"uint8\"}],\"payable\":false,\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"maxImmortals\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_photoData\",\"type\":\"string\"},{\"name\":\"_photoText\",\"type\":\"string\"}],\"name\":\"addFace\",\"outputs\":[],\"payable\":true,\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"accounts\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"type\":\"function\"},{\"inputs\":[],\"payable\":false,\"type\":\"constructor\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"name\":\"_from\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"_contract\",\"type\":\"address\"}],\"name\":\"PhotoAdded\",\"type\":\"event\"}]","ContractName":"TheImmortals","CompilerVersion":"v0.4.15+commit.bbb8e64f","OptimizationUsed":"1","Runs":"200","ConstructorArguments":"","Library":"","SwarmSource":"bzzr://ce42d89976c38ee9017280aa19111855d9b16a02cfae075a05bcc13255cc3ea6"}]}