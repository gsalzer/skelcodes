{"status":"1","message":"OK","result":[{"SourceCode":"pragma solidity ^0.4.16;\r\n\r\ncontract SafeMath {\r\n     function safeMul(uint a, uint b) internal returns (uint) {\r\n          uint c = a * b;\r\n          assert(a == 0 || c / a == b);\r\n          return c;\r\n     }\r\n\r\n     function safeSub(uint a, uint b) internal returns (uint) {\r\n          assert(b <= a);\r\n          return a - b;\r\n     }\r\n\r\n     function safeAdd(uint a, uint b) internal returns (uint) {\r\n          uint c = a + b;\r\n          assert(c>=a && c>=b);\r\n          return c;\r\n     }\r\n}\r\n\r\n// Standard token interface (ERC 20)\r\n// https://github.com/ethereum/EIPs/issues/20\r\ncontract Token is SafeMath {\r\n     // Functions:\r\n     /// @return total amount of tokens\r\n     function totalSupply() constant returns (uint256 supply);\r\n\r\n     /// @param _owner The address from which the balance will be retrieved\r\n     /// @return The balance\r\n     function balanceOf(address _owner) constant returns (uint256 balance);\r\n\r\n     /// @notice send `_value` token to `_to` from `msg.sender`\r\n     /// @param _to The address of the recipient\r\n     /// @param _value The amount of token to be transferred\r\n     function transfer(address _to, uint256 _value) returns(bool);\r\n\r\n     /// @notice send `_value` token to `_to` from `_from` on the condition it is approved by `_from`\r\n     /// @param _from The address of the sender\r\n     /// @param _to The address of the recipient\r\n     /// @param _value The amount of token to be transferred\r\n     /// @return Whether the transfer was successful or not\r\n     function transferFrom(address _from, address _to, uint256 _value) returns(bool);\r\n\r\n     /// @notice `msg.sender` approves `_addr` to spend `_value` tokens\r\n     /// @param _spender The address of the account able to transfer the tokens\r\n     /// @param _value The amount of wei to be approved for transfer\r\n     /// @return Whether the approval was successful or not\r\n     function approve(address _spender, uint256 _value) returns (bool success);\r\n\r\n     /// @param _owner The address of the account owning tokens\r\n     /// @param _spender The address of the account able to transfer the tokens\r\n     /// @return Amount of remaining tokens allowed to spent\r\n     function allowance(address _owner, address _spender) constant returns (uint256 remaining);\r\n\r\n     // Events:\r\n     event Transfer(address indexed _from, address indexed _to, uint256 _value);\r\n     event Approval(address indexed _owner, address indexed _spender, uint256 _value);\r\n}\r\n\r\ncontract StdToken is Token {\r\n     // Fields:\r\n     mapping(address => uint256) balances;\r\n     mapping (address => mapping (address => uint256)) allowed;\r\n     uint public supply = 0;\r\n\r\n     // Functions:\r\n     function transfer(address _to, uint256 _value) returns(bool) {\r\n          require(balances[msg.sender] >= _value);\r\n          require(balances[_to] + _value > balances[_to]);\r\n\r\n          balances[msg.sender] = safeSub(balances[msg.sender],_value);\r\n          balances[_to] = safeAdd(balances[_to],_value);\r\n\r\n          Transfer(msg.sender, _to, _value);\r\n          return true;\r\n     }\r\n\r\n     function transferFrom(address _from, address _to, uint256 _value) returns(bool){\r\n          require(balances[_from] >= _value);\r\n          require(allowed[_from][msg.sender] >= _value);\r\n          require(balances[_to] + _value > balances[_to]);\r\n\r\n          balances[_to] = safeAdd(balances[_to],_value);\r\n          balances[_from] = safeSub(balances[_from],_value);\r\n          allowed[_from][msg.sender] = safeSub(allowed[_from][msg.sender],_value);\r\n\r\n          Transfer(_from, _to, _value);\r\n          return true;\r\n     }\r\n\r\n     function totalSupply() constant returns (uint256) {\r\n          return supply;\r\n     }\r\n\r\n     function balanceOf(address _owner) constant returns (uint256) {\r\n          return balances[_owner];\r\n     }\r\n\r\n     function approve(address _spender, uint256 _value) returns (bool) {\r\n          // To change the approve amount you first have to reduce the addresses`\r\n          //  allowance to zero by calling `approve(_spender, 0)` if it is not\r\n          //  already 0 to mitigate the race condition described here:\r\n          //  https://github.com/ethereum/EIPs/issues/20#issuecomment-263524729\r\n          require((_value == 0) || (allowed[msg.sender][_spender] == 0));\r\n\r\n          allowed[msg.sender][_spender] = _value;\r\n          Approval(msg.sender, _spender, _value);\r\n\r\n          return true;\r\n     }\r\n\r\n     function allowance(address _owner, address _spender) constant returns (uint256) {\r\n          return allowed[_owner][_spender];\r\n     }\r\n}\r\n\r\ncontract UHubToken is StdToken\r\n{\r\n/// Fields:\r\n    string public constant name = \"UHUB\";\r\n    string public constant symbol = \"HUB\";\r\n    uint public constant decimals = 18;\r\n\r\n    uint public constant TOTAL_SUPPLY = 1156789000 * (1 ether / 1 wei); //1B156M789K\r\n    // this includes DEVELOPERS_BONUS\r\n    uint public constant DEVELOPERS_BONUS = 476787800 * (1 ether / 1 wei); //476M787K\r\n\t\r\n\t// 100M1k2 tokens sold during presale\r\n    uint public constant PRESALE_PRICE = 5200;  // per 1 Ether\r\n    uint public constant PRESALE_MAX_ETH = 19231;\r\n    uint public constant PRESALE_TOKEN_SUPPLY_LIMIT = PRESALE_PRICE * PRESALE_MAX_ETH * (1 ether / 1 wei);\r\n\r\n\r\n    uint public constant ICO_PRICE1 = 4600;     // per 1 Ether\r\n    uint public constant ICO_PRICE2 = 4200;     // per 1 Ether\r\n    uint public constant ICO_PRICE3 = 4000;     // per 1 Ether\r\n\r\n    // 680M2k2 - this includes presale tokens\r\n    uint public constant TOTAL_SOLD_TOKEN_SUPPLY_LIMIT = 680001200* (1 ether / 1 wei);\r\n\r\n    enum State{\r\n       Init,\r\n       Paused,\r\n\r\n       PresaleRunning,\r\n       PresaleFinished,\r\n\r\n       ICORunning,\r\n       ICOFinished\r\n    }\r\n\r\n    State public currentState = State.Init;\r\n    bool public enableTransfers = false;\r\n\r\n    address public teamTokenBonus = 0;\r\n\r\n    // Gathered funds can be withdrawn only to escrow's address.\r\n    address public escrow = 0;\r\n\r\n    // Token manager has exclusive priveleges to call administrative\r\n    // functions on this contract.\r\n    address public tokenManager = 0;\r\n\r\n    uint public presaleSoldTokens = 0;\r\n    uint public icoSoldTokens = 0;\r\n    uint public totalSoldTokens = 0;\r\n\r\n/// Modifiers:\r\n    modifier onlyTokenManager()\r\n    {\r\n        require(msg.sender==tokenManager); \r\n        _; \r\n    }\r\n\r\n    modifier onlyInState(State state)\r\n    {\r\n        require(state==currentState); \r\n        _; \r\n    }\r\n\r\n/// Events:\r\n    event LogBuy(address indexed owner, uint value);\r\n    event LogBurn(address indexed owner, uint value);\r\n\r\n/// Functions:\r\n    /// @dev Constructor\r\n    /// @param _tokenManager Token manager address.\r\n    function UHubToken(address _tokenManager, address _escrow, address _teamTokenBonus) \r\n    {\r\n        tokenManager = _tokenManager;\r\n        teamTokenBonus = _teamTokenBonus;\r\n        escrow = _escrow;\r\n\r\n        // send team bonus immediately\r\n        uint teamBonus = DEVELOPERS_BONUS;\r\n        balances[_teamTokenBonus] += teamBonus;\r\n        supply+= teamBonus;\r\n        \r\n        assert(PRESALE_TOKEN_SUPPLY_LIMIT==100001200 * (1 ether / 1 wei));\r\n        assert(TOTAL_SOLD_TOKEN_SUPPLY_LIMIT==680001200 * (1 ether / 1 wei));\r\n    }\r\n\r\n    function buyTokens() public payable\r\n    {\r\n        require(currentState==State.PresaleRunning || currentState==State.ICORunning);\r\n\r\n        if(currentState==State.PresaleRunning){\r\n            return buyTokensPresale();\r\n        }else{\r\n            return buyTokensICO();\r\n        }\r\n    }\r\n\r\n    function buyTokensPresale() public payable onlyInState(State.PresaleRunning)\r\n    {\r\n        // min - 1 ETH\r\n        //require(msg.value >= (1 ether / 1 wei));\r\n        // min - 0.01 ETH\r\n        require(msg.value >= ((1 ether / 1 wei) / 100));\r\n        uint newTokens = msg.value * PRESALE_PRICE;\r\n\r\n        require(presaleSoldTokens + newTokens <= PRESALE_TOKEN_SUPPLY_LIMIT);\r\n\r\n        balances[msg.sender] += newTokens;\r\n        supply+= newTokens;\r\n        presaleSoldTokens+= newTokens;\r\n        totalSoldTokens+= newTokens;\r\n\r\n        LogBuy(msg.sender, newTokens);\r\n    }\r\n\r\n    function buyTokensICO() public payable onlyInState(State.ICORunning)\r\n    {\r\n        // min - 0.01 ETH\r\n        require(msg.value >= ((1 ether / 1 wei) / 100));\r\n        uint newTokens = msg.value * getPrice();\r\n\r\n        require(totalSoldTokens + newTokens <= TOTAL_SOLD_TOKEN_SUPPLY_LIMIT);\r\n\r\n        balances[msg.sender] += newTokens;\r\n        supply+= newTokens;\r\n        icoSoldTokens+= newTokens;\r\n        totalSoldTokens+= newTokens;\r\n\r\n        LogBuy(msg.sender, newTokens);\r\n    }\r\n\r\n    function getPrice()constant returns(uint)\r\n    {\r\n        if(currentState==State.ICORunning){\r\n             if(icoSoldTokens<(200000000 * (1 ether / 1 wei))){\r\n                  return ICO_PRICE1;\r\n             }\r\n             \r\n             if(icoSoldTokens<(300000000 * (1 ether / 1 wei))){\r\n                  return ICO_PRICE2;\r\n             }\r\n\r\n             return ICO_PRICE3;\r\n        }else{\r\n             return PRESALE_PRICE;\r\n        }\r\n    }\r\n\r\n    function setState(State _nextState) public onlyTokenManager\r\n    {\r\n        //setState() method call shouldn't be entertained after ICOFinished\r\n        require(currentState != State.ICOFinished);\r\n        \r\n        currentState = _nextState;\r\n        // enable/disable transfers\r\n        //enable transfers only after ICOFinished, disable otherwise\r\n        enableTransfers = (currentState==State.ICOFinished);\r\n    }\r\n\r\n    function withdrawEther() public onlyTokenManager\r\n    {\r\n        if(this.balance > 0) \r\n        {\r\n            require(escrow.send(this.balance));\r\n        }\r\n    }\r\n\r\n/// Overrides:\r\n    function transfer(address _to, uint256 _value) returns(bool){\r\n        require(enableTransfers);\r\n        return super.transfer(_to,_value);\r\n    }\r\n\r\n    function transferFrom(address _from, address _to, uint256 _value) returns(bool){\r\n        require(enableTransfers);\r\n        return super.transferFrom(_from,_to,_value);\r\n    }\r\n\r\n    function approve(address _spender, uint256 _value) returns (bool) {\r\n        require(enableTransfers);\r\n        return super.approve(_spender,_value);\r\n    }\r\n\r\n/// Setters/getters\r\n    function setTokenManager(address _mgr) public onlyTokenManager\r\n    {\r\n        tokenManager = _mgr;\r\n    }\r\n\r\n    // Default fallback function\r\n    function() payable \r\n    {\r\n        buyTokens();\r\n    }\r\n}","ABI":"[{\"constant\":true,\"inputs\":[],\"name\":\"supply\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"name\",\"outputs\":[{\"name\":\"\",\"type\":\"string\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"teamTokenBonus\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_spender\",\"type\":\"address\"},{\"name\":\"_value\",\"type\":\"uint256\"}],\"name\":\"approve\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"TOTAL_SOLD_TOKEN_SUPPLY_LIMIT\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"currentState\",\"outputs\":[{\"name\":\"\",\"type\":\"uint8\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"PRESALE_MAX_ETH\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"totalSupply\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[],\"name\":\"buyTokensPresale\",\"outputs\":[],\"payable\":true,\"stateMutability\":\"payable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_from\",\"type\":\"address\"},{\"name\":\"_to\",\"type\":\"address\"},{\"name\":\"_value\",\"type\":\"uint256\"}],\"name\":\"transferFrom\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"presaleSoldTokens\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"tokenManager\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"decimals\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"icoSoldTokens\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_nextState\",\"type\":\"uint8\"}],\"name\":\"setState\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"PRESALE_PRICE\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"ICO_PRICE1\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"_owner\",\"type\":\"address\"}],\"name\":\"balanceOf\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[],\"name\":\"withdrawEther\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"DEVELOPERS_BONUS\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_mgr\",\"type\":\"address\"}],\"name\":\"setTokenManager\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"TOTAL_SUPPLY\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"symbol\",\"outputs\":[{\"name\":\"\",\"type\":\"string\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"getPrice\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_to\",\"type\":\"address\"},{\"name\":\"_value\",\"type\":\"uint256\"}],\"name\":\"transfer\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"enableTransfers\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[],\"name\":\"buyTokens\",\"outputs\":[],\"payable\":true,\"stateMutability\":\"payable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[],\"name\":\"buyTokensICO\",\"outputs\":[],\"payable\":true,\"stateMutability\":\"payable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"totalSoldTokens\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"_owner\",\"type\":\"address\"},{\"name\":\"_spender\",\"type\":\"address\"}],\"name\":\"allowance\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"escrow\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"ICO_PRICE3\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"PRESALE_TOKEN_SUPPLY_LIMIT\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"ICO_PRICE2\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"name\":\"_tokenManager\",\"type\":\"address\"},{\"name\":\"_escrow\",\"type\":\"address\"},{\"name\":\"_teamTokenBonus\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"payable\":true,\"stateMutability\":\"payable\",\"type\":\"fallback\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"name\":\"owner\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"value\",\"type\":\"uint256\"}],\"name\":\"LogBuy\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"name\":\"owner\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"value\",\"type\":\"uint256\"}],\"name\":\"LogBurn\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"name\":\"_from\",\"type\":\"address\"},{\"indexed\":true,\"name\":\"_to\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"_value\",\"type\":\"uint256\"}],\"name\":\"Transfer\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"name\":\"_owner\",\"type\":\"address\"},{\"indexed\":true,\"name\":\"_spender\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"_value\",\"type\":\"uint256\"}],\"name\":\"Approval\",\"type\":\"event\"}]","ContractName":"UHubToken","CompilerVersion":"v0.4.16+commit.d7661dd9","OptimizationUsed":"1","Runs":"200","ConstructorArguments":"000000000000000000000000eaec76672af4ebaf1422633cc5007cc1258ab0910000000000000000000000006a5d95544c08dcac100995ffdfeda531b1e730060000000000000000000000009625cb507a35f6a6e2d3e881584ec330308bc0e5","Library":"","SwarmSource":"bzzr://5d4c678c98ba780c38cc74b2b1dcaa9c729c3578131497fa6b46d26c45b201b5"}]}