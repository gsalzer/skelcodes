{"status":"1","message":"OK","result":[{"SourceCode":"//SPDX-License-Identifier: MIT\r\npragma solidity ^0.7.0;\r\n\r\n//TAC Lockup contract receives 7% of all TAC when the contract is created.\r\n//Management and advisors can claim 20% of their allocation each year for 5 years\r\n\r\n//Control who can access various functions. \r\ncontract AccessControl {\r\n    address payable public creatorAddress;\r\n\r\n    modifier onlyCREATOR() {\r\n        require(msg.sender == creatorAddress);\r\n        _;\r\n    }\r\n   // Constructor\r\n    constructor() {\r\n        creatorAddress = 0x813dd04A76A716634968822f4D30Dfe359641194;\r\n    }\r\n} \r\n\r\n//Interface to main TAC contract to effect transfers. \r\nabstract contract ITACData {\r\n    function transfer(address recipient, uint256 amount) public virtual returns (bool) ;\r\n}\r\n\r\ncontract TACAdvisorLockup is AccessControl  {\r\n\r\n     /////////////////////////////////////////////////DATA STRUCTURES AND GLOBAL VARIABLES ///////////////////////////////////////////////////////////////////////\r\n\r\n    //Lockup duration in seconds - 1 year.\r\n    uint64 public lockupDuration = 31536000;\r\n\r\n    struct Beneficiary {\r\n        address beneficaryAddress;\r\n        uint256 periodAllocation; //how much they are allowed to have each period\r\n        uint256 balance; //The total amount they have remaining\r\n    }\r\n\r\n    Beneficiary[] Beneficiaries;\r\n    \r\n    //Change to current value once deployed. \r\n    address TACContract = address(0);\r\n    \r\n    //Ensure allocations can only be give once. \r\n    bool contractInitialized = false;\r\n    \r\n    //Lockup starts when contract initialized\r\n    uint64 contractInitializedTime;\r\n\r\n    //Initial function to set creation time and beneficiary designations.\r\n    function initContract() public {\r\n\r\n        require(contractInitialized == false,  \"This contract has already been initialized\");\r\n        contractInitializedTime = uint64(block.timestamp);\r\n        contractInitialized = true;\r\n\r\n        // 000000000000000000 - 18 zeroes\r\n        //initialize beneficiaries\r\n        Beneficiary memory beneficiary;\r\n        beneficiary.beneficaryAddress = 0xf934bfd04f1a4DCa2C7dDAcC5D59ECb71059FdBA;\r\n        beneficiary.periodAllocation = 2400000000000000000000000;\r\n        beneficiary.balance = beneficiary.periodAllocation * 5;\r\n        Beneficiaries.push(beneficiary);\r\n\r\n        beneficiary.beneficaryAddress = 0xb860E2Ba02147a5B849c39537A6C50d942A829Fe;\r\n        beneficiary.periodAllocation = 2400000000000000000000000;\r\n        beneficiary.balance = beneficiary.periodAllocation * 5;\r\n        Beneficiaries.push(beneficiary);\r\n      \r\n        beneficiary.beneficaryAddress = 0xf3c4DE3651AbC15584d28b77C4d1B304A9818Fd0;\r\n        beneficiary.periodAllocation = 2400000000000000000000000;\r\n        beneficiary.balance = beneficiary.periodAllocation * 5;\r\n        Beneficiaries.push(beneficiary);\r\n\r\n        beneficiary.beneficaryAddress = 0xF2d4Bc74da733c2B0842D3c9F0B8C32c9aA7d6B3;\r\n        beneficiary.periodAllocation = 1800000000000000000000000;\r\n        beneficiary.balance = beneficiary.periodAllocation * 5;\r\n        Beneficiaries.push(beneficiary);\r\n\r\n        beneficiary.beneficaryAddress = 0x7207cE1473F7117E365216E1F92C3709dFa33b3C;\r\n        beneficiary.periodAllocation = 1200000000000000000000000;\r\n        beneficiary.balance = beneficiary.periodAllocation * 5;\r\n        Beneficiaries.push(beneficiary);\r\n\r\n        beneficiary.beneficaryAddress = 0x0C00D314465231bcCA8c980091E75faBd98AF84A;\r\n        beneficiary.periodAllocation = 900000000000000000000000;\r\n        beneficiary.balance = beneficiary.periodAllocation * 5;\r\n        Beneficiaries.push(beneficiary);\r\n\r\n        beneficiary.beneficaryAddress = 0x682d96C807400b01fa3fe609Ae552902BD005640;\r\n        beneficiary.periodAllocation = 500000000000000000000000;\r\n        beneficiary.balance = beneficiary.periodAllocation * 5;\r\n        Beneficiaries.push(beneficiary);\r\n\r\n        beneficiary.beneficaryAddress = 0xd8f4109699098702cdf94b8dc0a647711A107a63;\r\n        beneficiary.periodAllocation = 200000000000000000000000;\r\n        beneficiary.balance = beneficiary.periodAllocation * 5;\r\n        Beneficiaries.push(beneficiary);\r\n        \r\n        beneficiary.beneficaryAddress = 0xC30a96bEd7608F0793f9D1cAA50004AE5D6Ce882;\r\n        beneficiary.periodAllocation = 600000000000000000000000;\r\n        beneficiary.balance = beneficiary.periodAllocation * 5;\r\n        Beneficiaries.push(beneficiary);\r\n\r\n        beneficiary.beneficaryAddress = 0x97daC781bf0d4f685eEc2eB41296CD78F183D0e2;\r\n        beneficiary.periodAllocation = 200000000000000000000000;\r\n        beneficiary.balance = beneficiary.periodAllocation * 5;\r\n        Beneficiaries.push(beneficiary);\r\n\r\n        beneficiary.beneficaryAddress = 0xF708183A8A379C187fd684f6c607ae394679Ea81;\r\n        beneficiary.periodAllocation = 500000000000000000000000;\r\n        beneficiary.balance = beneficiary.periodAllocation * 5;\r\n        Beneficiaries.push(beneficiary);\r\n\r\n        beneficiary.beneficaryAddress = 0xd246f7484F696ccf9BAc2ea60330Dd9A3C332eff;\r\n        beneficiary.periodAllocation = 200000000000000000000000;\r\n        beneficiary.balance = beneficiary.periodAllocation * 5;\r\n        Beneficiaries.push(beneficiary);\r\n\r\n        beneficiary.beneficaryAddress = 0xD86B7Ce16699D91dbf0807674E2dbB615447c4F1;\r\n        beneficiary.periodAllocation = 200000000000000000000000;\r\n        beneficiary.balance = beneficiary.periodAllocation * 5;\r\n        Beneficiaries.push(beneficiary);\r\n\r\n        beneficiary.beneficaryAddress = 0x454b0cbc0aF7B3cE3722365F62083c5F9a3C2e6E;\r\n        beneficiary.periodAllocation = 200000000000000000000000;\r\n        beneficiary.balance = beneficiary.periodAllocation * 5;\r\n        Beneficiaries.push(beneficiary);\r\n\r\n        beneficiary.beneficaryAddress = 0xFB84c39BbAe367FED2b84930755493FaE00Fd572;\r\n        beneficiary.periodAllocation = 40000000000000000000000;\r\n        beneficiary.balance = beneficiary.periodAllocation * 5;\r\n        Beneficiaries.push(beneficiary);\r\n\r\n\r\n        beneficiary.beneficaryAddress = 0x8b7A466fFdC348afE54b159d70C7274a4F0157aa;\r\n        beneficiary.periodAllocation = 20000000000000000000000;\r\n        beneficiary.balance = beneficiary.periodAllocation * 5;\r\n        Beneficiaries.push(beneficiary);\r\n\r\n        beneficiary.beneficaryAddress = 0x91ADeb8FA2599Bf46a982De34A020BFFD916e2d1;\r\n        beneficiary.periodAllocation = 20000000000000000000000;\r\n        beneficiary.balance = beneficiary.periodAllocation * 5;\r\n        Beneficiaries.push(beneficiary);\r\n\r\n        beneficiary.beneficaryAddress = 0x753c43d7616Ac60d8dD3592b59A104c7518426e3;\r\n        beneficiary.periodAllocation = 20000000000000000000000;\r\n        beneficiary.balance = beneficiary.periodAllocation * 5;\r\n        Beneficiaries.push(beneficiary);\r\n\r\n        beneficiary.beneficaryAddress = 0xd8fa2675D742D7E9C8B96d41316c0E52b7991cDa;\r\n        beneficiary.periodAllocation = 20000000000000000000000;\r\n        beneficiary.balance = beneficiary.periodAllocation * 5;\r\n        Beneficiaries.push(beneficiary);\r\n\r\n        beneficiary.beneficaryAddress = 0x9C24Ae443b7d639C179187CEf66652A6AFa9db70;\r\n        beneficiary.periodAllocation = 20000000000000000000000;\r\n        beneficiary.balance = beneficiary.periodAllocation * 5;\r\n        Beneficiaries.push(beneficiary);\r\n\r\n        beneficiary.beneficaryAddress = 0xd209435C2F706518C0dd4399D264f7Cc2015B020;\r\n        beneficiary.periodAllocation = 20000000000000000000000;\r\n        beneficiary.balance = beneficiary.periodAllocation * 5;\r\n        Beneficiaries.push(beneficiary);\r\n\r\n        beneficiary.beneficaryAddress = 0xd35bD47F9DA88c9879BF370c94Bf72627943C310;\r\n        beneficiary.periodAllocation = 20000000000000000000000;\r\n        beneficiary.balance = beneficiary.periodAllocation * 5;\r\n        Beneficiaries.push(beneficiary);\r\n\r\n        beneficiary.beneficaryAddress = 0x6a3B1C4763eCa8950506cF30Eaa8d1Ed46ca2a15;\r\n        beneficiary.periodAllocation = 20000000000000000000000;\r\n        beneficiary.balance = beneficiary.periodAllocation * 5;\r\n        Beneficiaries.push(beneficiary);\r\n\r\n        beneficiary.beneficaryAddress = 0xF0FBbec2E02Ce52B36c001701E17518391135126;\r\n        beneficiary.periodAllocation = 20000000000000000000000;\r\n        beneficiary.balance = beneficiary.periodAllocation * 5;\r\n        Beneficiaries.push(beneficiary);\r\n\r\n        beneficiary.beneficaryAddress = 0xcE0AbaD092146C1FD10e206aED7FEF4736ebd16a;\r\n        beneficiary.periodAllocation = 20000000000000000000000;\r\n        beneficiary.balance = beneficiary.periodAllocation * 5;\r\n        Beneficiaries.push(beneficiary);\r\n\r\n        beneficiary.beneficaryAddress = 0x29e0C63acaBF7bf817005fc6d46a5b0b38E42da1;\r\n        beneficiary.periodAllocation = 20000000000000000000000;\r\n        beneficiary.balance = beneficiary.periodAllocation * 5;\r\n        Beneficiaries.push(beneficiary);\r\n\r\n\r\n        beneficiary.beneficaryAddress = 0xbd661e79c7945232CB2A07109b34a7a513313999;\r\n        beneficiary.periodAllocation = 20000000000000000000000;\r\n        beneficiary.balance = beneficiary.periodAllocation * 5;\r\n        Beneficiaries.push(beneficiary);\r\n\r\n        beneficiary.beneficaryAddress = 0xB22FAB8183e7AA66D2653b963acdD8B7BB8c36B6;\r\n        beneficiary.periodAllocation = 20000000000000000000000;\r\n        beneficiary.balance = beneficiary.periodAllocation * 5;\r\n        Beneficiaries.push(beneficiary); \r\n\r\n    }\r\n\r\n    function setTACAddress(address _TACContract) public onlyCREATOR {\r\n        TACContract = _TACContract;\r\n    }\r\n\r\n    //DEV FUNCTION \r\n    function setBeneficiaryAddress(uint8 number, address newAddress) public onlyCREATOR {\r\n        Beneficiaries[number].beneficaryAddress = newAddress;\r\n    }\r\n\r\n    //Returns values in the contract. \r\n    function getValues() public view returns (uint64 _lockupDuration,\r\n    address _TACContract, bool _initialized, uint64 _contractInitializedTime) {\r\n        _lockupDuration = lockupDuration;\r\n        _TACContract = TACContract;\r\n        _initialized = contractInitialized;\r\n        _contractInitializedTime = contractInitializedTime;\r\n    }\r\n\r\n    //Returns the number of lockup periods (ie, years) that have passed since the contract was initialized.\r\n    function getFullLockupPeriods() public view returns (uint8 periods) {\r\n        periods = 0;\r\n        if (block.timestamp >= contractInitializedTime + lockupDuration) {\r\n            periods += 1;\r\n        }\r\n        if (block.timestamp >= contractInitializedTime + lockupDuration * 2) {\r\n            periods += 1;\r\n        }\r\n        if (block.timestamp >= contractInitializedTime + lockupDuration * 3) {\r\n            periods += 1;\r\n        }\r\n        if (block.timestamp >= contractInitializedTime + lockupDuration * 4) {\r\n            periods += 1;\r\n        }\r\n        if (block.timestamp >= contractInitializedTime + lockupDuration * 5) {\r\n            periods += 1;\r\n        }\r\n        return periods;\r\n\r\n    }\r\n    \r\n    function getBalance(address beneficiary) public view returns (uint256) {\r\n        for (uint i = 0; i < Beneficiaries.length; i ++) {\r\n            if (Beneficiaries[i].beneficaryAddress == beneficiary) {\r\n                return Beneficiaries[i].balance;\r\n            }\r\n        }\r\n        return 0;\r\n    }\r\n\r\n    //Any of the beneficiaries can call this function to claim the TAC they are entitled to.\r\n    function claimTAC() public {\r\n        ITACData TAC = ITACData(TACContract);\r\n\r\n        //Find the beneficiary.\r\n        for (uint i = 0; i<Beneficiaries.length; i++) {\r\n          if (Beneficiaries[i].beneficaryAddress == msg.sender) {\r\n              \r\n            uint256 entitled = getFullLockupPeriods() * Beneficiaries[i].periodAllocation;\r\n            uint256 totalAllocation = Beneficiaries[i].periodAllocation * 5;\r\n            \r\n            if ((totalAllocation) - entitled < Beneficiaries[i].balance) {\r\n                \r\n                // transfer what they are entitled to minus what they have already claimed\r\n                uint256 toTransfer = entitled - (totalAllocation - Beneficiaries[i].balance);\r\n                \r\n                Beneficiaries[i].balance = totalAllocation - entitled;\r\n                TAC.transfer(msg.sender, toTransfer);\r\n            }\r\n          }\r\n        }\r\n    }\r\n}","ABI":"[{\"inputs\":[],\"name\":\"claimTAC\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"creatorAddress\",\"outputs\":[{\"internalType\":\"address payable\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"beneficiary\",\"type\":\"address\"}],\"name\":\"getBalance\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"getFullLockupPeriods\",\"outputs\":[{\"internalType\":\"uint8\",\"name\":\"periods\",\"type\":\"uint8\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"getValues\",\"outputs\":[{\"internalType\":\"uint64\",\"name\":\"_lockupDuration\",\"type\":\"uint64\"},{\"internalType\":\"address\",\"name\":\"_TACContract\",\"type\":\"address\"},{\"internalType\":\"bool\",\"name\":\"_initialized\",\"type\":\"bool\"},{\"internalType\":\"uint64\",\"name\":\"_contractInitializedTime\",\"type\":\"uint64\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"initContract\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"lockupDuration\",\"outputs\":[{\"internalType\":\"uint64\",\"name\":\"\",\"type\":\"uint64\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint8\",\"name\":\"number\",\"type\":\"uint8\"},{\"internalType\":\"address\",\"name\":\"newAddress\",\"type\":\"address\"}],\"name\":\"setBeneficiaryAddress\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_TACContract\",\"type\":\"address\"}],\"name\":\"setTACAddress\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"}]","ContractName":"TACAdvisorLockup","CompilerVersion":"v0.7.6+commit.7338295f","OptimizationUsed":"1","Runs":"200","ConstructorArguments":"","EVMVersion":"Default","Library":"","LicenseType":"MIT","Proxy":"0","Implementation":"","SwarmSource":"ipfs://ac796381a950a12347476c6751a83201b8d36db9eff33ceb8885eebaff05c981"}]}