{"status":"1","message":"OK","result":[{"SourceCode":"// SPDX-License-Identifier: Apache-2.0\r\npragma solidity 0.7.5;\r\n\r\n/**\r\n * Contract that exposes the needed erc20 token functions\r\n */\r\n\r\nabstract contract ERC20Interface {\r\n  // Send _value amount of tokens to address _to\r\n  function transfer(address _to, uint256 _value)\r\n    public\r\n    virtual\r\n    returns (bool success);\r\n\r\n  // Get the account balance of another account with address _owner\r\n  function balanceOf(address _owner)\r\n    public\r\n    virtual\r\n    view\r\n    returns (uint256 balance);\r\n}\r\n\r\n/**\r\n * Contract that will forward any incoming Ether to the creator of the contract\r\n *\r\n */\r\ncontract Forwarder {\r\n  // Address to which any funds sent to this contract will be forwarded\r\n  address public parentAddress;\r\n  event ForwarderDeposited(address from, uint256 value, bytes data);\r\n\r\n  /**\r\n   * Initialize the contract, and sets the destination address to that of the creator\r\n   */\r\n  function init(address _parentAddress) external onlyUninitialized {\r\n    parentAddress = _parentAddress;\r\n    this.flush();\r\n  }\r\n\r\n  /**\r\n   * Modifier that will execute internal code block only if the sender is the parent address\r\n   */\r\n  modifier onlyParent {\r\n    require(msg.sender == parentAddress, \"Only Parent\");\r\n    _;\r\n  }\r\n\r\n  /**\r\n   * Modifier that will execute internal code block only if the contract has not been initialized yet\r\n   */\r\n  modifier onlyUninitialized {\r\n    require(parentAddress == address(0x0), \"Already initialized\");\r\n    _;\r\n  }\r\n\r\n  /**\r\n   * Default function; Gets called when data is sent but does not match any other function\r\n   */\r\n  fallback() external payable {\r\n    this.flush();\r\n  }\r\n\r\n  /**\r\n   * Default function; Gets called when Ether is deposited with no data, and forwards it to the parent address\r\n   */\r\n  receive() external payable {\r\n    this.flush();\r\n  }\r\n\r\n  /**\r\n   * Execute a token transfer of the full balance from the forwarder token to the parent address\r\n   * @param tokenContractAddress the address of the erc20 token contract\r\n   */\r\n  function flushTokens(address tokenContractAddress) external onlyParent {\r\n    ERC20Interface instance = ERC20Interface(tokenContractAddress);\r\n    address forwarderAddress = address(this);\r\n    uint256 forwarderBalance = instance.balanceOf(forwarderAddress);\r\n    if (forwarderBalance == 0) {\r\n      return;\r\n    }\r\n\r\n    require(\r\n      instance.transfer(parentAddress, forwarderBalance),\r\n      \"Token flush failed\"\r\n    );\r\n  }\r\n\r\n  /**\r\n   * Flush the entire balance of the contract to the parent address.\r\n   */\r\n  function flush() external {\r\n    uint256 value = address(this).balance;\r\n\r\n    if (value == 0) {\r\n      return;\r\n    }\r\n\r\n    (bool success, ) = parentAddress.call{ value: value }(\"\");\r\n    require(success, \"Flush failed\");\r\n    emit ForwarderDeposited(msg.sender, value, msg.data);\r\n  }\r\n}","ABI":"[{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"address\",\"name\":\"from\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"value\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"bytes\",\"name\":\"data\",\"type\":\"bytes\"}],\"name\":\"ForwarderDeposited\",\"type\":\"event\"},{\"stateMutability\":\"payable\",\"type\":\"fallback\"},{\"inputs\":[],\"name\":\"flush\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"tokenContractAddress\",\"type\":\"address\"}],\"name\":\"flushTokens\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_parentAddress\",\"type\":\"address\"}],\"name\":\"init\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"parentAddress\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"stateMutability\":\"payable\",\"type\":\"receive\"}]","ContractName":"Forwarder","CompilerVersion":"v0.7.5+commit.eb77ed08","OptimizationUsed":"0","Runs":"200","ConstructorArguments":"","EVMVersion":"Default","Library":"","LicenseType":"Apache-2.0","Proxy":"0","Implementation":"","SwarmSource":"ipfs://3e7f704834bdbd607f54e60e65c9db844d3aa6db0a1356063b2a6ad5dbccbe55"}]}