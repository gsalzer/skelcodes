{"status":"1","message":"OK","result":[{"SourceCode":"/**\r\n *Submitted for verification at Etherscan.io on 2020-11-10\r\n*/\r\n\r\n/*\r\n    Copyright 2020 Set Labs Inc.\r\n\r\n    Licensed under the Apache License, Version 2.0 (the \"License\");\r\n    you may not use this file except in compliance with the License.\r\n    You may obtain a copy of the License at\r\n\r\n    http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n    Unless required by applicable law or agreed to in writing, software\r\n    distributed under the License is distributed on an \"AS IS\" BASIS,\r\n    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n    See the License for the specific language governing permissions and\r\n    limitations under the License.\r\n\r\n\r\n*/\r\n\r\npragma solidity 0.6.10;\r\npragma experimental \"ABIEncoderV2\";\r\n\r\n\r\n/**\r\n * @title AaveGovernanceAdapter\r\n * @author Set Protocol\r\n *\r\n * Governance adapter for Aave governance that returns data for voting\r\n */\r\ncontract AaveGovernanceAdapter {\r\n\r\n    /* ============ Constants ============ */\r\n\r\n    // 1 is a vote for in AAVE\r\n    uint256 public constant VOTE_FOR = 1;\r\n\r\n    // 2 represents a vote against in AAVE\r\n    uint256 public constant VOTE_AGAINST = 2;\r\n\r\n    /* ============ State Variables ============ */\r\n\r\n    // Address of Aave proto governance contract\r\n    address public immutable aaveProtoGovernance;\r\n\r\n    // Address of Aave token\r\n    address public immutable aaveToken;\r\n\r\n    /* ============ Constructor ============ */\r\n\r\n    /**\r\n     * Set state variables\r\n     *\r\n     * @param _aaveProtoGovernance    Address of AAVE proto governance contract\r\n     * @param _aaveToken              Address of AAVE token\r\n     */\r\n    constructor(address _aaveProtoGovernance, address _aaveToken) public {\r\n        aaveProtoGovernance = _aaveProtoGovernance;\r\n        aaveToken = _aaveToken;\r\n    }\r\n\r\n    /* ============ External Getter Functions ============ */\r\n\r\n    /**\r\n     * Generates the calldata to vote on a proposal. If byte data is empty, then vote using AAVE token, otherwise, vote using the asset passed\r\n     * into the function\r\n     *\r\n     * @param _proposalId           ID of the proposal to vote on\r\n     * @param _support              Boolean indicating whether to support proposal\r\n     * @param _data                 Byte data containing the asset to vote with\r\n     *\r\n     * @return address              Target contract address\r\n     * @return uint256              Total quantity of ETH (Set to 0)\r\n     * @return bytes                Propose calldata\r\n     */\r\n    function getVoteCalldata(uint256 _proposalId, bool _support, bytes memory _data) external view returns (address, uint256, bytes memory) {\r\n        uint256 voteValue = _support ? VOTE_FOR : VOTE_AGAINST;\r\n        address asset = _data.length == 0 ? aaveToken : abi.decode(_data, (address));\r\n\r\n        // submitVoteByVoter(uint256 _proposalId, uint256 _vote, IERC20 _asset)\r\n        bytes memory callData = abi.encodeWithSignature(\"submitVoteByVoter(uint256,uint256,address)\", _proposalId, voteValue, asset);\r\n\r\n        return (aaveProtoGovernance, 0, callData);\r\n    }\r\n\r\n    /**\r\n     * Reverts as AAVE currently does not have a delegation mechanism in governance\r\n     */\r\n    function getDelegateCalldata(address /* _delegatee */) external view returns (address, uint256, bytes memory) {\r\n        revert(\"No delegation available in AAVE governance\");\r\n    }\r\n\r\n    /**\r\n     * Reverts as AAVE currently does not have a register mechanism in governance\r\n     */\r\n    function getRegisterCalldata(address /* _setToken */) external view returns (address, uint256, bytes memory) {\r\n        revert(\"No register available in AAVE governance\");\r\n    }\r\n\r\n    /**\r\n     * Reverts as AAVE currently does not have a revoke mechanism in governance\r\n     */\r\n    function getRevokeCalldata() external view returns (address, uint256, bytes memory) {\r\n        revert(\"No revoke available in AAVE governance\");\r\n    }\r\n\r\n    /**\r\n     * Reverts as creating a proposal is only available to AAVE genesis team\r\n     */\r\n    function getProposeCalldata(bytes memory /* _proposalData */) external view returns (address, uint256, bytes memory) {\r\n        revert(\"Creation of new proposal only available to AAVE genesis team\");\r\n    }\r\n}","ABI":"[{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_aaveProtoGovernance\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"_aaveToken\",\"type\":\"address\"}],\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"inputs\":[],\"name\":\"VOTE_AGAINST\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"VOTE_FOR\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"aaveProtoGovernance\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"aaveToken\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"name\":\"getDelegateCalldata\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"},{\"internalType\":\"bytes\",\"name\":\"\",\"type\":\"bytes\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes\",\"name\":\"\",\"type\":\"bytes\"}],\"name\":\"getProposeCalldata\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"},{\"internalType\":\"bytes\",\"name\":\"\",\"type\":\"bytes\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"name\":\"getRegisterCalldata\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"},{\"internalType\":\"bytes\",\"name\":\"\",\"type\":\"bytes\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"getRevokeCalldata\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"},{\"internalType\":\"bytes\",\"name\":\"\",\"type\":\"bytes\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_proposalId\",\"type\":\"uint256\"},{\"internalType\":\"bool\",\"name\":\"_support\",\"type\":\"bool\"},{\"internalType\":\"bytes\",\"name\":\"_data\",\"type\":\"bytes\"}],\"name\":\"getVoteCalldata\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"},{\"internalType\":\"bytes\",\"name\":\"\",\"type\":\"bytes\"}],\"stateMutability\":\"view\",\"type\":\"function\"}]","ContractName":"AaveGovernanceAdapter","CompilerVersion":"v0.6.10+commit.00c0fcaf","OptimizationUsed":"1","Runs":"200","ConstructorArguments":"0000000000000000000000008a2efd9a790199f4c94c6effe210fce0b4724f520000000000000000000000007fc66500c84a76ad7e9c93437bfc5ac33e2ddae9","EVMVersion":"Default","Library":"","LicenseType":"Apache-2.0","Proxy":"0","Implementation":"","SwarmSource":"ipfs://f130b5a9f0ae52af794acb7765ba870a71dd3cd269622996a273e31f38d7a195"}]}