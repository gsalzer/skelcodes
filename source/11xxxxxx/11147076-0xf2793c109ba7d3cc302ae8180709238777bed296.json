{"status":"1","message":"OK","result":[{"SourceCode":"pragma solidity ^0.5.10;\r\n\r\ncontract Lottery {\r\n    address payable manager = 0x15682BD0eb3f8B8922428C3Ca61E5E912fD658C5;\r\n    address payable public winner;\r\n    uint public winningsLimit = 1000000000000000000;\r\n    uint public playerLimit = 55.0;\r\n    address payable[] public players;\r\n\r\n    \r\n    // restrict to only the manager (the contract creator)\r\n    modifier restricted() {\r\n        require(msg.sender == manager);\r\n        _;\r\n    }\r\n\r\n    constructor() public restricted {\r\n        manager = msg.sender;\r\n        // function params uint _winningsLimit, uint _playerLimit\r\n        // winningsLimit = _winningsLimit;\r\n        // playerLimit = _playerLimit;\r\n    }\r\n\r\n    function enter() public payable  {\r\n        require(msg.value > .019999 ether, \"not enough\");\r\n        players.push(msg.sender);\r\n        if (address(this).balance > winningsLimit || players.length > playerLimit) {\r\n          pickWinner();\r\n        }\r\n    }\r\n\r\n    function kindaRandom() private view returns (uint) {\r\n        return uint(keccak256(abi.encodePacked(block.difficulty, now, players)));\r\n    }\r\n\r\n    function pickWinner() public restricted {\r\n        uint index = kindaRandom() % players.length;\r\n        \r\n        // set winner\r\n        winner = players[index];\r\n\r\n        // pay \r\n        uint totalPayout = address(this).balance;\r\n        \r\n        // Take 10% for the manager (rounded down by int-division)\r\n        uint managerFee = totalPayout / 10;\r\n        // Pay the rest to the winner\r\n        uint payoutToWinner = totalPayout - managerFee;\r\n        \r\n        winner.transfer(payoutToWinner);\r\n        manager.transfer(managerFee);\r\n\r\n        // clear players and start over.\r\n        winner = address(0);\r\n        players = new address payable[](0);\r\n    }\r\n\r\n    function getPlayers() public view returns (address payable[] memory) {\r\n        return players;\r\n    }\r\n\r\n    function getPot() public view returns (uint) {\r\n        return address(this).balance;\r\n    }\r\n\r\n}","ABI":"[{\"inputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"constant\":false,\"inputs\":[],\"name\":\"enter\",\"outputs\":[],\"payable\":true,\"stateMutability\":\"payable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"getPlayers\",\"outputs\":[{\"internalType\":\"address payable[]\",\"name\":\"\",\"type\":\"address[]\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"getPot\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[],\"name\":\"pickWinner\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"playerLimit\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"players\",\"outputs\":[{\"internalType\":\"address payable\",\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"winner\",\"outputs\":[{\"internalType\":\"address payable\",\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"winningsLimit\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"}]","ContractName":"Lottery","CompilerVersion":"v0.5.17+commit.d19bba13","OptimizationUsed":"0","Runs":"200","ConstructorArguments":"","EVMVersion":"Default","Library":"","LicenseType":"None","Proxy":"0","Implementation":"","SwarmSource":"bzzr://bd320e09d128bbb79f1d8cf2c892647b3c19ed980e20334402893069b747edae"}]}