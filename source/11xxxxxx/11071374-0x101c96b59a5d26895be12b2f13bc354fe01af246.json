{"status":"1","message":"OK","result":[{"SourceCode":"/**\r\n *Submitted for verification at BscScan.com on 2020-10-16\r\n*/\r\n\r\n// SPDX-License-Identifier: None\r\npragma solidity ^0.6;\r\n\r\ncontract Ref {\r\n\r\n    mapping(address => address) public referrer;\r\n    mapping(address => uint) public score;\r\n    mapping(address => bool) public admin;\r\n\r\n    modifier onlyAdmin() {\r\n        require(admin[msg.sender], \"You're not admin\");\r\n        _;\r\n    }\r\n\r\n    constructor() public  {\r\n        admin[msg.sender] = true;        \r\n    }\r\n    function set_admin(address a) onlyAdmin() external {\r\n        admin[a] = true;\r\n    }\r\n    function set_referrer(address r) onlyAdmin() external {\r\n        if (referrer[tx.origin] == address(0)) {\r\n            referrer[tx.origin] = r;\r\n            emit ReferrerSet(tx.origin, r);\r\n        }\r\n    }\r\n    function add_score(uint d) onlyAdmin() external {\r\n        score[referrer[tx.origin]] += d;\r\n        emit ScoreAdded(tx.origin, referrer[tx.origin], d);\r\n    }\r\n\r\n    event ReferrerSet(address indexed origin, address indexed referrer);\r\n    event ScoreAdded(address indexed origin, address indexed referrer, uint score);\r\n}","ABI":"[{\"inputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"origin\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"referrer\",\"type\":\"address\"}],\"name\":\"ReferrerSet\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"origin\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"referrer\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"score\",\"type\":\"uint256\"}],\"name\":\"ScoreAdded\",\"type\":\"event\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"d\",\"type\":\"uint256\"}],\"name\":\"add_score\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"name\":\"admin\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"name\":\"referrer\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"name\":\"score\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"a\",\"type\":\"address\"}],\"name\":\"set_admin\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"r\",\"type\":\"address\"}],\"name\":\"set_referrer\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"}]","ContractName":"Ref","CompilerVersion":"v0.6.12+commit.27d51765","OptimizationUsed":"0","Runs":"200","ConstructorArguments":"","EVMVersion":"byzantium","Library":"","LicenseType":"None","Proxy":"0","Implementation":"","SwarmSource":"ipfs://7f08d51b9e53f374b1a24c4cd48ba26b31719e69b23079b9ed3dbefd68b0f96d"}]}