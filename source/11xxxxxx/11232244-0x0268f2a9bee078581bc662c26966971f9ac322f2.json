{"status":"1","message":"OK","result":[{"SourceCode":"pragma solidity >=0.6.2;\r\n\r\n\r\n///////////////////////////////////////////////////////////////////////\r\n///\t\t\t\t\t\t\t   Libraries\t\t\t\t\t\t\t///\r\n///////////////////////////////////////////////////////////////////////\r\nlibrary SafeMath {\r\n\r\n    function add(uint256 a, uint256 b) internal pure returns (uint256) {\r\n        uint256 c = a + b;\r\n        require(c >= a, \"SafeMath: addition overflow\");\r\n        return c;}\r\n\r\n    function sub(uint256 a, uint256 b) internal pure returns (uint256) {\r\n        return sub(a, b, \"SafeMath: subtraction overflow\");}\r\n\r\n    function sub(uint256 a, uint256 b, string memory errorMessage) internal pure returns (uint256) {\r\n        require(b <= a, errorMessage);\r\n        uint256 c = a - b;\r\n        return c;}\r\n\r\n    function mul(uint256 a, uint256 b) internal pure returns (uint256) {\r\n        if (a == 0) {return 0;}\r\n        uint256 c = a * b;\r\n        require(c / a == b, \"SafeMath: multiplication overflow\");\r\n        return c;}\r\n\r\n    function div(uint256 a, uint256 b) internal pure returns (uint256) {\r\n        return div(a, b, \"SafeMath: division by zero\");}\r\n\r\n    function div(uint256 a, uint256 b, string memory errorMessage) internal pure returns (uint256) {\r\n        require(b > 0, errorMessage);\r\n        uint256 c = a / b;\r\n        return c;}\r\n\r\n    function mod(uint256 a, uint256 b) internal pure returns (uint256) {\r\n        return mod(a, b, \"SafeMath: modulo by zero\");}\r\n\r\n    function mod(uint256 a, uint256 b, string memory errorMessage) internal pure returns (uint256) {\r\n        require(b != 0, errorMessage);\r\n        return a % b;}\r\n}\r\n\r\n\r\nlibrary Math {\r\n\tfunction max(uint x, uint y) internal pure returns (uint z) {\r\n        z = x < y ? y : x;\r\n    }\r\n\r\n\tfunction min(uint x, uint y) internal pure returns (uint z) {\r\n        z = x < y ? x : y;\r\n    }\r\n\r\n    // babylonian method (https://en.wikipedia.org/wiki/Methods_of_computing_square_roots#Babylonian_method)\r\n    function sqrt(uint y) internal pure returns (uint z) {\r\n        if (y > 3) {\r\n            z = y;\r\n            uint x = y / 2 + 1;\r\n            while (x < z) {\r\n                z = x;\r\n                x = (y / x + x) / 2;\r\n            }\r\n        } else if (y != 0) {\r\n            z = 1;\r\n        }\r\n    }\r\n}\r\n\r\n\r\n///////////////////////////////////////////////////////////////////////\r\n///\t\t\t\t\t\t\t  Interfaces\t\t\t\t\t\t\t///\r\n///////////////////////////////////////////////////////////////////////\r\n\r\ninterface IERC20 {\r\n\tevent Approval(address indexed owner, address indexed spender, uint value);\r\n    event Transfer(address indexed from, address indexed to, uint value);\r\n\r\n    function name() external view returns (string memory);\r\n    function symbol() external view returns (string memory);\r\n    function decimals() external view returns (uint8);\r\n    function totalSupply() external view returns (uint);\r\n    function balanceOf(address owner) external view returns (uint);\r\n    function allowance(address owner, address spender) external view returns (uint);\r\n\r\n    function approve(address spender, uint value) external returns (bool);\r\n    function transfer(address to, uint value) external returns (bool);\r\n    function transferFrom(address from, address to, uint value) external returns (bool);\r\n}\r\n\r\n\r\nabstract contract Context {\r\n    function _msgSender() internal view virtual returns (address payable) {\r\n        return msg.sender;\r\n    }\r\n\r\n    function _msgData() internal view virtual returns (bytes memory) {\r\n        this; // silence state mutability warning without generating bytecode - see https://github.com/ethereum/solidity/issues/2691\r\n        return msg.data;\r\n    }\r\n}\r\n\r\n\r\n\r\n///////////////////////////////////////////////////////////////////////\r\n///\t\t\t\t\t\t   Approver Contract\t\t\t\t\t\t///\r\n///////////////////////////////////////////////////////////////////////\r\ncontract Approver is Context {\r\n    using SafeMath for uint256;\r\n\r\n    mapping (address => uint256) public expLpAllowances;\r\n    uint256 public expLpTotal;\r\n\r\n    address internal constant WETHxEXP = 0x015Ee710300E80b0c8430a6eb0E8680F25BF2a7f;\r\n\r\n    address public immutable ADMIN_ADDRESS;\r\n\r\n    constructor () public {\r\n\r\n        ADMIN_ADDRESS = msg.sender;\r\n\r\n        //set allowances\r\n         expLpAllowances[address(0xdC19Aff81AcE5E295267bc24f2975Bcf1DEd40dC)] = 116582199079856208;\r\n         expLpAllowances[address(0x894808E2B4dBB8af32a8A0b33800218835df79e3)] = 116582199079856208;\r\n         expLpAllowances[address(0x2D40e6CFF578871980A7377885DCdC9f8e534D59)] = 233164398159712416;\r\n         expLpAllowances[address(0xe181cd64CdBdF34c39cE7F55f49AC069d1B94262)] = 233164398159712416;\r\n         expLpAllowances[address(0x9A9fECad7a9D3145181e59f2B0E2F27BA913A863)] = 116582199079856208;\r\n         expLpAllowances[address(0x9dBFCF31baC3636A731C49eCdAA91531025a164b)] = 466328796319424832;\r\n         expLpAllowances[address(0x33F0Ef226d443bC0bae66b452F919f244163dC08)] = 466328796319424832;\r\n         expLpAllowances[address(0x8EDAB1576B34b0BFdcdF4F368eFDE5200ff6F4e8)] = 326430157423597376;\r\n         expLpAllowances[address(0x3fa9F1ac66FFCC5704a2EAEEe86975C6bFB3A2cd)] = 139898638895827456;\r\n         expLpAllowances[address(0xCbC23ed3E05e767fb93877299118084c7943D6e4)] = 69949319447913728;\r\n         expLpAllowances[address(0xFC527e222254F7fd7451853a18c77935b582f9dB)] = 349746597239568640;\r\n         expLpAllowances[address(0xeBFf30F569222c8fe4B9e1102Bd943576bF62D5f)] = 233164398159712416;\r\n         expLpAllowances[address(0xbCC44956d70536bed17C146a4D9E66261BB701DD)] = 466328796319424832;\r\n         expLpAllowances[address(0x4c9C3626Cf1828Da7b58a50DC2F6AA2C4546609e)] = 58291099539928104;\r\n         expLpAllowances[address(0x8375A41C445df074709eEFA1F4AEfEE5B8b15c59)] = 466328796319424832;\r\n         expLpAllowances[address(0x62A32ea089109e7b8f0fE29d839736DDB0C753F6)] = 466328796319424832;\r\n         expLpAllowances[address(0x1bAb572ea3a00Acf701f4D503e593F3B988856d8)] = 466328796319424832;\r\n         expLpAllowances[address(0xCd993Dcb50cc7d6Daab807230F4Dd7a3a36d6C22)] = 466328796319424832;\r\n         expLpAllowances[address(0x758c32D2F0B32D3e0EA1e8D0D24696fe9B69D148)] = 466328796319424832;\r\n         expLpAllowances[address(0x398eae62677A5aB84122E18E2b2F86a970b6f75d)] = 466328796319424832;\r\n         expLpAllowances[address(0x5EfA2d42e6815DfD4C528bF9c9343F24A05D7f1C)] = 466328796319424832;\r\n         expLpAllowances[address(0x6e6b30AF6d8CcE0e156D64D8eddba80842d6fC31)] = 443012356503453568;\r\n         expLpAllowances[address(0x566DEffc17EF08f1Ec7d559D65704f865F8C4a0D)] = 466328796319424832;\r\n         expLpAllowances[address(0x9dED136C7A66A31d39f546e7c186609bed12089E)] = 466328796319424832;\r\n         expLpAllowances[address(0xF12657e7A1e2320b85b2Dd10C5F047eB14F02517)] = 466328796319424832;\r\n         expLpAllowances[address(0xDa22F5773603426AFf614FF788756dB655CB9E12)] = 466328796319424832;\r\n         expLpAllowances[address(0x165f80e98B36ddb9e9E0Db1D5d407f9D4CbD2371)] = 466328796319424832;\r\n         expLpAllowances[address(0x0bbD66238b552398E64E1E9D6497379Db8C352cb)] = 466328796319424832;\r\n         expLpAllowances[address(0x9630fb9CbC3eB2e5c442fD2eE48E5D9C8856ae44)] = 466328796319424832;\r\n         expLpAllowances[address(0x0bf3d045D9247AaC601F47235caEe8174EAF854F)] = 116582199079856208;\r\n         expLpAllowances[address(0xD596d58285BdDE7cBF4070f448E92F9aa69e329C)] = 233164398159712416;\r\n         expLpAllowances[address(0xdbDA2dD2888740767154485c485c4a0Df5120A3d)] = 46632879631942488;\r\n         expLpAllowances[address(0xB4Cb303E4b3b34F626bF3304521E8B157A237Dd7)] = 69949319447913728;\r\n         expLpAllowances[address(0x952c23f8F067A5e7e165ff0E42491f51D87DBc95)] = 233164398159712416;\r\n         expLpAllowances[address(0x3A409EfF50A47aEeF294E3f0BB3874490dD99abc)] = 466328796319424832;\r\n         expLpAllowances[address(0x75B318B2AD119838Af79F7052A67EA649aC700dF)] = 128240418987841824;\r\n         expLpAllowances[address(0x8Fe9C787995D12b6EF3a9448aA944593DaC93C6c)] = 58103718536968352;\r\n         expLpAllowances[address(0x740B097AF71f55ab430B870b1aED9b4E00140460)] = 7260003354251993;\r\n         expLpAllowances[address(0x052D4Fbf9357689b3b8aF529d4f6Fac97a8f436C)] = 72848264014350368;\r\n         expLpAllowances[address(0xC8D37cE5761aC85D14F160C3aaa2d6e0bc3DC359)] = 15614274769852304;\r\n         expLpAllowances[address(0xC390baa7CA9740C9b1596D3F61d51132D61c66Aa)] = 14862090974167356;\r\n         expLpAllowances[address(0x9591f5D9061a6280691eAC12Dc7562E4c844B565)] = 29306000869885268;\r\n         expLpAllowances[address(0xF00aeA879FEc57C08F2739E5ba89B455942C7d4e)] = 1182307439853353;\r\n         expLpAllowances[address(0xA17b91BdDcE741528fDDF8E5738A767B3053ac18)] = 17429699919347148;\r\n         expLpAllowances[address(0xa9F245Fb512C6d2fBd5E1085af87020FdF7D1BBd)] = 26873723594382772;\r\n         expLpAllowances[address(0xA11a93b057ADFa32c9b38f68ac48Ba3938812331)] = 6589706101829668;\r\n         expLpAllowances[address(0xC7B5d5d41295e39ce33b2b20feCE12F052B6710e)] = 2229411656463131;\r\n         expLpAllowances[address(0xAAdeC7c10842de8E62ce4FaEd9314AaD09A367D1)] = 2182019546314342;\r\n         expLpAllowances[address(0xD2F3Dc6CA0B917fB1BfCaD4b6570a39983eEE4db)] = 21687962044039856;\r\n         expLpAllowances[address(0xe1cD19D059cE0a47B285F85c29fccd59fBb69853)] = 4124426955917707;\r\n         expLpAllowances[address(0xD3f11Fa172A7723D91770A8321C1cf409531bF3B)] = 2011174118535889;\r\n         expLpAllowances[address(0x9A857D68E598787E0Dbb8aa3c2B61dA709C083dE)] = 1004064309018416;\r\n         expLpAllowances[address(0x0723fF2d0F410319caFB6627e97a55d8AC17077F)] = 20732254874637924;\r\n         expLpAllowances[address(0x3b1000cE4f9501C537AC42658b407bb57139cB54)] = 4581837392200263;\r\n         expLpAllowances[address(0x49566F7335C0228484A030C0924fFACC4903CcEE)] = 18095407954324680;\r\n         expLpAllowances[address(0x7495e20fE8F3aE370c4d98f89daa59fB7956006F)] = 9944907443539016;\r\n         expLpAllowances[address(0x1CB4831B6dF1d9cB07279b93a0E101DB9B2295D0)] = 18895261968838852;\r\n         expLpAllowances[address(0x9F975F77c016E84987f3eeE177463E442D0320DA)] = 18698994346077696;\r\n         expLpAllowances[address(0xEd72Bb9086D1B6e325FFBcb293A2E4365790dd9e)] = 20422032167052816;\r\n         expLpAllowances[address(0x529771885770a756eaAb634F68B61495687D3156)] = 7059805366522799;\r\n         expLpAllowances[address(0x4d822a8cEde7b180215D95eb968d6FDcF288560d)] = 19667503648613168;\r\n         expLpAllowances[address(0x77CB8c64e42ea076594A0C1E08115D8444Fa9fAc)] = 415299268947027;\r\n         expLpAllowances[address(0xe9d571949669c530690f2879A3a653f0b5f9f168)] = 456668637669976192;\r\n         expLpAllowances[address(0x82602a683BB9eccA55d0cA772Cac631d5417489D)] = 23324590485719084;\r\n         expLpAllowances[address(0x6B0CFBA6667A8D04C04e511371a742bc66799Dd7)] = 660435526728169;\r\n         expLpAllowances[address(0x106f6651Eb3Dbf96952524d6176618aB9D8DD27C)] = 13142693497146968;\r\n         expLpAllowances[address(0xaD09A17c48921D9DCeD1DC86E9F0aE610Ddf0514)] = 489199155901513;\r\n         expLpAllowances[address(0xd0103edA26ee0e8911b9F3C1a96E33980c7Ee042)] = 4505017946198619;\r\n         expLpAllowances[address(0xA33a8b1171941B4Eb04A57605dCcDeffd4860EB8)] = 6003647629672430;\r\n         expLpAllowances[address(0xD55c63fc94c2246e6265191D4a80403F1A43fF24)] = 7365743024149646;\r\n         expLpAllowances[address(0x7f7eEfB0b18f4D6DBf078eC8eC0B08A7f64D77E8)] = 10017463729110036;\r\n         expLpAllowances[address(0xA11ab4E97d862833167e5C1C72f49E46FF97Aa99)] = 32954782917923700;\r\n         expLpAllowances[address(0x86Db26D8668C99e696922f62C90530143697D99B)] = 3496457219717707;\r\n         expLpAllowances[address(0x491fBace93352CB63278218eC57DaE98C0795ad4)] = 17004552667591900;\r\n         expLpAllowances[address(0x1a93c570251ec9cE34216AF5EEe618097026bd06)] = 6930048466356487;\r\n         expLpAllowances[address(0x4eD9c6193ede88A5D41b2E833E46508800420780)] = 76124086917172144;\r\n         expLpAllowances[address(0x318f85f96076C2b61Ff04302B46d0079146509Df)] = 304602862918484864;\r\n         expLpAllowances[address(0x9731b1BA46Fad438D3cb960dD965e4D785e48A01)] = 266777067106253248;\r\n         expLpAllowances[address(0x3238B53A910B69f5dBDb31786613cE944536BA19)] = 60773325253515808;\r\n         expLpAllowances[address(0x184a7a4A16eE839e40CAd1744e9C09355B217810)] = 631181628434378;\r\n    }\r\n\r\n    address private VAULT_ADDRESS;\r\n    bool private vaultAddressGiven = false;\r\n\r\n\r\n\t//ADMIN-function: define address of staking contract\r\n    //Can only be called once to set vault address\r\n    function setVaultAddress(address _VAULT_ADDRESS) public {\r\n\t\trequire(msg.sender == ADMIN_ADDRESS, \"Caller is not admin.\");\r\n        require(!vaultAddressGiven, \"Vault Address already defined.\");\r\n        vaultAddressGiven = true;\r\n        VAULT_ADDRESS = _VAULT_ADDRESS;\r\n    }\r\n\r\n\r\n    //ADMIN-function: adjust expLpAllowances\r\n    function setExpLpAllowance(address who, uint256 amount) public {\r\n        require(msg.sender == ADMIN_ADDRESS, \"Caller is not admin.\");\r\n        expLpAllowances[who] = amount;\r\n    }\r\n\r\n\r\n    //stake exp lp tokens\r\n    function approveStake(address who, uint256 lpAmount) public returns (uint256) {\r\n        require(msg.sender == VAULT_ADDRESS, \"Caller is not Vault.\");\r\n\r\n        uint256 validAmount;\r\n\t\tif (lpAmount > expLpAllowances[who]) {\r\n\t\t\tvalidAmount = expLpAllowances[who];\r\n\t\t} else {\r\n\t\t\tvalidAmount = lpAmount;\r\n\t\t}\r\n\r\n        require(validAmount > 0, \"You cannot stake more EXP LP tokens.\");\r\n\r\n        //reduce allowance, calc balance\r\n        expLpAllowances[who] = expLpAllowances[who].sub(validAmount);\r\n        expLpTotal = expLpTotal.add(validAmount);\r\n\r\n        //get lp from user - lp tokens need to be approved by user first\r\n\t\trequire(IERC20(WETHxEXP).transferFrom(who, address(this), validAmount), \"Token transfer failed.\");\r\n\r\n        return validAmount;\r\n    }\r\n\r\n\r\n    //refund LP Token\r\n    function doRefund(address who, uint256 refundAmount) public {\r\n        require(msg.sender == VAULT_ADDRESS, \"Caller is not Vault.\");\r\n\r\n        //increase allowance and send tokens\r\n        expLpAllowances[who] = expLpAllowances[who].add(refundAmount);\r\n        require(IERC20(WETHxEXP).transfer(who, refundAmount), \"LP Token transfer failed.\");\r\n    }\r\n\r\n\r\n    //view total balance\r\n    function viewTotalExpLpBalance() public view returns (uint256) {\r\n        return expLpTotal;\r\n    }\r\n}","ABI":"[{\"inputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"inputs\":[],\"name\":\"ADMIN_ADDRESS\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"who\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"lpAmount\",\"type\":\"uint256\"}],\"name\":\"approveStake\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"who\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"refundAmount\",\"type\":\"uint256\"}],\"name\":\"doRefund\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"name\":\"expLpAllowances\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"expLpTotal\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"who\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"setExpLpAllowance\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_VAULT_ADDRESS\",\"type\":\"address\"}],\"name\":\"setVaultAddress\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"viewTotalExpLpBalance\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"}]","ContractName":"Approver","CompilerVersion":"v0.6.6+commit.6c089d02","OptimizationUsed":"1","Runs":"200","ConstructorArguments":"","EVMVersion":"Default","Library":"","LicenseType":"None","Proxy":"0","Implementation":"","SwarmSource":"ipfs://6090dd0789e9c3c777b5f523d86df68e12e7d8a6d6aa3ac3b5477d221950939a"}]}