{"status":"1","message":"OK","result":[{"SourceCode":"// SPDX-License-Identifier: agpl-3.0\r\npragma solidity 0.6.12;\r\n\r\ninterface IProposalExecutor {\r\n  function execute() external;\r\n}\r\n\r\ninterface IProxyWithAdminActions {\r\n  event AdminChanged(address previousAdmin, address newAdmin);\r\n\r\n  function upgradeToAndCall(address newImplementation, bytes calldata data) external payable;\r\n\r\n  function upgradeTo(address newImplementation) external payable;\r\n\r\n  function changeAdmin(address newAdmin) external;\r\n}\r\n\r\ninterface IAaveTokenV2 {\r\n  function initialize() external;\r\n}\r\n\r\ninterface IStkAaveV2 {\r\n  function initialize() external;\r\n}\r\n\r\ninterface ILendingPoolAddressesProvider {\r\n  event LendingPoolUpdated(address indexed newAddress);\r\n  event LendingPoolCoreUpdated(address indexed newAddress);\r\n  event LendingPoolParametersProviderUpdated(address indexed newAddress);\r\n  event LendingPoolManagerUpdated(address indexed newAddress);\r\n  event LendingPoolConfiguratorUpdated(address indexed newAddress);\r\n  event LendingPoolLiquidationManagerUpdated(address indexed newAddress);\r\n  event LendingPoolDataProviderUpdated(address indexed newAddress);\r\n  event EthereumAddressUpdated(address indexed newAddress);\r\n  event PriceOracleUpdated(address indexed newAddress);\r\n  event LendingRateOracleUpdated(address indexed newAddress);\r\n  event FeeProviderUpdated(address indexed newAddress);\r\n  event TokenDistributorUpdated(address indexed newAddress);\r\n\r\n  event ProxyCreated(bytes32 id, address indexed newAddress);\r\n\r\n  function getLendingPool() external view returns (address);\r\n\r\n  function setLendingPoolImpl(address _pool) external;\r\n\r\n  function getLendingPoolCore() external view returns (address payable);\r\n\r\n  function setLendingPoolCoreImpl(address _lendingPoolCore) external;\r\n\r\n  function getLendingPoolConfigurator() external view returns (address);\r\n\r\n  function setLendingPoolConfiguratorImpl(address _configurator) external;\r\n\r\n  function getLendingPoolDataProvider() external view returns (address);\r\n\r\n  function setLendingPoolDataProviderImpl(address _provider) external;\r\n\r\n  function getLendingPoolParametersProvider() external view returns (address);\r\n\r\n  function setLendingPoolParametersProviderImpl(address _parametersProvider) external;\r\n\r\n  function getTokenDistributor() external view returns (address);\r\n\r\n  function setTokenDistributor(address _tokenDistributor) external;\r\n\r\n  function getFeeProvider() external view returns (address);\r\n\r\n  function setFeeProviderImpl(address _feeProvider) external;\r\n\r\n  function getLendingPoolLiquidationManager() external view returns (address);\r\n\r\n  function setLendingPoolLiquidationManager(address _manager) external;\r\n\r\n  function getLendingPoolManager() external view returns (address);\r\n\r\n  function setLendingPoolManager(address _lendingPoolManager) external;\r\n\r\n  function getPriceOracle() external view returns (address);\r\n\r\n  function setPriceOracle(address _priceOracle) external;\r\n\r\n  function getLendingRateOracle() external view returns (address);\r\n\r\n  function setLendingRateOracle(address _lendingRateOracle) external;\r\n}\r\n\r\ninterface IOwnable {\r\n  event OwnershipTransferred(address indexed previousOwner, address indexed newOwner);\r\n\r\n  function transferOwnership(address newOwner) external;\r\n\r\n  function owner() external view returns (address);\r\n}\r\n\r\n/**\r\n * @title GovernanceV2ProposalPayload\r\n * @notice Proposal payload to be executed by the Aave Governance contract via DELEGATECALL\r\n * - Upgrade implementations of AAVE and stkAAVE, to include proposition/voting delegation\r\n * - Transfer all permissions from the Aave governance v1 to the Aave governance v2, with\r\n *   granularity per Executor contracts (short and long)\r\n * @author Aave\r\n **/\r\ncontract GovernanceV2ProposalPayload is IProposalExecutor {\r\n  event ProposalExecuted();\r\n\r\n  address public immutable AAVE_TOKEN_PROXY;\r\n  address public immutable AAVE_TOKEN_NEW_IMPL;\r\n  address public immutable STKAAVE_PROXY;\r\n  address public immutable STKAAVE_NEW_IMPL;\r\n  address public immutable RESERVE_ECOSYSTEM_PROXY;\r\n  address public immutable ADDRESSES_PROVIDER_V1_PROTO;\r\n  address public immutable ADDRESSES_PROVIDER_V1_UNISWAP;\r\n  address public immutable TOKEN_DISTRIBUTOR_PROXY;\r\n  address public immutable FEES_COLLECTOR;\r\n  address public immutable SHORT_EXECUTOR_V2;\r\n  address public immutable LONG_EXECUTOR_V2;\r\n\r\n  constructor(\r\n    address aaveTokenProxy,\r\n    address aaveTokenNewImpl,\r\n    address stkAaveProxy,\r\n    address stkAaveNewImpl,\r\n    address reserveEcosystemProxy,\r\n    address addressesProviderV1Proto,\r\n    address addressesProviderV1Uniswap,\r\n    address tokenDistributorProxy,\r\n    address feesCollector,\r\n    address shortExecutor,\r\n    address longExecutor\r\n  ) public {\r\n    AAVE_TOKEN_PROXY = aaveTokenProxy;\r\n    AAVE_TOKEN_NEW_IMPL = aaveTokenNewImpl;\r\n    STKAAVE_PROXY = stkAaveProxy;\r\n    STKAAVE_NEW_IMPL = stkAaveNewImpl;\r\n    RESERVE_ECOSYSTEM_PROXY = reserveEcosystemProxy;\r\n    ADDRESSES_PROVIDER_V1_PROTO = addressesProviderV1Proto;\r\n    ADDRESSES_PROVIDER_V1_UNISWAP = addressesProviderV1Uniswap;\r\n    TOKEN_DISTRIBUTOR_PROXY = tokenDistributorProxy;\r\n    FEES_COLLECTOR = feesCollector;\r\n    SHORT_EXECUTOR_V2 = shortExecutor;\r\n    LONG_EXECUTOR_V2 = longExecutor;\r\n  }\r\n\r\n  /**\r\n   * @dev Payload execution function, called once a proposal passed in the Aave governance\r\n   */\r\n  function execute() external override {\r\n    bytes memory aaveTokenParams =\r\n      abi.encodeWithSelector(IAaveTokenV2(AAVE_TOKEN_NEW_IMPL).initialize.selector);\r\n\r\n    IProxyWithAdminActions(AAVE_TOKEN_PROXY).upgradeToAndCall(AAVE_TOKEN_NEW_IMPL, aaveTokenParams);\r\n\r\n    IProxyWithAdminActions(AAVE_TOKEN_PROXY).changeAdmin(LONG_EXECUTOR_V2);\r\n\r\n    bytes memory stkAaveParams =\r\n      abi.encodeWithSelector(IStkAaveV2(STKAAVE_NEW_IMPL).initialize.selector);\r\n\r\n    IProxyWithAdminActions(STKAAVE_PROXY).upgradeToAndCall(STKAAVE_NEW_IMPL, stkAaveParams);\r\n\r\n    IProxyWithAdminActions(STKAAVE_PROXY).changeAdmin(LONG_EXECUTOR_V2);\r\n\r\n    ILendingPoolAddressesProvider(ADDRESSES_PROVIDER_V1_PROTO).setLendingPoolManager(\r\n      SHORT_EXECUTOR_V2\r\n    );\r\n    IOwnable(ADDRESSES_PROVIDER_V1_PROTO).transferOwnership(SHORT_EXECUTOR_V2);\r\n\r\n    ILendingPoolAddressesProvider(ADDRESSES_PROVIDER_V1_UNISWAP).setLendingPoolManager(\r\n      SHORT_EXECUTOR_V2\r\n    );\r\n    IOwnable(ADDRESSES_PROVIDER_V1_UNISWAP).transferOwnership(SHORT_EXECUTOR_V2);\r\n\r\n    IProxyWithAdminActions(TOKEN_DISTRIBUTOR_PROXY).changeAdmin(SHORT_EXECUTOR_V2);\r\n\r\n    IProxyWithAdminActions(FEES_COLLECTOR).changeAdmin(SHORT_EXECUTOR_V2);\r\n\r\n    IProxyWithAdminActions(RESERVE_ECOSYSTEM_PROXY).changeAdmin(SHORT_EXECUTOR_V2);\r\n\r\n    emit ProposalExecuted();\r\n  }\r\n}","ABI":"[{\"inputs\":[{\"internalType\":\"address\",\"name\":\"aaveTokenProxy\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"aaveTokenNewImpl\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"stkAaveProxy\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"stkAaveNewImpl\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"reserveEcosystemProxy\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"addressesProviderV1Proto\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"addressesProviderV1Uniswap\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"tokenDistributorProxy\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"feesCollector\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"shortExecutor\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"longExecutor\",\"type\":\"address\"}],\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"anonymous\":false,\"inputs\":[],\"name\":\"ProposalExecuted\",\"type\":\"event\"},{\"inputs\":[],\"name\":\"AAVE_TOKEN_NEW_IMPL\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"AAVE_TOKEN_PROXY\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"ADDRESSES_PROVIDER_V1_PROTO\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"ADDRESSES_PROVIDER_V1_UNISWAP\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"FEES_COLLECTOR\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"LONG_EXECUTOR_V2\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"RESERVE_ECOSYSTEM_PROXY\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"SHORT_EXECUTOR_V2\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"STKAAVE_NEW_IMPL\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"STKAAVE_PROXY\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"TOKEN_DISTRIBUTOR_PROXY\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"execute\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"}]","ContractName":"GovernanceV2ProposalPayload","CompilerVersion":"v0.6.12+commit.27d51765","OptimizationUsed":"0","Runs":"200","ConstructorArguments":"0000000000000000000000007fc66500c84a76ad7e9c93437bfc5ac33e2ddae9000000000000000000000000c13eac3b4f9eed480045113b7af00f7b5655ece80000000000000000000000004da27a545c0c5b758a6ba100e3a049001de870f5000000000000000000000000c0d503b341868a6f6b6e21e0780aa57fdbbca53a00000000000000000000000025f2226b597e8f9514b3f68f00f494cf4f28649100000000000000000000000024a42fd28c976a61df5d00d0599c34c4f90748c80000000000000000000000007fd53085b9a29d236235d6fc593b47c9c33429f1000000000000000000000000e3d9988f676457123c5fd01297605efdd0cba1ae000000000000000000000000464c71f6c2f760dda6093dcb91c24c39e5d6e18c000000000000000000000000ee56e2b3d491590b5b31738cc34d5232f378a8d500000000000000000000000061910ecd7e8e942136ce7fe7943f956cea1cc2f7","EVMVersion":"Default","Library":"","LicenseType":"Unknown","Proxy":"0","Implementation":"","SwarmSource":"ipfs://f05ed7e864db548d60f9e0cffac98763d3217aa9d0a02b23dbb244c33bf24935"}]}