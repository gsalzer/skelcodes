{"status":"1","message":"OK","result":[{"SourceCode":"// SPDX-License-Identifier: GPL-3.0\r\npragma solidity ^0.4.0;\r\n\r\ncontract profitSharing{\r\n    \r\n    address public owner;\r\n    uint public allPercent;\r\n    uint decimals = (10 ** 6);\r\n    \r\n    struct Addresses {\r\n        address userAddress;\r\n        uint percent;\r\n    }\r\n    \r\n    Addresses[] public addresses;\r\n    Addresses[] newAddr;\r\n    uint public payBalance = 0;\r\n    \r\n    modifier isOwner() {\r\n        require(msg.sender == owner);\r\n        _;\r\n    }\r\n\r\n    event Deposit(address indexed from, uint value);\r\n    \r\n    constructor () public {\r\n        owner = msg.sender;\r\n    }\r\n    \r\n    function() external payable {\r\n        if(address(this).balance >= payBalance * decimals){\r\n            payAll();\r\n        }\r\n    }\r\n    \r\n    function getBalance() public view returns(uint){\r\n        return address(this).balance;\r\n    } \r\n    \r\n    function setPayBalance(uint _payBalance) public isOwner{\r\n        payBalance = _payBalance;\r\n    }\r\n    \r\n    function payAll() public isOwner payable{\r\n        uint j = 0;\r\n        uint allBalance = address(this).balance;\r\n        for (j = 0; j < addresses.length; j++) {\r\n            addresses[j].userAddress.transfer((allBalance * addresses[j].percent) / 100);\r\n        }\r\n        //if(address(this).balance > 0){\r\n        //    owner.transfer(address(this).balance);\r\n        //}\r\n    }\r\n    \r\n    function getCount() public view returns(uint) {\r\n        return addresses.length;\r\n    }\r\n    \r\n    function getAdresses(uint j) public view returns(uint num, address addr, uint per){\r\n        num = j;\r\n        addr = addresses[j].userAddress;\r\n        per = addresses[j].percent;\r\n    }\r\n    \r\n    function setAddresses(address _userAddr, uint percent) public isOwner{ \r\n        addresses.push(Addresses(_userAddr, percent));\r\n        allPercent += percent;\r\n    }\r\n    \r\n    function updateAddresses(address _userAddr, uint percent, uint num) public isOwner{\r\n        uint old = allPercent - addresses[num].percent;\r\n        addresses[num] = Addresses(_userAddr, percent);\r\n        allPercent = old + percent;\r\n    }\r\n    \r\n    function deleteAddresses(uint num) public isOwner{\r\n        uint i = 0;\r\n        for(i = 0; i < addresses.length; i++){\r\n            if(i != num){\r\n                newAddr.push(addresses[i]);\r\n            }\r\n        }\r\n        addresses.length = 0;\r\n        addresses = newAddr;\r\n    }\r\n}","ABI":"[{\"constant\":true,\"inputs\":[],\"name\":\"getBalance\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_userAddr\",\"type\":\"address\"},{\"name\":\"percent\",\"type\":\"uint256\"}],\"name\":\"setAddresses\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[],\"name\":\"payAll\",\"outputs\":[],\"payable\":true,\"stateMutability\":\"payable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_payBalance\",\"type\":\"uint256\"}],\"name\":\"setPayBalance\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"owner\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"num\",\"type\":\"uint256\"}],\"name\":\"deleteAddresses\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"allPercent\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"getCount\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_userAddr\",\"type\":\"address\"},{\"name\":\"percent\",\"type\":\"uint256\"},{\"name\":\"num\",\"type\":\"uint256\"}],\"name\":\"updateAddresses\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"j\",\"type\":\"uint256\"}],\"name\":\"getAdresses\",\"outputs\":[{\"name\":\"num\",\"type\":\"uint256\"},{\"name\":\"addr\",\"type\":\"address\"},{\"name\":\"per\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"payBalance\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"addresses\",\"outputs\":[{\"name\":\"userAddress\",\"type\":\"address\"},{\"name\":\"percent\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"payable\":true,\"stateMutability\":\"payable\",\"type\":\"fallback\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"name\":\"from\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"value\",\"type\":\"uint256\"}],\"name\":\"Deposit\",\"type\":\"event\"}]","ContractName":"profitSharing","CompilerVersion":"v0.4.26+commit.4563c3fc","OptimizationUsed":"0","Runs":"200","ConstructorArguments":"","EVMVersion":"Default","Library":"","LicenseType":"GNU GPLv3","Proxy":"0","Implementation":"","SwarmSource":"bzzr://fbc70ce3bdd774ea283f2de9f27efc5c43075ce26a716c2f6da92ca0876b3fe0"}]}