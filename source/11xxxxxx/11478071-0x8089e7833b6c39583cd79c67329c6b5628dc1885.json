{"status":"1","message":"OK","result":[{"SourceCode":"pragma solidity ^0.6.7;\r\n\r\ninterface FileLike {\r\n    function deny(address) external;\r\n    function file(bytes32, uint256) external;\r\n}\r\n\r\n// Perform linear interpolation on a dss administrative value over time\r\n\r\ncontract Lerp {\r\n\r\n    // --- Auth ---\r\n    mapping (address => uint256) public wards;\r\n    function rely(address usr) external auth { wards[usr] = 1; }\r\n    function deny(address usr) external auth { wards[usr] = 0; }\r\n    modifier auth { require(wards[msg.sender] == 1); _; }\r\n\r\n    uint256 constant WAD = 10 ** 18;\r\n    function add(uint256 x, uint256 y) internal pure returns (uint256 z) {\r\n        require((z = x + y) >= x);\r\n    }\r\n    function sub(uint256 x, uint256 y) internal pure returns (uint256 z) {\r\n        require((z = x - y) <= x);\r\n    }\r\n    function mul(uint256 x, uint256 y) internal pure returns (uint256 z) {\r\n        require(y == 0 || (z = x * y) / y == x);\r\n    }\r\n\r\n    FileLike immutable public target;\r\n    bytes32 immutable public what;\r\n    uint256 immutable public start;\r\n    uint256 immutable public end;\r\n    uint256 immutable public duration;\r\n\r\n    bool public started;\r\n    bool public done;\r\n    uint256 public startTime;\r\n    \r\n    constructor(address target_, bytes32 what_, uint256 start_, uint256 end_, uint256 duration_) public {\r\n        require(duration_ != 0, \"Lerp/no-zero-duration\");\r\n        require(start_ != end_, \"Lerp/start-end-equal\");\r\n        target = FileLike(target_);\r\n        what = what_;\r\n        start = start_;\r\n        end = end_;\r\n        duration = duration_;\r\n        started = false;\r\n        done = false;\r\n        wards[msg.sender] = 1;\r\n    }\r\n\r\n    function init() external auth {\r\n        require(!started, \"Lerp/already-started\");\r\n        require(!done, \"Lerp/finished\");\r\n        target.file(what, start);\r\n        startTime = block.timestamp;\r\n        started = true;\r\n    }\r\n\r\n    function tick() external {\r\n        require(started, \"Lerp/not-started\");\r\n        require(block.timestamp > startTime, \"Lerp/no-time-elasped\");\r\n        require(!done, \"Lerp/finished\");\r\n        if (block.timestamp < add(startTime, duration)) {\r\n            // 0 <= t < WAD\r\n            uint256 t = mul(WAD, sub(block.timestamp, startTime)) / duration;\r\n            // y = (end - start) * t + start [Linear Interpolation]\r\n            //   = end * t + start - start * t [Avoids overflow by moving the subtraction to the end]\r\n            target.file(what, sub(add(mul(end, t) / WAD, start), mul(start, t) / WAD));\r\n        } else {\r\n            // Set the end value and de-auth yourself\r\n            target.file(what, end);\r\n            target.deny(address(this));\r\n            done = true;\r\n        }\r\n    }\r\n\r\n}","ABI":"[{\"inputs\":[{\"internalType\":\"address\",\"name\":\"target_\",\"type\":\"address\"},{\"internalType\":\"bytes32\",\"name\":\"what_\",\"type\":\"bytes32\"},{\"internalType\":\"uint256\",\"name\":\"start_\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"end_\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"duration_\",\"type\":\"uint256\"}],\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"usr\",\"type\":\"address\"}],\"name\":\"deny\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"done\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"duration\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"end\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"init\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"usr\",\"type\":\"address\"}],\"name\":\"rely\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"start\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"startTime\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"started\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"target\",\"outputs\":[{\"internalType\":\"contract FileLike\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"tick\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"name\":\"wards\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"what\",\"outputs\":[{\"internalType\":\"bytes32\",\"name\":\"\",\"type\":\"bytes32\"}],\"stateMutability\":\"view\",\"type\":\"function\"}]","ContractName":"Lerp","CompilerVersion":"v0.6.7+commit.b8d736ae","OptimizationUsed":"0","Runs":"200","ConstructorArguments":"00000000000000000000000089b78cfa322f6c5de0abceecab66aee45393cc5a74696e0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000002386f26fc1000000000000000000000000000000000000000000000000000000038d7ea4c680000000000000000000000000000000000000000000000000000000000000093a80","EVMVersion":"Default","Library":"","LicenseType":"GNU GPLv3","Proxy":"0","Implementation":"","SwarmSource":"ipfs://7db91577705cd02ad6e647c991c23f2020e890a43024222b426bcbcbce7ea3e9"}]}