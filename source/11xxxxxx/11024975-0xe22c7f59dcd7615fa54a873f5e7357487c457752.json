{"status":"1","message":"OK","result":[{"SourceCode":"pragma solidity 0.5.17;\r\n\r\ncontract Permissions {\r\n\r\n  mapping (address=>bool) public permits;\r\n\r\n// all events will be saved as log files\r\n  event AddPermit(address _addr);\r\n  event RemovePermit(address _addr);\r\n\r\n  constructor() public {\r\n    permits[msg.sender] = true;\r\n  }\r\n\r\n  \r\n  modifier onlyPermits(){\r\n    require(permits[msg.sender] == true);\r\n    _;\r\n  }\r\n\r\n  function isPermit(address _addr) public view returns(bool){\r\n    return permits[_addr];\r\n  }\r\n\r\n  function addPermit(address _addr) public onlyPermits{\r\n    require(permits[_addr] == false);\r\n    permits[_addr] = true;\r\n    emit AddPermit(_addr);\r\n  }\r\n\r\n\r\n\r\n  function removePermit(address _addr) public onlyPermits{\r\n    require(_addr != msg.sender);\r\n    permits[_addr] = false;\r\n    emit RemovePermit(_addr);\r\n  }\r\n  \r\n\r\n\r\n}\r\n\r\n\r\ncontract ERC20 {\r\n\r\n      function balanceOf(address tokenOwner) public view returns (uint256 balance);\r\n      function transfer(address to, uint256 tokens) public returns (bool success);\r\n      function transferFrom(address from, address to, uint256 tokens) public returns (bool success);\r\n      function decimals() public view returns(uint256);\r\n      function intTransfer(address _from, address _to, uint256 _amount) public returns(bool);\r\n }\r\n \r\ncontract SZOReward{\r\n      function getReward(address _contract,address _wallet) public view returns(uint256);\r\n      \r\n}\r\n \r\ncontract DepoPOOL{\r\n      function balance(address _addr) public view returns(uint256);\r\n      function getInterestProfit(address _addr) public view returns(uint256); \r\n      function totalSupply() public view returns(uint256);\r\n      function totalBorrow() public view returns(uint256);\r\n      function loanBalance() public view returns(uint256);\r\n      \r\n}\r\n \r\n contract S1TokenTools is Permissions{\r\n     uint256 public version = 1;\r\n     mapping(address=>bool) disToken;\r\n     address[] public allowTokens;\r\n     \r\n     mapping(address=>bool) disPools;\r\n     address[] public allowPools;\r\n     \r\n     SZOReward szoReward;\r\n     \r\n     // All are Goerli\r\n     constructor() public{\r\n        allowTokens.push(0xd80BcbbEeFE8225224Eeb71f4EDb99e64cCC9c99); // szDAI\r\n        allowTokens.push(0xA298508BaBF033f69B33f4d44b5241258344A91e); // szUSDT\r\n        allowTokens.push(0x55b123B169400Da201Dd69814BAe2B8C2660c2Bf); // szUSDC\r\n        \r\n        allowPools.push(0xE29659A35260B87264eBf1155dD03B7DE17d9B26); // Pool Dai\r\n        allowPools.push(0x1C69D1829A5970d85bCe8dD4A4f7f568DB492c81); // Pool USDT\r\n        allowPools.push(0x93347FFA6020a3904790220E84f38594F35bac7D); // Pool USDC\r\n        \r\n        szoReward = SZOReward(0xD6f46bCA110bb74A4A121cd24DfD629145f2DbF8);\r\n     }\r\n     \r\n     function addAllowToken(address _addr) public onlyPermits returns(bool){\r\n         allowTokens.push(_addr);\r\n         return true;\r\n     }\r\n     \r\n     function addAllowPool(address _addr) public onlyPermits returns(bool){\r\n         allowPools.push(_addr);\r\n         return true;\r\n     }\r\n\r\n     function setDisableToken(address _addr,bool _set) public onlyPermits returns(bool){\r\n         disToken[_addr] = _set;\r\n         return true;\r\n     }\r\n\r\n     function setDisablePool(address _addr,bool _set) public onlyPermits returns(bool){\r\n         disPools[_addr] = _set;\r\n         return true;\r\n     }\r\n     \r\n     function balanceOfSZ(address _addr) public view returns(uint256){\r\n         uint256 sumBalance;\r\n         for(uint256 i=0;i<allowTokens.length;i++){\r\n             if(disToken[allowTokens[i]] == false){\r\n                 sumBalance += ERC20(allowTokens[i]).balanceOf(_addr);\r\n             }\r\n         }\r\n         return  sumBalance;\r\n     }\r\n     \r\n     function summaryDepositPool(address _addr) public view returns(uint256){\r\n         uint256 sumDeposti;\r\n\r\n         for(uint256 i=0;i<allowPools.length;i++){\r\n            if(disPools[allowPools[i]] == false){\r\n                 sumDeposti += DepoPOOL(allowPools[i]).balance(_addr);\r\n             }\r\n         }\r\n         return sumDeposti;\r\n     }\r\n     \r\n     function summaryInterest(address _addr) public view returns(uint256){\r\n         uint256 sumDeposti;\r\n\r\n         for(uint256 i=0;i<allowPools.length;i++){\r\n            if(disPools[allowPools[i]] == false){\r\n                 sumDeposti += DepoPOOL(allowPools[i]).getInterestProfit(_addr);\r\n             }\r\n         }\r\n         \r\n         return sumDeposti;\r\n     }\r\n     \r\n     function summaryAllPools(address _addr) public view returns(uint256){\r\n         uint256 allSum;\r\n         allSum = summaryDepositPool(_addr);\r\n         allSum += summaryInterest(_addr);\r\n         \r\n         return allSum;\r\n     }\r\n     \r\n     function summarySZOReward(address _addr) public view returns(uint256){\r\n         uint256 sumBalance;\r\n         for(uint256 i=0;i<allowPools.length;i++){\r\n             if(disPools[allowPools[i]] == false){\r\n                 sumBalance += szoReward.getReward(allowPools[i],_addr);\r\n             }\r\n         }\r\n         \r\n         return sumBalance;\r\n     }\r\n     \r\n     \r\n     function summaryTotalDeposit() public view returns(uint256){\r\n         uint256 totalDeposit;\r\n         for(uint256 i=0;i<allowPools.length;i++){\r\n             if(disPools[allowPools[i]] == false){\r\n                 totalDeposit += DepoPOOL(allowPools[i]).totalSupply();\r\n             }\r\n         }\r\n         \r\n         return totalDeposit;\r\n     }\r\n \r\n     function summaryTotalBorrow() public view returns(uint256){\r\n         uint256 totalBorrow;\r\n         for(uint256 i=0;i<allowPools.length;i++){\r\n             if(disPools[allowPools[i]] == false){\r\n                 totalBorrow += DepoPOOL(allowPools[i]).totalBorrow();\r\n             }\r\n         }\r\n         return totalBorrow;\r\n     }\r\n     \r\n     function summaryAvaliable() public view returns(uint256){\r\n         uint256 sum;\r\n         for(uint256 i=0;i<allowPools.length;i++){\r\n             if(disPools[allowPools[i]] == false){\r\n                 sum += DepoPOOL(allowPools[i]).loanBalance();\r\n             }\r\n         }\r\n         return sum;\r\n     \r\n     }\r\n     \r\n     \r\n }","ABI":"[{\"inputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"address\",\"name\":\"_addr\",\"type\":\"address\"}],\"name\":\"AddPermit\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"address\",\"name\":\"_addr\",\"type\":\"address\"}],\"name\":\"RemovePermit\",\"type\":\"event\"},{\"constant\":false,\"inputs\":[{\"internalType\":\"address\",\"name\":\"_addr\",\"type\":\"address\"}],\"name\":\"addAllowPool\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"internalType\":\"address\",\"name\":\"_addr\",\"type\":\"address\"}],\"name\":\"addAllowToken\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"internalType\":\"address\",\"name\":\"_addr\",\"type\":\"address\"}],\"name\":\"addPermit\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"allowPools\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"allowTokens\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"internalType\":\"address\",\"name\":\"_addr\",\"type\":\"address\"}],\"name\":\"balanceOfSZ\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"internalType\":\"address\",\"name\":\"_addr\",\"type\":\"address\"}],\"name\":\"isPermit\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"name\":\"permits\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"internalType\":\"address\",\"name\":\"_addr\",\"type\":\"address\"}],\"name\":\"removePermit\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"internalType\":\"address\",\"name\":\"_addr\",\"type\":\"address\"},{\"internalType\":\"bool\",\"name\":\"_set\",\"type\":\"bool\"}],\"name\":\"setDisablePool\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"internalType\":\"address\",\"name\":\"_addr\",\"type\":\"address\"},{\"internalType\":\"bool\",\"name\":\"_set\",\"type\":\"bool\"}],\"name\":\"setDisableToken\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"internalType\":\"address\",\"name\":\"_addr\",\"type\":\"address\"}],\"name\":\"summaryAllPools\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"summaryAvaliable\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"internalType\":\"address\",\"name\":\"_addr\",\"type\":\"address\"}],\"name\":\"summaryDepositPool\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"internalType\":\"address\",\"name\":\"_addr\",\"type\":\"address\"}],\"name\":\"summaryInterest\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"internalType\":\"address\",\"name\":\"_addr\",\"type\":\"address\"}],\"name\":\"summarySZOReward\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"summaryTotalBorrow\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"summaryTotalDeposit\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"version\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"}]","ContractName":"S1TokenTools","CompilerVersion":"v0.5.17+commit.d19bba13","OptimizationUsed":"1","Runs":"200","ConstructorArguments":"","EVMVersion":"Default","Library":"","LicenseType":"None","Proxy":"0","Implementation":"","SwarmSource":"bzzr://ad382843242e4d0b76d62f4835ccc70f427b376793aede4fb31fb5f46e67ebdc"}]}