{"status":"1","message":"OK","result":[{"SourceCode":"pragma solidity >=0.4.23 <0.6.0;\r\n\r\ninterface UmiTokenInterface {\r\n    function putIntoBlacklist(address _addr) external;\r\n\r\n    function removeFromBlacklist(address _addr) external;\r\n\r\n    function inBlacklist(address _addr) external view returns (bool);\r\n\r\n    function transfer(address to, uint256 value) external returns (bool);\r\n\r\n    function mint(address account, uint256 amount) external returns (bool);\r\n\r\n    function balanceOf(address account) external view returns (uint256);\r\n}\r\n\r\ninterface UniSageInterface {\r\n    function isUserExists(address user) external view returns (bool);\r\n}\r\n\r\ncontract UMIChrismas {\r\n    address owner;\r\n\r\n    //mainnet\r\n    address public umiTokenAddr = 0xf61DdA9A827cff208b6242FCF72AD1bB2006A995;\r\n    //goerli\r\n    // address public umiTokenAddr = 0x3B4005397f57804BEbFAf5B0aFA3B2DD13CD7F0F; \r\n    UmiTokenInterface public umiToken = UmiTokenInterface(umiTokenAddr);\r\n\r\n    //mainnet\r\n    address public unisageAddr = 0xd4845cBc79acE2cc6E48C8671a5860FfAB920bC2;\r\n    //goerli\r\n    // address public unisageAddr = 0xf61DdA9A827cff208b6242FCF72AD1bB2006A995;\r\n    \r\n    UniSageInterface public unisage = UniSageInterface(unisageAddr);\r\n\r\n    //switch\r\n    bool public open = true;\r\n\r\n    //total airdrop\r\n    uint256 public totalAirdropAmount = 100000000000000000000000;\r\n    //single address can receive amount\r\n    uint256 public singleAirdropAmount = 100000000000000000000;\r\n    //referrer address can receive amount\r\n    uint256 public singleAirdropAmountForReferrer = 0;\r\n\r\n    //statics\r\n    uint256 public hasAirdropAmount = 0;\r\n\r\n    //\r\n    mapping(address => bool) public successList;\r\n\r\n    //event list\r\n    event chrismasAirdropEvent(address indexed userAddr, uint256 airdropAmount);\r\n\r\n    constructor() public {\r\n        owner = msg.sender;\r\n    }\r\n\r\n    ////////////////////////////////////////////////////////////////////////////////\r\n    //user operation\r\n\r\n    function isUserJoined(address user) public view returns (bool) {\r\n        return successList[user];\r\n    }\r\n\r\n    function getChrismasAirdrop() external {\r\n        //condition 1, switch is open\r\n        require(open, \"umi chrismas has been closed\");\r\n\r\n        //condition 2, not in umi blacklist\r\n        bool isInblacklist = umiToken.inBlacklist(msg.sender);\r\n        require(!isInblacklist, \"address is in blacklist\");\r\n\r\n        //condition 3 , not registered\r\n        bool isRegisterd = unisage.isUserExists(msg.sender);\r\n        require(!isRegisterd, \"address is exsits\");\r\n\r\n        //condition 4, not joined before\r\n        bool isJoined = isUserJoined(msg.sender);\r\n        require(!isJoined, \"address has been join already\");\r\n\r\n        //condition 5, the remain airdrop amount is enough\r\n        require(\r\n            hasAirdropAmount + singleAirdropAmount <= totalAirdropAmount,\r\n            \"the remain airdrop amount is not enough\"\r\n        );\r\n\r\n        //transfer\r\n        umiToken.transfer(msg.sender,singleAirdropAmount);\r\n        umiToken.putIntoBlacklist(msg.sender);\r\n\r\n        hasAirdropAmount = hasAirdropAmount + singleAirdropAmount;\r\n\r\n        //record\r\n        successList[msg.sender] = true;\r\n\r\n        emit chrismasAirdropEvent(msg.sender, singleAirdropAmount);\r\n    }\r\n\r\n    ////////////////////////////////////////////////////////////////////////////////\r\n    // owner operation\r\n    function refreshOpen(bool _open) external {\r\n        require(msg.sender == owner, \"only owner can do this operation\");\r\n        open = _open;\r\n    }\r\n\r\n    function changeTotalAirdropAmount(uint256 amount) external {\r\n        require(msg.sender == owner, \"only owner can do this operation\");\r\n        totalAirdropAmount = amount;\r\n    }\r\n\r\n    function changeSingleAirdropAmount(uint256 amount) external {\r\n        require(msg.sender == owner, \"only owner can do this operation\");\r\n        singleAirdropAmount = amount;\r\n    }\r\n\r\n    function changeSingleAirdropAmountForReferrer(uint256 amount) external {\r\n        require(msg.sender == owner, \"only owner can do this operation\");\r\n        singleAirdropAmountForReferrer = amount;\r\n    }\r\n\r\n    function changeUmiTokenAddr(address _addr) external {\r\n        require(msg.sender == owner, \"only owner can do this operation\");\r\n        umiTokenAddr = _addr;\r\n        umiToken = UmiTokenInterface(umiTokenAddr);\r\n    }\r\n\r\n    function changeUnisageAddr(address _addr) external {\r\n        require(msg.sender == owner, \"only owner can do this operation\");\r\n        unisageAddr = _addr;\r\n        unisage = UniSageInterface(unisageAddr);\r\n    }\r\n}","ABI":"[{\"inputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"userAddr\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"airdropAmount\",\"type\":\"uint256\"}],\"name\":\"chrismasAirdropEvent\",\"type\":\"event\"},{\"constant\":false,\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"changeSingleAirdropAmount\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"changeSingleAirdropAmountForReferrer\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"changeTotalAirdropAmount\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"internalType\":\"address\",\"name\":\"_addr\",\"type\":\"address\"}],\"name\":\"changeUmiTokenAddr\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"internalType\":\"address\",\"name\":\"_addr\",\"type\":\"address\"}],\"name\":\"changeUnisageAddr\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[],\"name\":\"getChrismasAirdrop\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"hasAirdropAmount\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"}],\"name\":\"isUserJoined\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"open\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"internalType\":\"bool\",\"name\":\"_open\",\"type\":\"bool\"}],\"name\":\"refreshOpen\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"singleAirdropAmount\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"singleAirdropAmountForReferrer\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"name\":\"successList\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"totalAirdropAmount\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"umiToken\",\"outputs\":[{\"internalType\":\"contract UmiTokenInterface\",\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"umiTokenAddr\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"unisage\",\"outputs\":[{\"internalType\":\"contract UniSageInterface\",\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"unisageAddr\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"}]","ContractName":"UMIChrismas","CompilerVersion":"v0.5.17+commit.d19bba13","OptimizationUsed":"1","Runs":"200","ConstructorArguments":"","EVMVersion":"Default","Library":"","LicenseType":"None","Proxy":"0","Implementation":"","SwarmSource":"bzzr://2321c7760ec0b2cfba224befd219901640873169a8e780a3ecb20588f4e4e3df"}]}