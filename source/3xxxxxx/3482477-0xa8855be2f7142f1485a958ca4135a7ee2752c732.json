{"status":"1","message":"OK","result":[{"SourceCode":"//! Fundraiser contract. Just records who sent what.\r\n//! By Parity Technologies, 2017.\r\n//! Released under the Apache Licence 2.\r\n//! Modified by the Interchain Foundation.\r\n\r\npragma solidity ^0.4.8;\r\n\r\n/// Will accept Ether \"contributions\" and record each both as a log and in a\r\n/// queryable record.\r\ncontract Fundraiser {\r\n\r\n\r\n    // How much is enough?\r\n    uint public constant dust = 1 finney; // XXX: change for production\r\n\r\n\r\n    // Special addresses: \r\n    //  administrator can halt/unhalt/kill/adjustRate;\r\n    //  treasury receives all the funds\r\n    address public admin;\r\n    address public treasury;\r\n\r\n    // Begin and end block for the fundraising period\r\n    uint public beginBlock;\r\n    uint public endBlock;\r\n\r\n    // Number of wei per atom\r\n    uint public weiPerAtom; \r\n\r\n    // Are contributions abnormally halted?\r\n    bool public isHalted = false;\r\n\r\n    // The `record` mapping maps cosmos addresses to the amount of atoms.\r\n    mapping (address => uint) public record;\r\n\r\n    // The total amount of ether raised\r\n    uint public totalWei = 0;\r\n    // The total amount of atoms suggested for allocation\r\n    uint public totalAtom = 0;\r\n    // The number of donation\r\n    uint public numDonations = 0;\r\n\r\n    /// Constructor. `_admin` has the ability to pause the\r\n    /// contribution period and, eventually, kill this contract. `_treasury`\r\n    /// receives all funds. `_beginBlock` and `_endBlock` define the begin and\r\n    /// end of the period. `_weiPerAtom` is the ratio of atoms to ether.\r\n    function Fundraiser(address _admin, address _treasury, uint _beginBlock, uint _endBlock, uint _weiPerAtom) {\r\n        admin = _admin;\r\n        treasury = _treasury;\r\n        beginBlock = _beginBlock;\r\n        endBlock = _endBlock;\r\n\tweiPerAtom = _weiPerAtom;\r\n    }\r\n\r\n    // Can only be called by _admin.\r\n    modifier only_admin { if (msg.sender != admin) throw; _; }\r\n    // Can only be called by prior to the period.\r\n    modifier only_before_period { if (block.number >= beginBlock) throw; _; }\r\n    // Can only be called during the period when not halted.\r\n    modifier only_during_period { if (block.number < beginBlock || block.number >= endBlock || isHalted) throw; _; }\r\n    // Can only be called during the period when halted.\r\n    modifier only_during_halted_period { if (block.number < beginBlock || block.number >= endBlock || !isHalted) throw; _; }\r\n    // Can only be called after the period.\r\n    modifier only_after_period { if (block.number < endBlock) throw; _; }\r\n    // The value of the message must be sufficiently large to not be considered dust.\r\n    modifier is_not_dust { if (msg.value < dust) throw; _; }\r\n\r\n    /// Some contribution `amount` received from `recipient` at rate of `currentRate` with emergency return of `returnAddr`.\r\n    event Received(address indexed recipient, address returnAddr, uint amount, uint currentRate);\r\n    /// Period halted abnormally.\r\n    event Halted();\r\n    /// Period restarted after abnormal halt.\r\n    event Unhalted();\r\n\r\n    // Is the fundraiser active?\r\n    function isActive() constant returns (bool active) {\r\n\treturn (block.number >= beginBlock && block.number < endBlock && !isHalted);\r\n    }\r\n\r\n    /// Receive a contribution for a donor cosmos address.\r\n    function donate(address _donor, address _returnAddress, bytes4 checksum) payable only_during_period is_not_dust {\r\n\t// checksum is the first 4 bytes of the sha3 of the xor of the bytes32 versions of the cosmos address and the return address\r\n\tif ( !( bytes4(sha3( bytes32(_donor)^bytes32(_returnAddress) )) == checksum )) throw;\r\n\r\n\t// forward the funds to the treasurer\r\n        if (!treasury.send(msg.value)) throw;\r\n\r\n\t// calculate the number of atoms at the current rate\r\n\tvar atoms = msg.value / weiPerAtom;\r\n\r\n\t// update the donor details\r\n        record[_donor] += atoms;\r\n\r\n\t// update the totals\r\n        totalWei += msg.value;\r\n\ttotalAtom += atoms;\r\n\tnumDonations += 1;\r\n\r\n        Received(_donor, _returnAddress, msg.value, weiPerAtom);\r\n    }\r\n\r\n    /// Adjust the weiPerAtom\r\n    function adjustRate(uint newRate) only_admin {\r\n\tweiPerAtom = newRate;\r\n    }\r\n\r\n    /// Halt the contribution period. Any attempt at contributing will fail.\r\n    function halt() only_admin only_during_period {\r\n        isHalted = true;\r\n        Halted();\r\n    }\r\n\r\n    /// Unhalt the contribution period.\r\n    function unhalt() only_admin only_during_halted_period {\r\n        isHalted = false;\r\n        Unhalted();\r\n    }\r\n\r\n    /// Kill this contract.\r\n    function kill() only_admin only_after_period {\r\n        suicide(treasury);\r\n    }\r\n}","ABI":"[{\"constant\":true,\"inputs\":[],\"name\":\"endBlock\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_donor\",\"type\":\"address\"},{\"name\":\"_returnAddress\",\"type\":\"address\"},{\"name\":\"checksum\",\"type\":\"bytes4\"}],\"name\":\"donate\",\"outputs\":[],\"payable\":true,\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"isActive\",\"outputs\":[{\"name\":\"active\",\"type\":\"bool\"}],\"payable\":false,\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"\",\"type\":\"address\"}],\"name\":\"record\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"type\":\"function\"},{\"constant\":false,\"inputs\":[],\"name\":\"kill\",\"outputs\":[],\"payable\":false,\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"newRate\",\"type\":\"uint256\"}],\"name\":\"adjustRate\",\"outputs\":[],\"payable\":false,\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"weiPerAtom\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"numDonations\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"type\":\"function\"},{\"constant\":false,\"inputs\":[],\"name\":\"halt\",\"outputs\":[],\"payable\":false,\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"totalAtom\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"treasury\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"totalWei\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"beginBlock\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"isHalted\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"type\":\"function\"},{\"constant\":false,\"inputs\":[],\"name\":\"unhalt\",\"outputs\":[],\"payable\":false,\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"admin\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"dust\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"type\":\"function\"},{\"inputs\":[{\"name\":\"_admin\",\"type\":\"address\"},{\"name\":\"_treasury\",\"type\":\"address\"},{\"name\":\"_beginBlock\",\"type\":\"uint256\"},{\"name\":\"_endBlock\",\"type\":\"uint256\"},{\"name\":\"_weiPerAtom\",\"type\":\"uint256\"}],\"payable\":false,\"type\":\"constructor\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"name\":\"recipient\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"returnAddr\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"amount\",\"type\":\"uint256\"},{\"indexed\":false,\"name\":\"currentRate\",\"type\":\"uint256\"}],\"name\":\"Received\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[],\"name\":\"Halted\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[],\"name\":\"Unhalted\",\"type\":\"event\"}]","ContractName":"Fundraiser","CompilerVersion":"v0.4.10+commit.f0d539ae","OptimizationUsed":"1","Runs":"200","ConstructorArguments":"000000000000000000000000bd26b72fb6cbe250178a0e37fab067781a051550000000000000000000000000e825363f3bedabc95b2a9d42dbc73ec7b82b57d3000000000000000000000000000000000000000000000000000000000035234800000000000000000000000000000000000000000000000000000000003671080000000000000000000000000000000000000000000000000008431a9cf74d65","Library":"","SwarmSource":"bzzr://877b87fe2630cd84e9d445270bbdd9c640bcb9e75425fbd17c9c99b6550966a3"}]}