{"status":"1","message":"OK","result":[{"SourceCode":"/*\r\n * Ownable\r\n *\r\n * Base contract with an owner.\r\n * Provides onlyOwner modifier, which prevents function from running if it is called by anyone other than the owner.\r\n */\r\ncontract Ownable {\r\n  address public owner;\r\n\r\n  function Ownable() {\r\n    owner = msg.sender;\r\n  }\r\n\r\n  modifier onlyOwner() {\r\n    if (msg.sender != owner) {\r\n      throw;\r\n    }\r\n    _;\r\n  }\r\n\r\n  function transferOwnership(address newOwner) onlyOwner {\r\n    if (newOwner != address(0)) {\r\n      owner = newOwner;\r\n    }\r\n  }\r\n\r\n}\r\n\r\n\r\n/*\r\n * Haltable\r\n *\r\n * Abstract contract that allows children to implement an\r\n * emergency stop mechanism. Differs from Pausable by causing a throw\r\n * instead of return when in halt mode.\r\n *\r\n *\r\n * Originally envisioned in FirstBlood ICO contract.\r\n */\r\ncontract Haltable is Ownable {\r\n  bool public halted;\r\n\r\n  modifier stopInEmergency {\r\n    if (halted) throw;\r\n    _;\r\n  }\r\n\r\n  modifier onlyInEmergency {\r\n    if (!halted) throw;\r\n    _;\r\n  }\r\n\r\n  // called by the owner on emergency, triggers stopped state\r\n  function halt() external onlyOwner {\r\n    halted = true;\r\n  }\r\n\r\n  // called by the owner on end of emergency, returns to normal state\r\n  function unhalt() external onlyOwner onlyInEmergency {\r\n    halted = false;\r\n  }\r\n\r\n}\r\n\r\n\r\n\r\n/**\r\n * Math operations with safety checks\r\n */\r\ncontract SafeMath {\r\n  function safeMul(uint a, uint b) internal returns (uint) {\r\n    uint c = a * b;\r\n    assert(a == 0 || c / a == b);\r\n    return c;\r\n  }\r\n\r\n  function safeDiv(uint a, uint b) internal returns (uint) {\r\n    assert(b > 0);\r\n    uint c = a / b;\r\n    assert(a == b * c + a % b);\r\n    return c;\r\n  }\r\n\r\n  function safeSub(uint a, uint b) internal returns (uint) {\r\n    assert(b <= a);\r\n    return a - b;\r\n  }\r\n\r\n  function safeAdd(uint a, uint b) internal returns (uint) {\r\n    uint c = a + b;\r\n    assert(c>=a && c>=b);\r\n    return c;\r\n  }\r\n\r\n  function max64(uint64 a, uint64 b) internal constant returns (uint64) {\r\n    return a >= b ? a : b;\r\n  }\r\n\r\n  function min64(uint64 a, uint64 b) internal constant returns (uint64) {\r\n    return a < b ? a : b;\r\n  }\r\n\r\n  function max256(uint256 a, uint256 b) internal constant returns (uint256) {\r\n    return a >= b ? a : b;\r\n  }\r\n\r\n  function min256(uint256 a, uint256 b) internal constant returns (uint256) {\r\n    return a < b ? a : b;\r\n  }\r\n\r\n  function assert(bool assertion) internal {\r\n    if (!assertion) {\r\n      throw;\r\n    }\r\n  }\r\n}\r\n\r\n\r\n\r\n/**\r\n * Forward Ethereum payments to another wallet and track them with an event.\r\n *\r\n * Allows to identify customers who made Ethereum payment for a central token issuance.\r\n * Furthermore allow making a payment on behalf of another address.\r\n *\r\n * Allow pausing to signal the end of the crowdsale.\r\n */\r\ncontract PaymentForwarder is Haltable, SafeMath {\r\n\r\n  /** Who will get all ETH in the end */\r\n  address public teamMultisig;\r\n\r\n  /** Total incoming money */\r\n  uint public totalTransferred;\r\n\r\n  /** How many distinct customers we have that have made a payment */\r\n  uint public customerCount;\r\n\r\n  /** Total incoming money per centrally tracked customer id */\r\n  mapping(uint128 => uint) public paymentsByCustomer;\r\n\r\n  /** Total incoming money per benefactor address */\r\n  mapping(address => uint) public paymentsByBenefactor;\r\n\r\n  /** A customer has made a payment. Benefactor is the address where the tokens will be ultimately issued.*/\r\n  event PaymentForwarded(address source, uint amount, uint128 customerId, address benefactor);\r\n\r\n  /**\r\n   * @param _teamMultisig Team multisig receives the deposited payments.\r\n   *\r\n   * @param _owner Owner is able to pause and resume crowdsale\r\n   */\r\n  function PaymentForwarder(address _owner, address _teamMultisig) {\r\n    teamMultisig = _teamMultisig;\r\n    owner = _owner;\r\n  }\r\n\r\n  /**\r\n   * Pay on a behalf of an address.\r\n   *\r\n   * We log the payment event, so that the server can keep tally of the invested amounts\r\n   * and token receivers.\r\n   *\r\n   * The actual payment is forwarded to the team multisig.\r\n   *\r\n   * @param customerId Identifier in the central database, UUID v4 - this is used to note customer by email\r\n   *\r\n   */\r\n  function pay(uint128 customerId, address benefactor) public stopInEmergency payable {\r\n\r\n    uint weiAmount = msg.value;\r\n\r\n    if(weiAmount == 0) {\r\n      throw; // No invalid payments\r\n    }\r\n\r\n    if(customerId == 0) {\r\n      throw; // We require to record customer id for the server side processing\r\n    }\r\n\r\n    if(benefactor == 0) {\r\n      throw; // Bad payment address\r\n    }\r\n\r\n    PaymentForwarded(msg.sender, weiAmount, customerId, benefactor);\r\n\r\n    totalTransferred = safeAdd(totalTransferred, weiAmount);\r\n\r\n    if(paymentsByCustomer[customerId] == 0) {\r\n      customerCount++;\r\n    }\r\n\r\n    paymentsByCustomer[customerId] = safeAdd(paymentsByCustomer[customerId], weiAmount);\r\n\r\n    // We track benefactor addresses for extra safety;\r\n    // In the case of central ETH issuance tracking has problems we can\r\n    // construct ETH contributions solely based on blockchain data\r\n    paymentsByBenefactor[benefactor] = safeAdd(paymentsByBenefactor[benefactor], weiAmount);\r\n\r\n    // May run out of gas\r\n    if(!teamMultisig.send(weiAmount)) throw;\r\n  }\r\n\r\n  /**\r\n   * Pay on a behalf of the sender.\r\n   *\r\n   * @param customerId Identifier in the central database, UUID v4\r\n   *\r\n   */\r\n  function payForMyself(uint128 customerId) public payable {\r\n    pay(customerId, msg.sender);\r\n  }\r\n\r\n}","ABI":"[{\"constant\":false,\"inputs\":[{\"name\":\"customerId\",\"type\":\"uint128\"}],\"name\":\"payForMyself\",\"outputs\":[],\"payable\":true,\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"customerId\",\"type\":\"uint128\"},{\"name\":\"benefactor\",\"type\":\"address\"}],\"name\":\"pay\",\"outputs\":[],\"payable\":true,\"type\":\"function\"},{\"constant\":false,\"inputs\":[],\"name\":\"halt\",\"outputs\":[],\"payable\":false,\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"owner\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"customerCount\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"totalTransferred\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"halted\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"type\":\"function\"},{\"constant\":false,\"inputs\":[],\"name\":\"unhalt\",\"outputs\":[],\"payable\":false,\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"teamMultisig\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"\",\"type\":\"address\"}],\"name\":\"paymentsByBenefactor\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"newOwner\",\"type\":\"address\"}],\"name\":\"transferOwnership\",\"outputs\":[],\"payable\":false,\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"\",\"type\":\"uint128\"}],\"name\":\"paymentsByCustomer\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"type\":\"function\"},{\"inputs\":[{\"name\":\"_owner\",\"type\":\"address\"},{\"name\":\"_teamMultisig\",\"type\":\"address\"}],\"payable\":false,\"type\":\"constructor\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"name\":\"source\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"amount\",\"type\":\"uint256\"},{\"indexed\":false,\"name\":\"customerId\",\"type\":\"uint128\"},{\"indexed\":false,\"name\":\"benefactor\",\"type\":\"address\"}],\"name\":\"PaymentForwarded\",\"type\":\"event\"}]","ContractName":"PaymentForwarder","CompilerVersion":"v0.4.8+commit.60cc1668","OptimizationUsed":"1","Runs":"200","ConstructorArguments":"000000000000000000000000a33516e6f64c6c2869dff6744953a472cd60c8f6000000000000000000000000a33516e6f64c6c2869dff6744953a472cd60c8f6","Library":"","SwarmSource":"bzzr://d4c66eb397b054b543cb6465b777494930d764646b9eba8eb2229f907bcec212"}]}